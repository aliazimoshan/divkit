/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/components/Root.svelte":
/*!************************************!*\
  !*** ./src/components/Root.svelte ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utilities_RootSvgFilters_svelte__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./utilities/RootSvgFilters.svelte */ "./src/components/utilities/RootSvgFilters.svelte");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_applyTemplate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/applyTemplate */ "./src/utils/applyTemplate.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_simpleCheckInput__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../utils/simpleCheckInput */ "./src/utils/simpleCheckInput.ts");
/* harmony import */ var _context_action__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../context/action */ "./src/context/action.ts");
/* harmony import */ var _context_state__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../context/state */ "./src/context/state.ts");
/* harmony import */ var _utils_constStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/constStore */ "./src/utils/constStore.ts");
/* harmony import */ var _expressions_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../expressions/json */ "./src/expressions/json.ts");
/* harmony import */ var _stores__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../stores */ "./src/stores/index.ts");
/* harmony import */ var _expressions_eval__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../expressions/eval */ "./src/expressions/eval.ts");
/* harmony import */ var _expressions_expressions__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../expressions/expressions */ "./src/expressions/expressions.js");
/* harmony import */ var _expressions_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../expressions/utils */ "./src/expressions/utils.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../expressions/variable */ "./src/expressions/variable.ts");
/* harmony import */ var _expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../expressions/globalVariablesController */ "./src/expressions/globalVariablesController.ts");
/* harmony import */ var _utils_url__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/url */ "./src/utils/url.ts");
/* harmony import */ var _utils_timers__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/timers */ "./src/utils/timers.ts");
/* harmony import */ var _actions_array__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../actions/array */ "./src/actions/array.ts");
/* harmony import */ var _actions_copyToClipboard__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../actions/copyToClipboard */ "./src/actions/copyToClipboard.ts");
/* harmony import */ var _utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/filterEnabledActions */ "./src/utils/filterEnabledActions.ts");
/* harmony import */ var _tooltip_Tooltip_svelte__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./tooltip/Tooltip.svelte */ "./src/components/tooltip/Tooltip.svelte");
/* harmony import */ var _menu_Menu_svelte__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./menu/Menu.svelte */ "./src/components/menu/Menu.svelte");
/* src\components\Root.svelte generated by Svelte v4.2.0 */





























var _a, _b, _c, _d;
let isPointerFocus = (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.writable)(true);
let rootInstancesCount = 0;
function onWindowKeyDown() {
  isPointerFocus.set(false);
}
function onWindowPointerDown() {
  isPointerFocus.set(true);
}
const AVAIL_SET_STORED_TYPES = new Set(['string', 'integer', 'number', 'url', 'color', 'boolean']);
function mergeVars(variables0, variables1) {
  if (variables0 && variables1) {
    return new Map([...variables0, ...variables1]);
  } else if (variables0) {
    return variables0;
  } else if (variables1) {
    return variables1;
  }
  return undefined;
}

/**
 * Fix for the :active pseudo-class on iOS
 */
// eslint-disable-next-line @typescript-eslint/no-empty-function
function emptyTouchstartHandler() {}
const Root = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let templates;
  let states;
  let $isDesktop, $$unsubscribe_isDesktop;
  let $directionStore, $$unsubscribe_directionStore;
  var _a, _b, _c, _d;
  let {
    id
  } = $$props;
  let {
    json = {}
  } = $$props;
  let {
    platform = 'auto'
  } = $$props;
  let {
    theme = 'system'
  } = $$props;
  let {
    globalVariablesController = new _expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_3__.GlobalVariablesController()
  } = $$props;
  let {
    mix = ''
  } = $$props;
  let {
    customization = {}
  } = $$props;
  let {
    builtinProtocols = ['http', 'https', 'tel', 'mailto', 'intent']
  } = $$props;
  let {
    extensions = new Map()
  } = $$props;
  let {
    onError = undefined
  } = $$props;
  let {
    onStat = undefined
  } = $$props;
  let {
    onCustomAction = undefined
  } = $$props;
  let {
    onComponent = undefined
  } = $$props;
  let {
    typefaceProvider = _fontFamily => ''
  } = $$props;
  let {
    fetchInit = {}
  } = $$props;
  let {
    tooltipRoot = undefined
  } = $$props;
  let {
    customComponents = undefined
  } = $$props;
  let {
    direction = 'ltr'
  } = $$props;
  let {
    store = undefined
  } = $$props;
  let isDesktop = (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.writable)(platform === 'desktop');
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(isDesktop, 'isDesktop');
  $$unsubscribe_isDesktop = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(isDesktop, value => $isDesktop = value);
  if (platform === 'auto' && typeof matchMedia !== 'undefined') {
    const touchQuery = matchMedia('(any-pointer: coarse)');
    isDesktop.set(!touchQuery.matches);
    touchQuery.addListener(() => {
      isDesktop.set(!touchQuery.matches);
    });
  }
  let currentTheme = 'light';
  let themeQuery = null;
  const directionStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.writable)(direction === 'rtl' ? 'rtl' : 'ltr');
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(directionStore, 'directionStore');
  $$unsubscribe_directionStore = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(directionStore, value => $directionStore = value);
  function themeQueryListener() {
    if (theme !== 'system' || !themeQuery) {
      return;
    }
    currentTheme = themeQuery.matches ? 'dark' : 'light';
  }
  function setTheme(newTheme) {
    theme = newTheme;
  }
  function getDebugVariables() {
    if (true) {
      return new Map();
    }
    return localVariables;
  }
  function getDebugAllVariables() {
    if (true) {
      return new Map();
    }
    return variables;
  }
  function setData(newJson) {
    json = newJson;
  }
  const builtinSet = new Set(builtinProtocols);
  let hasError = false;
  let hsaIdError = false;
  if (!id) {
    hsaIdError = true;
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('"id" prop is required')));
  }
  const running = {
    stateChange: false
  };

  // Will notify about new global variables
  const globalVariablesStore = (0,_expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_3__.getControllerStore)(globalVariablesController);

  // Global variables only
  const globalVariables = (0,_expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_3__.getControllerVars)(globalVariablesController);

  // Local variables only
  const localVariables = new Map();

  // Local and global variables combined, with local in precedence
  const variables = new Map();

  // Stores for notify unset global variables
  const awaitingGlobalVariables = new Map();
  let timersController = null;
  let tooltipCounter = 0;
  let tooltips = [];
  let menu;
  const timeouts = [];
  function getCustomization(prop) {
    return customization === null || customization === void 0 ? void 0 : customization[prop];
  }
  function getDerivedFromVars(logError, jsonProp, additionalVars, keepComplex = false) {
    if (!jsonProp) {
      return (0,_utils_constStore__WEBPACK_IMPORTED_MODULE_5__.constStore)(jsonProp);
    }
    const vars = mergeVars(variables, additionalVars);
    const prepared = (0,_expressions_json__WEBPACK_IMPORTED_MODULE_6__.prepareVars)(jsonProp, logError, store);
    if (!prepared.vars.length) {
      if (prepared.hasExpression) {
        return (0,_utils_constStore__WEBPACK_IMPORTED_MODULE_5__.constStore)(prepared.applyVars(vars));
      }
      return (0,_utils_constStore__WEBPACK_IMPORTED_MODULE_5__.constStore)(jsonProp);
    }
    const stores = prepared.vars.map(name => {
      return vars.get(name) || awaitVariableChanges(name);
    }).filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_7__.Truthy);
    return (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.derived)(stores, () => prepared.applyVars(vars, keepComplex));
  }
  function getJsonWithVars(logError, jsonProp, additionalVars, keepComplex = false) {
    const prepared = (0,_expressions_json__WEBPACK_IMPORTED_MODULE_6__.prepareVars)(jsonProp, logError, store);
    if (!prepared.hasExpression) {
      return jsonProp;
    }
    const vars = mergeVars(variables, additionalVars);
    return prepared.applyVars(vars, keepComplex);
  }
  function preparePrototypeVariables(name, data) {
    const map = new Map();
    const dict = (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_8__.createConstVariable)(name, 'dict', data);
    map.set(name, dict);
    return map;
  }
  function logError(error) {
    if (onError) {
      onError({
        error
      });
    } else if ((error === null || error === void 0 ? void 0 : error.level) === 'warn') {
      console.warn(error);
    } else {
      console.error(error);
    }
  }
  function logStat(type, action) {
    if (onStat) {
      onStat({
        type,
        action
      });
    }
  }
  function hasTemplate(templateName) {
    return templateName in templates;
  }
  function processTemplate(json, templateContext) {
    if (!json) {
      return {
        json,
        templateContext
      };
    }
    const usedTypes = new Set([json.type]);
    while (json.type && json.type in templates) {
      ({
        json,
        templateContext
      } = (0,_utils_applyTemplate__WEBPACK_IMPORTED_MODULE_9__.applyTemplate)(json, templateContext, templates, logError));
      if (usedTypes.has(json.type)) {
        return {
          json,
          templateContext
        };
      }
      usedTypes.add(json.type);
    }
    return {
      json,
      templateContext
    };
  }
  function componentDevtoolReal({
    type,
    node,
    json,
    origJson,
    templateContext
  }) {
    if (onComponent) {
      onComponent({
        type,
        node,
        json,
        origJson,
        templateContext
      });
    }
  }
  let idCounter = 0;
  function genId(key) {
    if (false) {}
    return `${id}-${key}-${idCounter++}`;
  }
  function genClass(key) {
    return `divkit-${genId(key)}`;
  }
  let svgFiltersMap = {};
  let svgFilterUsages = {};
  function addSvgFilter(color, mode) {
    const key = `${color}:${mode}`;
    svgFilterUsages[key] = svgFilterUsages[key] || 0;
    ++svgFilterUsages[key];
    if (svgFiltersMap[key]) {
      return svgFiltersMap[key];
    }
    const filterId = `${genId('root')}-svg-filter`;
    svgFiltersMap = Object.assign(Object.assign({}, svgFiltersMap), {
      [key]: filterId
    });
    return filterId;
  }
  function removeSvgFilter(color, mode) {
    if (!color) {
      return;
    }
    const key = `${color}:${mode}`;
    if (!svgFilterUsages[key]) {
      return;
    }
    if (--svgFilterUsages[key] === 0) {
      svgFiltersMap = Object.keys(svgFiltersMap).reduce((acc, item) => {
        if (svgFilterUsages[item]) {
          acc[item] = svgFiltersMap[item];
        }
        return acc;
      }, {});
    }
  }
  async function setState(stateId) {
    if (false) {}
    if (!stateId) {
      throw new Error('Missing state id');
    }
    let state = stateInterface;
    let parts = stateId.split('/');
    parts = ['root', ...parts];
    if (parts.length < 2 || parts.length % 2 !== 0) {
      throw new Error('Incorrect state id format');
    }
    for (let i = 0; i < parts.length; i += 2) {
      const divId = parts[i];
      const selectedStateId = parts[i + 1];
      let childState = state.getChild(divId);
      if (childState) {
        await childState.setState(selectedStateId);
        state = childState;
      } else {
        return;
      }
    }
  }
  function switchElementAction(type, id, {
    item,
    step,
    overflow
  }) {
    var _a, _b, _c, _d, _e;
    if (!id) {
      throw new Error(`Missing id for "${type}" action`);
    }
    const itemVal = Number(item);
    if (type === 'set_current_item' && Number.isNaN(itemVal)) {
      throw new Error(`Incorrect item for "${type}" action`);
    }
    let stepVal = Number(step);
    if (!step && (type === 'set_previous_item' || type === 'set_next_item')) {
      stepVal = 1;
    }
    if (!step && (type === 'scroll_backward' || type === 'scroll_forward' || type === 'scroll_to_position') || Number.isNaN(stepVal)) {
      throw new Error(`Incorrect step value for "${type}" action`);
    }
    if (overflow && overflow !== 'clamp' && overflow !== 'ring') {
      throw new Error(`Incorrect overflow value for "${type}" action`);
    }
    overflow = overflow || 'clamp';
    const instance = getInstance(id);
    if (!instance) {
      return;
    }
    switch (type) {
      case 'set_current_item':
        instance.setCurrentItem(itemVal);
        return;
      case 'set_previous_item':
        instance.setPreviousItem(stepVal, overflow);
        return;
      case 'set_next_item':
        instance.setNextItem(stepVal, overflow);
        return;
      case 'scroll_to_start':
        (_a = instance.scrollToStart) === null || _a === void 0 ? void 0 : _a.call(instance);
        return;
      case 'scroll_to_end':
        (_b = instance.scrollToEnd) === null || _b === void 0 ? void 0 : _b.call(instance);
        return;
      case 'scroll_backward':
        (_c = instance.scrollBackward) === null || _c === void 0 ? void 0 : _c.call(instance, stepVal, overflow);
        return;
      case 'scroll_forward':
        (_d = instance.scrollForward) === null || _d === void 0 ? void 0 : _d.call(instance, stepVal, overflow);
        return;
      case 'scroll_to_position':
        (_e = instance.scrollToPosition) === null || _e === void 0 ? void 0 : _e.call(instance, stepVal);
        return;
    }
  }
  function callVideoAction(id, action, componentContext) {
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (id) {
      const instance = getInstance(id);
      if (instance) {
        if (action === 'start') {
          instance.start();
        } else if (action === 'pause') {
          instance.pause();
        } else {
          log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Unknown video action'), {
            additional: {
              id,
              action
            }
          }));
        }
      } else {
        log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Video component is not found'), {
          additional: {
            id,
            action
          }
        }));
      }
    } else {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing id in video action'), {
        additional: {
          action
        }
      }));
    }
  }
  function callDownloadAction(url, action, componentContext) {
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (url) {
      let init;
      if (typeof fetchInit === 'function') {
        init = fetchInit(url);
      } else {
        init = fetchInit;
      }
      fetch(url, init).then(res => {
        if (!res.ok) {
          throw new Error('Response is not ok');
        }
        return res.json();
      }).then(json => {
        var _a, _b, _c;
        if (!json) {
          log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect patch'), {
            additional: {
              url
            }
          }));
          return;
        }
        if (json.templates) {
          for (const name in json.templates) {
            if (!templates.hasOwnProperty(name)) {
              templates[name] = json.templates[name];
            }
          }
        }
        if (Array.isArray((_a = json.patch) === null || _a === void 0 ? void 0 : _a.changes)) {
          if (json.patch.mode === 'transactional') {
            const failed = json.patch.changes.find(change => {
              const methods = parentOfMap.get(change.id);
              if (!methods) {
                return true;
              }
              const newItemsLen = Array.isArray(change.items) ? change.items.length : 0;
              if (methods.isSingleMode && newItemsLen !== 1) {
                return true;
              }
              return false;
            });
            if (failed) {
              log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Skipping transactional, child is not found or broken'), {
                additional: {
                  url,
                  id: failed.id
                }
              }));
              execAnyActions((_b = action.download_callbacks) === null || _b === void 0 ? void 0 : _b.on_fail_actions);
              return;
            }
          }
          json.patch.changes.forEach(change => {
            const methods = parentOfMap.get(change.id);
            if (methods) {
              methods.replaceWith(change.id, change.items);
            }
          });
          execAnyActions((_c = action.download_callbacks) === null || _c === void 0 ? void 0 : _c.on_success_actions);
        }
      }).catch(err => {
        var _a;
        log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Failed to download the patch'), {
          additional: {
            url,
            originalError: err
          }
        }));
        execAnyActions((_a = action.download_callbacks) === null || _a === void 0 ? void 0 : _a.on_fail_actions);
      });
    } else {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing url in download action'), {
        additional: {
          url
        }
      }));
    }
  }
  function callShowTooltip(id, multiple, componentContext) {
    var _a;
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (!id) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing id in show_tooltip action')));
      return;
    }
    const item = tooltipMap.get(id);
    if (!item) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Tooltip with the provided id is not found'), {
        additional: {
          id
        }
      }));
      return;
    }
    if (multiple !== 'true' && tooltips.some(it => it.desc.id === id)) {
      return;
    }
    const info = {
      internalId: ++tooltipCounter,
      ownerNode: item.onwerNode,
      desc: item.tooltip,
      timeoutId: 0
    };
    tooltips = [...tooltips, info];
    const duration = (_a = item.tooltip.duration) !== null && _a !== void 0 ? _a : 5000;
    if (duration) {
      info.timeoutId = window.setTimeout(() => {
        info.timeoutId = 0;
        tooltips = tooltips.filter(it => it.internalId !== info.internalId);
      }, duration);
    }
  }
  function callHideTooltip(id, componentContext) {
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (!id) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing id in hide_tooltip action')));
      return;
    }
    tooltips = tooltips.filter(it => {
      const res = it.desc.id !== id;
      if (!res && it.timeoutId) {
        clearTimeout(it.timeoutId);
        it.timeoutId = null;
      }
      return res;
    });
  }
  function callSetStoredValue(componentContext, name, value, type, lifetime) {
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (!store) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Store is not configured')));
      return;
    }
    let val = value;
    if (!name || !val || !type || !lifetime) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing required params for set_stored_value')));
      return;
    }
    if (!AVAIL_SET_STORED_TYPES.has(type)) {
      log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect stored type')));
      return;
    }
    if (type === 'integer' || type === 'number') {
      val = Number(val);
    } else if (type === 'boolean') {
      val = val === 'true';
    }
    store.setValue(name, type, val, Number(lifetime));
  }
  function execAction(action) {
    execActionInternal(getJsonWithVars(logError, action));
  }
  async function execActionInternal(action, componentContext) {
    const actionUrl = action.url ? String(action.url) : '';
    const actionTyped = action.typed;
    if (!(0,_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_10__.filterEnabledActions)(action)) {
      return;
    }
    const log = (componentContext === null || componentContext === void 0 ? void 0 : componentContext.logError) || logError;
    if (actionUrl) {
      try {
        const url = actionUrl.replace(/div-action:\/\//, '');
        const parts = /([^?]+)\?(.+)/.exec(url);
        if (!parts) {
          return;
        }
        const params = new URLSearchParams(parts[2]);
        switch (parts[1]) {
          case 'set_state':
            await setState(params.get('state_id'));
            break;
          case 'set_current_item':
          case 'set_previous_item':
          case 'set_next_item':
          case 'scroll_to_start':
          case 'scroll_to_end':
          case 'scroll_backward':
          case 'scroll_forward':
          case 'scroll_to_position':
            switchElementAction(parts[1], params.get('id'), {
              item: params.get('item'),
              step: params.get('step'),
              overflow: params.get('overflow')
            });
            break;
          case 'set_variable':
            const name = params.get('name');
            const value = params.get('value');
            if (name && value !== null) {
              const variableInstance = variables.get(name);
              if (variableInstance) {
                const type = variableInstance.getType();
                if (type === 'dict' || type === 'array') {
                  log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error(`Setting ${type} variables is not supported`), {
                    additional: {
                      name
                    }
                  }));
                } else {
                  variableInstance.set(value);
                }
              } else {
                log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Cannot find variable'), {
                  additional: {
                    name
                  }
                }));
              }
            } else {
              log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect set_variable_action'), {
                additional: {
                  url
                }
              }));
            }
            break;
          case 'timer':
            const timerAction = params.get('action');
            const id = params.get('id');
            if (timersController) {
              timersController.execTimerAction(id, timerAction);
            } else {
              log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect timer action'), {
                additional: {
                  id,
                  action: timerAction
                }
              }));
            }
            break;
          case 'video':
            callVideoAction(params.get('id'), params.get('action'), componentContext);
            break;
          case 'download':
            callDownloadAction(params.get('url'), action, componentContext);
            break;
          case 'show_tooltip':
            callShowTooltip(params.get('id'), params.get('multiple'), componentContext);
            break;
          case 'hide_tooltip':
            callHideTooltip(params.get('id'), componentContext);
            break;
          case 'set_stored_value':
            {
              callSetStoredValue(componentContext, params.get('name'), params.get('value'), params.get('type'), params.get('lifetime'));
              break;
            }
          default:
            log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Unknown type of action'), {
              additional: {
                url: actionUrl
              }
            }));
        }
      } catch (err) {
        log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(err, {
          additional: {
            url: actionUrl
          }
        }));
      }
    } else if (actionTyped) {
      switch (actionTyped.type) {
        case 'set_variable':
          {
            const {
              variable_name: name,
              value
            } = actionTyped;
            if (name && value) {
              const variableInstance = variables.get(name);
              if (variableInstance) {
                const type = variableInstance.getType();
                if (type === value.type) {
                  variableInstance.setValue(value.value);
                } else {
                  log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Trying to set value with invalid type'), {
                    additional: {
                      name,
                      type: value.type
                    }
                  }));
                }
              } else {
                log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Cannot find variable'), {
                  additional: {
                    name
                  }
                }));
              }
            } else {
              log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect set_variable action'), {
                additional: {
                  name
                }
              }));
            }
            break;
          }
        case 'array_insert_value':
          (0,_actions_array__WEBPACK_IMPORTED_MODULE_11__.arrayInsert)(variables, log, actionTyped);
          break;
        case 'array_remove_value':
          (0,_actions_array__WEBPACK_IMPORTED_MODULE_11__.arrayRemove)(variables, log, actionTyped);
          break;
        case 'copy_to_clipboard':
          (0,_actions_copyToClipboard__WEBPACK_IMPORTED_MODULE_12__.copyToClipboard)(log, actionTyped);
          break;
        case 'focus_element':
          {
            const methods = actionTyped.element_id && focusableMap.get(actionTyped.element_id);
            if (methods) {
              methods.focus();
            } else {
              log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Incorrect focus_element action'), {
                additional: {
                  elementId: actionTyped.element_id
                }
              }));
            }
            break;
          }
        case 'clear_focus':
          {
            try {
              if (document.activeElement instanceof HTMLElement) {
                document.activeElement.blur();
              }
            } catch (err) {} // do nothing

            break;
          }
        default:
          {
            log((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Unknown type of action'), {
              additional: {
                type: actionTyped.type
              }
            }));
          }
      }
    }
  }
  async function execAnyActions(actions, opts = {}) {
    if (!actions || !Array.isArray(actions)) {
      return;
    }
    const filtered = actions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_10__.filterEnabledActions);
    for (let i = 0; i < filtered.length; ++i) {
      let action = filtered[i];
      const actionUrl = action.url;
      const actionTyped = action.typed;
      if (actionUrl) {
        const schema = (0,_utils_url__WEBPACK_IMPORTED_MODULE_13__.getUrlSchema)(actionUrl);
        if (schema) {
          if ((0,_utils_url__WEBPACK_IMPORTED_MODULE_13__.isBuiltinSchema)(schema, builtinSet)) {
            if (opts.processUrls) {
              if (action.target === '_blank') {
                const win = window.open('', '_blank');
                if (win) {
                  win.opener = null;
                  win.location = actionUrl;
                }
              } else {
                location.href = actionUrl;
              }
            }
          } else if (schema === 'div-action') {
            await execActionInternal(action, opts.componentContext);
            await (0,svelte__WEBPACK_IMPORTED_MODULE_2__.tick)();
          } else if (action.log_id) {
            execCustomAction(action);
            await (0,svelte__WEBPACK_IMPORTED_MODULE_2__.tick)();
          }
        }
      } else if (actionTyped) {
        await execActionInternal(action, opts.componentContext);
      } else if (opts.node && Array.isArray(action.menu_items) && action.menu_items.length) {
        menu = {
          items: action.menu_items,
          node: opts.node
        };
      }
    }
    filtered.forEach(action => {
      if (action.log_id) {
        logStat('click', action);
      }
    });
  }
  function execCustomAction(action) {
    onCustomAction === null || onCustomAction === void 0 ? void 0 : onCustomAction(action);
  }
  function isRunning(type) {
    return running[type];
  }
  function setRunning(type, val) {
    running[type] = val;
  }
  const instancesMap = new Map();
  const parentOfMap = new Map();
  const focusableMap = new Map();
  const tooltipMap = new Map();
  function registerInstance(id, block) {
    if (instancesMap.has(id)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Duplicate instance id'), {
        additional: {
          id
        }
      }));
      return;
    }
    instancesMap.set(id, block);
  }
  function unregisterInstance(id) {
    instancesMap.delete(id);
  }
  function getInstance(id) {
    if (!instancesMap.has(id)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing instance with id'), {
        additional: {
          id
        }
      }));
      return;
    }
    return instancesMap.get(id);
  }
  function registerParentOf(id, methods) {
    parentOfMap.set(id, methods);
  }
  function unregisterParentOf(id) {
    parentOfMap.delete(id);
  }
  function registerFocusable(id, methods) {
    focusableMap.set(id, methods);
  }
  function unregisterFocusable(id) {
    focusableMap.delete(id);
  }
  function registerTooltip(onwerNode, tooltip) {
    const id = tooltip.id;
    if (!id) {
      return;
    }
    if (tooltipMap.has(id)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Duplicate tooltip id'), {
        additional: {
          id
        }
      }));
    }
    tooltipMap.set(id, {
      onwerNode,
      tooltip
    });
  }
  function unregisterTooltip(tooltip) {
    const id = tooltip.id;
    if (!id) {
      return;
    }
    tooltipMap.delete(id);
    if (tooltips.some(it => it.desc.id === id)) {
      tooltips = tooltips.filter(it => it.desc.id !== id);
    }
  }
  const stores = new Map();
  function setStore(id) {
    if (stores.has(id)) {
      return;
    }
    stores.set(id, _stores__WEBPACK_IMPORTED_MODULE_14__.storesMap[id]());
  }
  function getStore(id) {
    if (!stores.has(id)) {
      setStore(id);
    }
    return stores.get(id);
  }
  function awaitVariableChanges(variableName) {
    const store = awaitingGlobalVariables.get(variableName) || (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.writable)(undefined);
    if (!awaitingGlobalVariables.has(variableName)) {
      awaitingGlobalVariables.set(variableName, store);
    }
    return store;
  }
  function updateTheme() {
    if (!palette) {
      return;
    }
    const list = palette[currentTheme];
    list.forEach(item => {
      const varInstance = variables.get(item.name);
      if (varInstance) {
        varInstance.setValue(item.color);
      }
    });
  }
  function getBuiltinProtocols() {
    return builtinSet;
  }
  function getExtension(id, params) {
    const Builder = extensions.get(id);
    if (Builder) {
      return new Builder(params || {});
    }
  }
  function getExtensionContext() {
    return {
      variables,
      logError
    };
  }
  function produceComponentContext(from) {
    const res = {
      json: {},
      path: [],
      templateContext: {},
      logError(error) {
        error.additional = error.additional || {};
        error.additional.path = res.path.join('/');
        if (false) {}
        logError(error);
      },
      execAnyActions(actions, opts = {}) {
        return execAnyActions(actions, {
          componentContext: res,
          processUrls: opts.processUrls,
          node: opts.node
        });
      },
      getDerivedFromVars(jsonProp, additionalVars, keepComplex = false) {
        return getDerivedFromVars(res.logError, jsonProp, mergeVars(res.variables, additionalVars), keepComplex);
      },
      getJsonWithVars(jsonProp, additionalVars, keepComplex = false) {
        return getJsonWithVars(res.logError, jsonProp, mergeVars(res.variables, additionalVars), keepComplex);
      },
      produceChildContext(div, opts = {}) {
        const componentContext = produceComponentContext(res);
        let childJson = div;
        let childContext = res.templateContext;
        const {
          templateContext: childProcessedContext,
          json: childProcessedJson
        } = processTemplate(childJson, childContext);
        componentContext.json = childProcessedJson;
        componentContext.templateContext = childProcessedContext;
        componentContext.origJson = div;
        if (opts.path !== undefined) {
          componentContext.path.push( /*  && !res.isRootState */String(opts.path));
        }
        if (div.type && !opts.isRootState) {
          componentContext.path.push(div.type);
        }
        componentContext.variables = mergeVars(res.variables, opts.variables);
        if (opts.fake) {
          componentContext.fakeElement = true;
        }
        if (opts.isRootState) {
          componentContext.isRootState = true;
        }
        return componentContext;
      },
      getVariable(varName, type) {
        const variable = (res.variables || variables).get(varName);
        if (variable) {
          const foundType = variable.getType();
          if (foundType !== type) {
            res.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error(`Variable should have type "${type}"`), {
              additional: {
                name: varName,
                foundType
              }
            }));
            return;
          }
        }
        return variable;
      }
    };
    if (from) {
      res.parent = from;
      res.path = from.path.slice();
      if (from.fakeElement) {
        res.fakeElement = true;
      }
    } else {
      res.json = {
        type: 'root'
      };
      res.isRootState = true;
    }
    return res;
  }
  function registerTimeout(timeout) {
    timeouts.push(timeout);
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_2__.setContext)(_context_root__WEBPACK_IMPORTED_MODULE_15__.ROOT_CTX, {
    logStat,
    hasTemplate,
    processTemplate,
    genId,
    genClass,
    execAction: execActionInternal,
    execCustomAction,
    isRunning,
    setRunning,
    registerInstance,
    unregisterInstance,
    registerParentOf,
    unregisterParentOf,
    registerTooltip,
    unregisterTooltip,
    onTooltipClose,
    tooltipRoot,
    registerFocusable,
    unregisterFocusable,
    addSvgFilter,
    removeSvgFilter,
    preparePrototypeVariables,
    getStore,
    getCustomization,
    getBuiltinProtocols,
    getExtension,
    getExtensionContext,
    registerTimeout,
    typefaceProvider,
    isDesktop,
    isPointerFocus,
    customComponents,
    direction: directionStore,
    componentDevtool:  false ? 0 : undefined
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_2__.setContext)(_context_action__WEBPACK_IMPORTED_MODULE_16__.ACTION_CTX, {
    hasAction() {
      return false;
    }
  });
  const stateInterface = {
    setState(_stateId) {
      throw new Error('Not implemented');
    },
    getChild(id) {
      if (childStateMap && childStateMap.has(id)) {
        return childStateMap.get(id);
      }
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing state block with id'), {
        additional: {
          id
        }
      }));
      return undefined;
    }
  };
  let childStateMap = null;
  (0,svelte__WEBPACK_IMPORTED_MODULE_2__.setContext)(_context_state__WEBPACK_IMPORTED_MODULE_17__.STATE_CTX, {
    registerInstance(id, block) {
      if (!childStateMap) {
        childStateMap = new Map();
      }
      if (childStateMap.has(id)) {
        logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Duplicate state with id'), {
          additional: {
            id
          }
        }));
      } else {
        childStateMap.set(id, block);
      }
    },
    unregisterInstance(id) {
      childStateMap === null || childStateMap === void 0 ? void 0 : childStateMap.delete(id);
    },
    runVisibilityTransition(_json, _componentContext, _transitions, _node, _direction) {
      return Promise.resolve();
    },
    registerChildWithTransitionIn(_json, _componentContext, _transitions, _node) {
      return Promise.resolve();
    },
    registerChildWithTransitionOut(_json, _componentContext, _transitions, _node) {
      return Promise.resolve();
    },
    registerChildWithTransitionChange(_json, _componentContext, _transitions, _node) {
      return Promise.resolve();
    },
    hasTransitionChange(_id) {
      return false;
    },
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    registerChild(_id) {},
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    unregisterChild(_id) {}
  });
  function hasVariableWithType(name, type) {
    const instance = variables.get(name);
    return (instance === null || instance === void 0 ? void 0 : instance.getType()) === type;
  }
  function setVariableValue(name, value) {
    const variableInstance = variables.get(name);
    if (variableInstance) {
      variableInstance.setValue(value);
    } else {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Cannot find variable'), {
        additional: {
          name
        }
      }));
    }
  }
  function declVariable(variable) {
    if (!(variable.type in _expressions_variable__WEBPACK_IMPORTED_MODULE_8__.TYPE_TO_CLASS)) {
      // Skip unknown types (from the future versions maybe)
      return;
    }
    if (variable.type === 'integer' && typeof variable.value === 'number' && (variable.value > Number.MAX_SAFE_INTEGER || variable.value < Number.MIN_SAFE_INTEGER)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('The value of the integer variable could lose accuracy'), {
        level: 'warn',
        additional: {
          name: variable.name,
          value: variable.value
        }
      }));
    }
    try {
      const varInstance = (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_8__.createVariable)(variable.name, variable.type, variable.value);
      localVariables.set(variable.name, varInstance);
      variables.set(variable.name, varInstance);
    } catch (err) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(err, {
        additional: {
          name: variable.name
        }
      }));
    }
  }
  const startVariables = (_a = json === null || json === void 0 ? void 0 : json.card) === null || _a === void 0 ? void 0 : _a.variables;
  if (Array.isArray(startVariables)) {
    startVariables.forEach(variable => {
      if (variable && variable.name) {
        if (localVariables.has(variable.name)) {
          logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Duplicate variable'), {
            additional: {
              name: variable.name
            }
          }));
          return;
        }
        declVariable(variable);
      }
    });
  }
  const palette = json.palette;
  if (palette) {
    const list = palette[currentTheme];
    list.forEach(item => {
      if (localVariables.has(item.name)) {
        logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Duplicate variable'), {
          additional: {
            name: item.name
          }
        }));
        return;
      }
      try {
        const varInstance = (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_8__.createVariable)(item.name, 'color', item.color);
        localVariables.set(item.name, varInstance);
        variables.set(item.name, varInstance);
      } catch (err) {
        logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(err, {
          additional: {
            name: item.name
          }
        }));
      }
    });
  }
  for (const [varName, variable] of globalVariables) {
    if (!variables.has(varName)) {
      variables.set(varName, variable);
    }
  }
  globalVariablesStore.subscribe(newVarName => {
    if (newVarName && !variables.has(newVarName)) {
      const varInstance = globalVariables.get(newVarName);
      variables.set(newVarName, varInstance);
      const awaitingStore = awaitingGlobalVariables.get(newVarName);
      if (awaitingStore) {
        let counter = 0;
        varInstance.subscribe(() => {
          awaitingStore.set(++counter);
        });
      }
    }
  });
  const initVariableTriggers = () => {
    var _a;
    const variableTriggers = (_a = json === null || json === void 0 ? void 0 : json.card) === null || _a === void 0 ? void 0 : _a.variable_triggers;
    if (Array.isArray(variableTriggers)) {
      if (true) {
        variableTriggers.forEach(trigger => {
          let prevConditionResult = false;
          if (typeof trigger.condition !== 'string') {
            logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('variable_trigger has a condition that is not a string'), {
              additional: {
                condition: trigger.condition
              }
            }));
            return;
          }
          const mode = trigger.mode || 'on_condition';
          if (mode !== 'on_variable' && mode !== 'on_condition') {
            logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('variable_trigger has an unsupported mode'), {
              additional: {
                mode
              }
            }));
            return;
          }
          try {
            const ast = (0,_expressions_expressions__WEBPACK_IMPORTED_MODULE_18__.parse)(trigger.condition, {
              startRule: 'JsonStringContents'
            });
            const exprVars = (0,_expressions_utils__WEBPACK_IMPORTED_MODULE_19__.gatherVarsFromAst)(ast);
            if (!exprVars.length) {
              logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('variable_trigger must have variables in the condition'), {
                additional: {
                  condition: trigger.condition
                }
              }));
              return;
            }
            const stores = exprVars.map(name => variables.get(name) || awaitVariableChanges(name));
            (0,svelte_store__WEBPACK_IMPORTED_MODULE_1__.derived)(stores, () => {
              const res = (0,_expressions_eval__WEBPACK_IMPORTED_MODULE_20__.evalExpression)(variables, store, ast);
              res.warnings.forEach(logError);
              return res.result;
            }).subscribe(async conditionResult => {
              if (conditionResult.type === 'error') {
                logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('variable_trigger condition execution error'), {
                  additional: {
                    message: conditionResult.value
                  }
                }));
                return;
              }
              if (
              // if condition is truthy
              conditionResult.value && (
              // and trigger mode matches
              mode === 'on_variable' || mode === 'on_condition' && prevConditionResult === false)) {
                const actionsToLog = [];
                for (const action of trigger.actions) {
                  const resultAction = getJsonWithVars(logError, action);
                  if (resultAction.log_id) {
                    await execActionInternal(resultAction);
                    actionsToLog.push(resultAction);
                  }
                }
                for (const action of actionsToLog) {
                  logStat('trigger', action);
                }
              }
              prevConditionResult = Boolean(conditionResult.value);
            });
          } catch (err) {
            logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Unable to parse variable_trigger'), {
              additional: {
                condition: trigger.condition
              }
            }));
          }
        });
      } else {}
    }
  };
  const timers = (_c = json === null || json === void 0 ? void 0 : json.card) === null || _c === void 0 ? void 0 : _c.timers;
  if (timers && typeof document !== 'undefined') {
    const controller = timersController = new _utils_timers__WEBPACK_IMPORTED_MODULE_21__.TimersController({
      logError,
      applyVars: json => getJsonWithVars(logError, json),
      hasVariableWithType,
      setVariableValue,
      execAnyActions
    });
    timers.forEach(timer => controller.createTimer(timer));
  }
  const rootComponentContext = produceComponentContext();
  let rootStateComponentContext;
  function onTooltipClose(internalId) {
    tooltips = tooltips.filter(it => it.internalId !== internalId);
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_2__.onMount)(() => {
    rootInstancesCount++;
    if (rootInstancesCount === 1) {
      window.addEventListener('keydown', onWindowKeyDown);
      window.addEventListener('pointerdown', onWindowPointerDown);
    }
    initVariableTriggers();
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_2__.onDestroy)(() => {
    rootInstancesCount--;
    if (!rootInstancesCount) {
      window.removeEventListener('keydown', onWindowKeyDown);
      window.removeEventListener('pointerdown', onWindowPointerDown);
    }
    if (timersController) {
      timersController.destroy();
    }
    tooltips.forEach(info => {
      if (info.timeoutId) {
        clearTimeout(info.timeoutId);
        info.timeoutId = null;
      }
    });
    timeouts.forEach(timeout => {
      clearTimeout(timeout);
    });
  });
  if ($$props.id === void 0 && $$bindings.id && id !== void 0) $$bindings.id(id);
  if ($$props.json === void 0 && $$bindings.json && json !== void 0) $$bindings.json(json);
  if ($$props.platform === void 0 && $$bindings.platform && platform !== void 0) $$bindings.platform(platform);
  if ($$props.theme === void 0 && $$bindings.theme && theme !== void 0) $$bindings.theme(theme);
  if ($$props.globalVariablesController === void 0 && $$bindings.globalVariablesController && globalVariablesController !== void 0) $$bindings.globalVariablesController(globalVariablesController);
  if ($$props.mix === void 0 && $$bindings.mix && mix !== void 0) $$bindings.mix(mix);
  if ($$props.customization === void 0 && $$bindings.customization && customization !== void 0) $$bindings.customization(customization);
  if ($$props.builtinProtocols === void 0 && $$bindings.builtinProtocols && builtinProtocols !== void 0) $$bindings.builtinProtocols(builtinProtocols);
  if ($$props.extensions === void 0 && $$bindings.extensions && extensions !== void 0) $$bindings.extensions(extensions);
  if ($$props.onError === void 0 && $$bindings.onError && onError !== void 0) $$bindings.onError(onError);
  if ($$props.onStat === void 0 && $$bindings.onStat && onStat !== void 0) $$bindings.onStat(onStat);
  if ($$props.onCustomAction === void 0 && $$bindings.onCustomAction && onCustomAction !== void 0) $$bindings.onCustomAction(onCustomAction);
  if ($$props.onComponent === void 0 && $$bindings.onComponent && onComponent !== void 0) $$bindings.onComponent(onComponent);
  if ($$props.typefaceProvider === void 0 && $$bindings.typefaceProvider && typefaceProvider !== void 0) $$bindings.typefaceProvider(typefaceProvider);
  if ($$props.fetchInit === void 0 && $$bindings.fetchInit && fetchInit !== void 0) $$bindings.fetchInit(fetchInit);
  if ($$props.tooltipRoot === void 0 && $$bindings.tooltipRoot && tooltipRoot !== void 0) $$bindings.tooltipRoot(tooltipRoot);
  if ($$props.customComponents === void 0 && $$bindings.customComponents && customComponents !== void 0) $$bindings.customComponents(customComponents);
  if ($$props.direction === void 0 && $$bindings.direction && direction !== void 0) $$bindings.direction(direction);
  if ($$props.store === void 0 && $$bindings.store && store !== void 0) $$bindings.store(store);
  if ($$props.setTheme === void 0 && $$bindings.setTheme && setTheme !== void 0) $$bindings.setTheme(setTheme);
  if ($$props.getDebugVariables === void 0 && $$bindings.getDebugVariables && getDebugVariables !== void 0) $$bindings.getDebugVariables(getDebugVariables);
  if ($$props.getDebugAllVariables === void 0 && $$bindings.getDebugAllVariables && getDebugAllVariables !== void 0) $$bindings.getDebugAllVariables(getDebugAllVariables);
  if ($$props.setData === void 0 && $$bindings.setData && setData !== void 0) $$bindings.setData(setData);
  if ($$props.execAction === void 0 && $$bindings.execAction && execAction !== void 0) $$bindings.execAction(execAction);
  $: {
    if (theme === 'light' || theme === 'dark') {
      currentTheme = theme;
    } else if (theme === 'system') {
      if (typeof matchMedia !== 'undefined') {
        if (!themeQuery) {
          themeQuery = matchMedia('(prefers-color-scheme: dark)');
          themeQuery.addListener(themeQueryListener);
        }
        currentTheme = themeQuery.matches ? 'dark' : 'light';
      } else {
        currentTheme = 'light';
      }
    } else {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Unsupported theme')));
    }
  }
  $: {
    if (currentTheme) {
      updateTheme();
    }
  }
  $: {
    {
      hasError = false;
      const initialError = (0,_utils_simpleCheckInput__WEBPACK_IMPORTED_MODULE_22__.simpleCheckInput)(json);
      if (initialError) {
        hasError = true;
        logError(initialError);
      }
    }
  }
  templates = json.templates || {};
  $: {
    if (((_b = json === null || json === void 0 ? void 0 : json.card) === null || _b === void 0 ? void 0 : _b.variables) && Array.isArray(json.card.variables) && json.card.variables !== startVariables) {
      json.card.variables.forEach(variable => {
        if (variable && variable.name && !localVariables.has(variable.name)) {
          declVariable(variable);
        }
      });
    }
  }
  states = (_d = json === null || json === void 0 ? void 0 : json.card) === null || _d === void 0 ? void 0 : _d.states;
  $: {
    if (states && !hasError && !hsaIdError) {
      const rootStateDiv =  true ? {
        type: 'state',
        id: 'root',
        width: {
          type: 'match_parent'
        },
        height: {
          type: 'match_parent'
        },
        states: states.map(state => ({
          state_id: state.state_id.toString(),
          div: state.div
        }))
      } : 0;
      rootStateComponentContext = rootComponentContext.produceChildContext(rootStateDiv, {
        isRootState: true
      });
    }
  }
  $$unsubscribe_isDesktop();
  $$unsubscribe_directionStore();
  return `${!hasError && !hsaIdError && rootStateComponentContext ? `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Root_module_css__WEBPACK_IMPORTED_MODULE_23__["default"].root, true) + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($isDesktop ? ` ${_Root_module_css__WEBPACK_IMPORTED_MODULE_23__["default"].root_platform_desktop}` : '', true) + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(mix ? ` ${mix}` : '', true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("dir", $directionStore, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_RootSvgFilters_svelte__WEBPACK_IMPORTED_MODULE_24__["default"], "RootSvgFilters").$$render($$result, {
    svgFiltersMap
  }, {}, {})} ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_25__["default"], "Unknown").$$render($$result, {
    componentContext: rootStateComponentContext
  }, {}, {})} ${tooltips ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(tooltips, item => {
    return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_tooltip_Tooltip_svelte__WEBPACK_IMPORTED_MODULE_26__["default"], "TooltipView").$$render($$result, {
      ownerNode: item.ownerNode,
      data: item.desc,
      internalId: item.internalId,
      parentComponentContext: rootStateComponentContext
    }, {}, {})}`;
  })}` : ``} ${menu ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_menu_Menu_svelte__WEBPACK_IMPORTED_MODULE_27__["default"], "Menu").$$render($$result, {
    ownerNode: menu.node,
    items: menu.items,
    parentComponentContext: rootStateComponentContext
  }, {}, {})}` : ``}</div>` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Root);

/***/ }),

/***/ "./src/components/container/Container.svelte":
/*!***************************************************!*\
  !*** ./src/components/container/Container.svelte ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _Container_module_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Container.module.css */ "./src/components/container/Container.module.css");
/* harmony import */ var _utils_container__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/container */ "./src/utils/container.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_correctContainerOrientation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctContainerOrientation */ "./src/utils/correctContainerOrientation.ts");
/* harmony import */ var _utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/correctDrawableStyles */ "./src/utils/correctDrawableStyles.ts");
/* harmony import */ var _utils_hasGapSupport__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/hasGapSupport */ "./src/utils/hasGapSupport.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _ContainerSeparators_svelte__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ContainerSeparators.svelte */ "./src/components/container/ContainerSeparators.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utils_correctContentAlignmentVertical__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctContentAlignmentVertical */ "./src/utils/correctContentAlignmentVertical.ts");
/* harmony import */ var _utils_correctContentAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctContentAlignmentHorizontal */ "./src/utils/correctContentAlignmentHorizontal.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/assignIfDifferent */ "./src/utils/assignIfDifferent.ts");
/* src\components\container\Container.svelte generated by Svelte v4.2.0 */



















var _a, _b, _c, _d, _e, _f, _g;
const HALIGN_MAP = {
  start: 'start',
  center: 'center',
  end: 'end',
  // 'space-*' values doesn't supported for cross-axis in wrap-container
  'space-between': 'start',
  'space-around': 'start',
  'space-evenly': 'start'
};
const VALIGN_MAP = {
  start: 'start',
  center: 'center',
  end: 'end',
  baseline: 'baseline',
  // 'space-*' doesn't supported for cross-axis in wrap-container
  'space-between': 'start',
  'space-around': 'start',
  'space-evenly': 'start'
};
const AVAIL_SEPARATOR_SHAPES = ['rounded_rectangle', 'circle'];
const Container = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonItems;
  let jsonItemBuilderData;
  let jsonOrientation;
  let jsonLayoutMode;
  let jsonContentVAlign;
  let jsonContentHAlign;
  let jsonSeparator;
  let jsonLineSeparator;
  let jsonAspect;
  let jsonWidth;
  let jsonHeight;
  let jsonClipToBounds;
  let wrap;
  let hasKnownWidth;
  let hasKnownHeight;
  let additionalPaddings;
  let mods;
  let style;
  let $jsonClipToBounds,
    $$unsubscribe_jsonClipToBounds = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonClipToBounds = () => ($$unsubscribe_jsonClipToBounds(), $$unsubscribe_jsonClipToBounds = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonClipToBounds, $$value => $jsonClipToBounds = $$value), jsonClipToBounds);
  let $jsonWidth,
    $$unsubscribe_jsonWidth = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonWidth = () => ($$unsubscribe_jsonWidth(), $$unsubscribe_jsonWidth = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonWidth, $$value => $jsonWidth = $$value), jsonWidth);
  let $jsonHeight,
    $$unsubscribe_jsonHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHeight = () => ($$unsubscribe_jsonHeight(), $$unsubscribe_jsonHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHeight, $$value => $jsonHeight = $$value), jsonHeight);
  let $jsonAspect,
    $$unsubscribe_jsonAspect = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAspect = () => ($$unsubscribe_jsonAspect(), $$unsubscribe_jsonAspect = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAspect, $$value => $jsonAspect = $$value), jsonAspect);
  let $jsonLineSeparator,
    $$unsubscribe_jsonLineSeparator = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLineSeparator = () => ($$unsubscribe_jsonLineSeparator(), $$unsubscribe_jsonLineSeparator = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLineSeparator, $$value => $jsonLineSeparator = $$value), jsonLineSeparator);
  let $jsonSeparator,
    $$unsubscribe_jsonSeparator = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSeparator = () => ($$unsubscribe_jsonSeparator(), $$unsubscribe_jsonSeparator = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSeparator, $$value => $jsonSeparator = $$value), jsonSeparator);
  let $direction, $$unsubscribe_direction;
  let $jsonContentHAlign,
    $$unsubscribe_jsonContentHAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonContentHAlign = () => ($$unsubscribe_jsonContentHAlign(), $$unsubscribe_jsonContentHAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonContentHAlign, $$value => $jsonContentHAlign = $$value), jsonContentHAlign);
  let $jsonContentVAlign,
    $$unsubscribe_jsonContentVAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonContentVAlign = () => ($$unsubscribe_jsonContentVAlign(), $$unsubscribe_jsonContentVAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonContentVAlign, $$value => $jsonContentVAlign = $$value), jsonContentVAlign);
  let $childStore,
    $$unsubscribe_childStore = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_childStore = () => ($$unsubscribe_childStore(), $$unsubscribe_childStore = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(childStore, $$value => $childStore = $$value), childStore);
  let $jsonLayoutMode,
    $$unsubscribe_jsonLayoutMode = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLayoutMode = () => ($$unsubscribe_jsonLayoutMode(), $$unsubscribe_jsonLayoutMode = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLayoutMode, $$value => $jsonLayoutMode = $$value), jsonLayoutMode);
  let $jsonOrientation,
    $$unsubscribe_jsonOrientation = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonOrientation = () => ($$unsubscribe_jsonOrientation(), $$unsubscribe_jsonOrientation = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonOrientation, $$value => $jsonOrientation = $$value), jsonOrientation);
  let $jsonItemBuilderData,
    $$unsubscribe_jsonItemBuilderData = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonItemBuilderData = () => ($$unsubscribe_jsonItemBuilderData(), $$unsubscribe_jsonItemBuilderData = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonItemBuilderData, $$value => $jsonItemBuilderData = $$value), jsonItemBuilderData);
  var _a, _b, _c, _d, _e, _f, _g;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let childStore;
  let orientation = 'vertical';
  let contentVAlign = 'start';
  let contentHAlign = 'start';
  let separator = null;
  let lineSeparator = null;
  let aspect = undefined;
  let childLayoutParams = {};
  function rebind() {
    orientation = 'vertical';
    contentVAlign = 'start';
    contentHAlign = 'start';
    aspect = undefined;
  }
  function replaceItems(items) {
    componentContext = Object.assign(Object.assign({}, componentContext), {
      json: Object.assign(Object.assign({}, componentContext.json), {
        items: items.filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_4__.Truthy)
      })
    });
  }
  let items = [];
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  jsonItems = componentContext.json.items;
  $$subscribe_jsonItemBuilderData(jsonItemBuilderData = componentContext.getDerivedFromVars((_a = componentContext.json.item_builder) === null || _a === void 0 ? void 0 : _a.data, undefined, true));
  $$subscribe_jsonOrientation(jsonOrientation = componentContext.getDerivedFromVars(componentContext.json.orientation));
  $$subscribe_jsonLayoutMode(jsonLayoutMode = componentContext.getDerivedFromVars(componentContext.json.layout_mode));
  $$subscribe_jsonContentVAlign(jsonContentVAlign = componentContext.getDerivedFromVars(componentContext.json.content_alignment_vertical));
  $$subscribe_jsonContentHAlign(jsonContentHAlign = componentContext.getDerivedFromVars(componentContext.json.content_alignment_horizontal));
  $$subscribe_jsonSeparator(jsonSeparator = componentContext.getDerivedFromVars(componentContext.json.separator));
  $$subscribe_jsonLineSeparator(jsonLineSeparator = componentContext.getDerivedFromVars(componentContext.json.line_separator));
  $$subscribe_jsonAspect(jsonAspect = componentContext.getDerivedFromVars(componentContext.json.aspect));
  $$subscribe_jsonWidth(jsonWidth = componentContext.getDerivedFromVars(componentContext.json.width));
  $$subscribe_jsonHeight(jsonHeight = componentContext.getDerivedFromVars(componentContext.json.height));
  $$subscribe_jsonClipToBounds(jsonClipToBounds = componentContext.getDerivedFromVars(componentContext.json.clip_to_bounds));
  $: {
    {
      let newItems = [];
      if (componentContext.json.item_builder && Array.isArray($jsonItemBuilderData) && Array.isArray(componentContext.json.item_builder.prototypes)) {
        const builder = componentContext.json.item_builder;
        newItems = [];
        $jsonItemBuilderData.forEach(it => {
          if (it === null || typeof it !== 'object') {
            return;
          }
          const additionalVars = rootCtx.preparePrototypeVariables(builder.data_element_name || 'it', it);
          let div;
          for (let i = 0; i < builder.prototypes.length; ++i) {
            const prototype = builder.prototypes[i];
            if (!prototype.div) {
              continue;
            }
            if (prototype.selector === undefined) {
              div = prototype.div;
              break;
            }
            const selectorVal = componentContext.getJsonWithVars(prototype.selector, additionalVars);
            if (selectorVal) {
              div = prototype.div;
              break;
            }
          }
          if (div) {
            newItems.push({
              div,
              vars: additionalVars
            });
          }
        });
      } else {
        newItems = (Array.isArray(jsonItems) && jsonItems || []).map(it => {
          return {
            div: it
          };
        });
      }
      items = newItems.map((item, index) => {
        return componentContext.produceChildContext(item.div, {
          path: index,
          variables: item.vars
        });
      });
    }
  }
  $: {
    {
      let children = [];
      items.forEach(item => {
        children.push(componentContext.getDerivedFromVars({
          width: item.json.width,
          height: item.json.height
        }));
      });

      // Create a new array every time so it is not equal to the previous one
      $$subscribe_childStore(childStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_2__.derived)(children, val => [...val]));
    }
  }
  $: {
    {
      orientation = (0,_utils_correctContainerOrientation__WEBPACK_IMPORTED_MODULE_5__.correctContainerOrientation)($jsonOrientation, orientation);
    }
  }
  wrap = $jsonLayoutMode === 'wrap';
  hasKnownWidth = orientation !== 'horizontal' && !wrap && $childStore.some(_utils_container__WEBPACK_IMPORTED_MODULE_6__.hasKnownWidthCheck);
  hasKnownHeight = orientation !== 'vertical' && !wrap && $childStore.some(_utils_container__WEBPACK_IMPORTED_MODULE_6__.hasKnownHeightCheck);
  $: {
    {
      contentVAlign = (0,_utils_correctContentAlignmentVertical__WEBPACK_IMPORTED_MODULE_7__.correctContentAlignmentVertical)($jsonContentVAlign, contentVAlign);
    }
  }
  $: {
    {
      contentHAlign = (0,_utils_correctContentAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_8__.correctContentAlignmentHorizontal)($jsonContentHAlign, $direction, contentHAlign);
    }
  }
  $: {
    {
      if (($jsonSeparator === null || $jsonSeparator === void 0 ? void 0 : $jsonSeparator.style) && orientation !== 'overlap' && (0,_utils_hasGapSupport__WEBPACK_IMPORTED_MODULE_9__.hasGapSupport)()) {
        const style = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_10__.correctDrawableStyle)($jsonSeparator.style, AVAIL_SEPARATOR_SHAPES, (separator === null || separator === void 0 ? void 0 : separator.style) || null);
        if (style) {
          separator = {
            show_at_start: Boolean((_b = $jsonSeparator.show_at_start) !== null && _b !== void 0 ? _b : false),
            show_at_end: Boolean((_c = $jsonSeparator.show_at_end) !== null && _c !== void 0 ? _c : false),
            show_between: Boolean((_d = $jsonSeparator.show_between) !== null && _d !== void 0 ? _d : true),
            style,
            margins: (0,_utils_container__WEBPACK_IMPORTED_MODULE_6__.prepareMargins)($jsonSeparator.margins)
          };
        } else {
          separator = null;
        }
      } else {
        separator = null;
      }
    }
  }
  $: {
    {
      if (($jsonLineSeparator === null || $jsonLineSeparator === void 0 ? void 0 : $jsonLineSeparator.style) && orientation !== 'overlap' && (0,_utils_hasGapSupport__WEBPACK_IMPORTED_MODULE_9__.hasGapSupport)()) {
        const style = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_10__.correctDrawableStyle)($jsonLineSeparator.style, AVAIL_SEPARATOR_SHAPES, (lineSeparator === null || lineSeparator === void 0 ? void 0 : lineSeparator.style) || null);
        if (style) {
          lineSeparator = {
            show_at_start: Boolean((_e = $jsonLineSeparator.show_at_start) !== null && _e !== void 0 ? _e : false),
            show_at_end: Boolean((_f = $jsonLineSeparator.show_at_end) !== null && _f !== void 0 ? _f : false),
            show_between: Boolean((_g = $jsonLineSeparator.show_between) !== null && _g !== void 0 ? _g : true),
            style,
            margins: (0,_utils_container__WEBPACK_IMPORTED_MODULE_6__.prepareMargins)($jsonLineSeparator.margins)
          };
        } else {
          lineSeparator = null;
        }
      } else {
        lineSeparator = null;
      }
    }
  }
  additionalPaddings = separator || lineSeparator ? (0,_utils_container__WEBPACK_IMPORTED_MODULE_6__.calcAdditionalPaddings)(orientation, separator, lineSeparator) : null;
  $: {
    {
      const newRatio = $jsonAspect === null || $jsonAspect === void 0 ? void 0 : $jsonAspect.ratio;
      if (newRatio && (0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_11__.isPositiveNumber)(newRatio)) {
        aspect = newRatio;
      } else {
        aspect = undefined;
      }
    }
  }
  $: {
    {
      let newChildLayoutParams = {};
      if (orientation === 'overlap') {
        newChildLayoutParams.overlapParent = true;
      }
      if (orientation !== 'horizontal') {
        newChildLayoutParams.parentHAlign = wrap ? 'start' : HALIGN_MAP[contentHAlign];
      }
      if (orientation !== 'vertical') {
        newChildLayoutParams.parentVAlign = wrap ? 'start' : VALIGN_MAP[contentVAlign];
      }
      if (!aspect && !hasKnownHeight && (!$jsonHeight || $jsonHeight.type === 'wrap_content' || $jsonHeight.type === 'match_parent' && (layoutParams === null || layoutParams === void 0 ? void 0 : layoutParams.parentVerticalWrapContent))) {
        newChildLayoutParams.parentVerticalWrapContent = true;
      }
      if (!hasKnownWidth && (($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.type) === 'wrap_content' || ($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.type) === 'match_parent' && (layoutParams === null || layoutParams === void 0 ? void 0 : layoutParams.parentHorizontalWrapContent))) {
        newChildLayoutParams.parentHorizontalWrapContent = true;
      }
      if (orientation === 'horizontal') {
        newChildLayoutParams.parentContainerOrientation = 'horizontal';
      }
      if (orientation === 'vertical') {
        newChildLayoutParams.parentContainerOrientation = 'vertical';
      }
      if (wrap) {
        newChildLayoutParams.parentContainerWrap = true;
      }
      childLayoutParams = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_12__.assignIfDifferent)(newChildLayoutParams, childLayoutParams);
    }
  }
  mods = {
    orientation,
    valign: contentVAlign,
    halign: contentHAlign,
    wrap,
    overflow: $jsonClipToBounds === false || $jsonClipToBounds === 0 ? 'visible' : undefined
  };
  style = {
    gap: separator || lineSeparator ? (0,_utils_container__WEBPACK_IMPORTED_MODULE_6__.calcItemsGap)(orientation, separator, lineSeparator) : undefined,
    'aspect-ratio': aspect
  };
  $$unsubscribe_jsonClipToBounds();
  $$unsubscribe_jsonWidth();
  $$unsubscribe_jsonHeight();
  $$unsubscribe_jsonAspect();
  $$unsubscribe_jsonLineSeparator();
  $$unsubscribe_jsonSeparator();
  $$unsubscribe_direction();
  $$unsubscribe_jsonContentHAlign();
  $$unsubscribe_jsonContentVAlign();
  $$unsubscribe_childStore();
  $$unsubscribe_jsonLayoutMode();
  $$unsubscribe_jsonOrientation();
  $$unsubscribe_jsonItemBuilderData();
  return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_14__.genClassName)('container', _Container_module_css__WEBPACK_IMPORTED_MODULE_15__["default"], mods),
    componentContext,
    layoutParams,
    style,
    additionalPaddings,
    heightByAspect: Boolean(aspect),
    parentOf: items.map(it => it.json),
    replaceItems
  }, {}, {
    default: () => {
      return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(items, item => {
        return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_16__["default"], "Unknown").$$render($$result, {
          componentContext: item,
          layoutParams: childLayoutParams
        }, {}, {})}`;
      })} ${separator || lineSeparator ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_ContainerSeparators_svelte__WEBPACK_IMPORTED_MODULE_17__["default"], "ContainerSeparators").$$render($$result, {
        direction: $direction,
        separator,
        lineSeparator,
        orientation,
        contentHAlign,
        contentVAlign
      }, {}, {})}` : ``}`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Container);

/***/ }),

/***/ "./src/components/container/ContainerSeparators.svelte":
/*!*************************************************************!*\
  !*** ./src/components/container/ContainerSeparators.svelte ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ContainerSeparator.module.css */ "./src/components/container/ContainerSeparator.module.css");
/* harmony import */ var _utilities_Outer_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities/Outer.module.css */ "./src/components/utilities/Outer.module.css");
/* harmony import */ var _utils_simpleThrottle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/simpleThrottle */ "./src/utils/simpleThrottle.ts");
/* harmony import */ var _utils_getMarginBox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/getMarginBox */ "./src/utils/getMarginBox.ts");
/* src\components\container\ContainerSeparators.svelte generated by Svelte v4.2.0 */






const THROTTLE_TIMEOUT = 10;
function appendSeparator(separators, separatorStyle, box0, box1, containingBox, crossAxis) {
  const leftMargin = separatorStyle.margins.left;
  const rightMargin = separatorStyle.margins.right;
  const topMargin = separatorStyle.margins.top;
  const bottomMargin = separatorStyle.margins.bottom;
  if (crossAxis) {
    separators.push({
      top: box0.bottom + topMargin,
      left: containingBox.left + leftMargin,
      width: Math.max(0, containingBox.right - containingBox.left - leftMargin - rightMargin),
      height: box1.top - box0.bottom - topMargin - bottomMargin,
      style: separatorStyle.style
    });
  } else {
    separators.push({
      top: containingBox.top + topMargin,
      left: box0.right + leftMargin,
      width: box1.left - box0.right - leftMargin - rightMargin,
      height: Math.max(0, containingBox.bottom - containingBox.top - topMargin - bottomMargin),
      style: separatorStyle.style
    });
  }
}

// eslint-disable-next-line max-params
function appendSeparators(separators, separator, boxes, crossAxis, align, contentBox) {
  const containingBox = {
    top: Math.min(...boxes.map(it => it.top)),
    right: Math.max(...boxes.map(it => it.right)),
    bottom: Math.max(...boxes.map(it => it.bottom)),
    left: Math.min(...boxes.map(it => it.left))
  };
  if (separator === null || separator === void 0 ? void 0 : separator.show_at_start) {
    let right;
    let bottom;
    if (align === 'space-around' || align === 'space-evenly') {
      right = contentBox.left - separator.style.width;
      bottom = contentBox.top - separator.style.height;
    } else {
      right = boxes[0].left - separator.style.width - separator.margins.left - separator.margins.right;
      bottom = boxes[0].top - separator.style.height - separator.margins.top - separator.margins.bottom;
    }
    appendSeparator(separators, separator,
    // only right and bottom is used
    {
      top: 0,
      right,
      bottom,
      left: 0
    }, boxes[0], containingBox, crossAxis);
  }
  if (separator === null || separator === void 0 ? void 0 : separator.show_between) {
    for (let i = 0; i < boxes.length - 1; ++i) {
      appendSeparator(separators, separator, boxes[i], boxes[i + 1], containingBox, crossAxis);
    }
  }
  if (separator === null || separator === void 0 ? void 0 : separator.show_at_end) {
    const lastBox = boxes[boxes.length - 1];
    let top;
    let left;
    if (align === 'space-around' || align === 'space-evenly') {
      top = contentBox.bottom + separator.style.height;
      left = contentBox.right + separator.style.width;
    } else {
      top = lastBox.bottom + separator.style.height + separator.margins.top + separator.margins.bottom;
      left = lastBox.right + separator.style.width + separator.margins.left + separator.margins.right;
    }
    appendSeparator(separators, separator, lastBox,
    // only top and left is used
    {
      top,
      right: 0,
      bottom: 0,
      left
    }, containingBox, crossAxis);
  }
}
const ContainerSeparators = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let parentElement;
  let {
    orientation
  } = $$props;
  let {
    separator
  } = $$props;
  let {
    lineSeparator
  } = $$props;
  let {
    contentHAlign
  } = $$props;
  let {
    contentVAlign
  } = $$props;
  let {
    direction
  } = $$props;
  const throttledUpdated = (0,_utils_simpleThrottle__WEBPACK_IMPORTED_MODULE_2__.simpleThrottle)(updateSeparators, THROTTLE_TIMEOUT);
  let separators = [];
  let node;
  let mounted = false;
  let mutationObserver = null;
  let resizeObserver = null;
  function mutationObserverCallback(records) {
    if (records.some(record => {
      var _a;
      const classList = (_a = record.target) === null || _a === void 0 ? void 0 : _a.classList;
      return !(classList === null || classList === void 0 ? void 0 : classList.contains(_ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]['container-separator__shape'])) && !(classList === null || classList === void 0 ? void 0 : classList.contains(_ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]['container-separator']));
    })) {
      throttledUpdated();
    }
  }
  function updateSeparators() {
    if (!parentElement) {
      return;
    }
    const parentBbox = parentElement.getBoundingClientRect();
    const computedStyle = window.getComputedStyle(parentElement);
    const contentBox = {
      top: parentBbox.top + parseFloat(computedStyle.paddingTop),
      right: parentBbox.right - parseFloat(computedStyle.paddingRight),
      bottom: parentBbox.bottom - parseFloat(computedStyle.paddingBottom),
      left: parentBbox.left + parseFloat(computedStyle.paddingLeft)
    };
    separators = [];
    let children = [...parentElement.children].filter(it => it !== node && !it.classList.contains(_utilities_Outer_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].outer__border));
    let rows = [];
    while (children.length) {
      const row = [];
      const firstChild = children.shift();
      row.push(firstChild);
      let bbox = firstChild.getBoundingClientRect();
      let left = bbox.left;
      let right = bbox.right;
      let bottom = bbox.bottom;
      while (children.length) {
        let first = children[0];
        let bbox = first.getBoundingClientRect();
        if (orientation === 'vertical') {
          if (bbox.top < bottom) {
            break;
          }
        } else if (direction === 'ltr' ? bbox.left < right : bbox.right > left) {
          break;
        }
        right = Math.max(right, bbox.right);
        left = Math.min(left, bbox.left);
        bottom = Math.max(bottom, bbox.bottom);
        row.push(first);
        children.shift();
      }
      rows.push(row);
    }
    const rowBoxes = [];
    rows.forEach(row => {
      const boxes = row.map(it => (0,_utils_getMarginBox__WEBPACK_IMPORTED_MODULE_5__.getMarginBox)(it));
      if (direction === 'rtl' && orientation === 'horizontal') {
        boxes.reverse();
      }
      if (separator) {
        appendSeparators(separators, separator, boxes, orientation === 'vertical', orientation === 'vertical' ? contentVAlign : contentHAlign, contentBox);
      }
      const rowBox = {
        top: Math.min(...boxes.map(it => it.top)),
        right: Math.max(...boxes.map(it => it.right)),
        bottom: Math.max(...boxes.map(it => it.bottom)),
        left: Math.min(...boxes.map(it => it.left))
      };
      rowBoxes.push(rowBox);
    });
    if (direction === 'rtl' && orientation === 'vertical') {
      rowBoxes.reverse();
    }
    if (lineSeparator) {
      appendSeparators(separators, lineSeparator, rowBoxes, orientation === 'horizontal', orientation === 'vertical' ? contentHAlign : contentVAlign, contentBox);
    }
    separators.forEach(separator => {
      separator.top -= parentBbox.top;
      separator.left -= parentBbox.left;
    });
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    mounted = true;
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    mounted = false;
  });
  if ($$props.orientation === void 0 && $$bindings.orientation && orientation !== void 0) $$bindings.orientation(orientation);
  if ($$props.separator === void 0 && $$bindings.separator && separator !== void 0) $$bindings.separator(separator);
  if ($$props.lineSeparator === void 0 && $$bindings.lineSeparator && lineSeparator !== void 0) $$bindings.lineSeparator(lineSeparator);
  if ($$props.contentHAlign === void 0 && $$bindings.contentHAlign && contentHAlign !== void 0) $$bindings.contentHAlign(contentHAlign);
  if ($$props.contentVAlign === void 0 && $$bindings.contentVAlign && contentVAlign !== void 0) $$bindings.contentVAlign(contentVAlign);
  if ($$props.direction === void 0 && $$bindings.direction && direction !== void 0) $$bindings.direction(direction);
  parentElement = (node === null || node === void 0 ? void 0 : node.parentElement) || null;
  $: {
    if (mounted && parentElement || mutationObserver || resizeObserver) {
      if (mutationObserver) {
        mutationObserver.disconnect();
        mutationObserver = null;
      }
      if (resizeObserver) {
        resizeObserver.disconnect();
        resizeObserver = null;
      }
      if (mounted && parentElement) {
        if (typeof MutationObserver !== 'undefined') {
          mutationObserver = new MutationObserver(mutationObserverCallback);
          mutationObserver.observe(parentElement, {
            childList: true,
            attributes: true,
            characterData: true,
            subtree: true
          });
        }
        if (typeof ResizeObserver !== 'undefined') {
          resizeObserver = new ResizeObserver(throttledUpdated);
          resizeObserver.observe(parentElement);
        }
      }
    }
  }
  $: {
    if (mounted && parentElement) {
      throttledUpdated();
    }
  }
  return ` <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]['container-separator'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", node, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(separators, item => {
    return `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]['container-separator__item'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
      "left": `${item.left}px`,
      "top": `${item.top}px`,
      "width": `${item.width}px`,
      "height": `${item.height}px`
    })}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _ContainerSeparator_module_css__WEBPACK_IMPORTED_MODULE_3__["default"]['container-separator__shape'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
      "width": `${item.style.width}px`,
      "height": `${item.style.height}px`,
      "border-radius": `${item.style.borderRadius}px`,
      "background": item.style.background,
      "box-shadow": item.style.boxShadow
    })}></div> </div>`;
  })}</div>`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContainerSeparators);

/***/ }),

/***/ "./src/components/custom/Custom.svelte":
/*!*********************************************!*\
  !*** ./src/components/custom/Custom.svelte ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* src\components\custom\Custom.svelte generated by Svelte v4.2.0 */






const Custom = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let jsonItems;
  let items;
  var _a;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  let customElem;
  let desc = null;
  let templateContent = '';

  // shadowrootmode is an unknown attribute in TS :(
  let templateAttrs = {};
  let hasItemsError = false;
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    if (customElem && 'divKitApiCallback' in customElem && typeof customElem.divKitApiCallback === 'function') {
      const ctx = rootCtx.getExtensionContext();
      customElem.divKitApiCallback(ctx);
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  $: {
    if (typeof componentContext.json.custom_type === 'string' && componentContext.json.custom_type && ((_a = rootCtx.customComponents) === null || _a === void 0 ? void 0 : _a.has(componentContext.json.custom_type))) {
      desc = rootCtx.customComponents.get(componentContext.json.custom_type);
      if (typeof desc.template === 'function') {
        const ctx = rootCtx.getExtensionContext();
        const variables = new Map();
        for (const [key, varaible] of ctx.variables) {
          variables.set(key, varaible.getValue());
        }
        templateContent = desc.template({
          props: componentContext.json.custom_props,
          variables
        });
      } else if (desc.template && typeof desc.template === 'string') {
        templateContent = desc.template;
      } else {
        templateContent = '';
      }
      templateAttrs = {
        shadowrootmode: desc.shadowRootMode || 'open'
      };
    } else {
      desc = null;
      templateContent = ';';
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_3__.wrapError)(new Error('Unknown or incorrect "custom_type" prop for div "custom"')));
    }
  }
  jsonItems = componentContext.json.items;
  $: {
    {
      if (jsonItems !== undefined && !Array.isArray(jsonItems)) {
        hasItemsError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_3__.wrapError)(new Error('Incorrect "items" prop for div "custom"')));
      } else {
        hasItemsError = false;
      }
    }
  }
  items = (!hasItemsError && jsonItems || []).map((item, index) => {
    return componentContext.produceChildContext(item, {
      path: index
    });
  });
  return `${desc ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_4__["default"], "Outer").$$render($$result, {
    componentContext,
    layoutParams
  }, {}, {
    default: () => {
      return `${(tag => {
        (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_dynamic_element)(tag);
        return tag ? (() => {
          (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_void_dynamic_element)(tag);
          return `<${desc.element}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.spread)([(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_object)(componentContext.json.custom_props || {})], {})}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", customElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.is_void)(tag) ? '' : `${templateContent ? `<template${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.spread)([(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_object)(templateAttrs)], {})}> ${templateContent}</template>` : ``} ${!hasItemsError && jsonItems ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(items, item => {
            return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_5__["default"], "Unknown").$$render($$result, {
              componentContext: item
            }, {}, {})}`;
          })}` : ``}`}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.is_void)(tag) ? '' : `</${tag}>`}`;
        })() : '';
      })(desc.element)}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Custom);

/***/ }),

/***/ "./src/components/gallery/Gallery.svelte":
/*!***********************************************!*\
  !*** ./src/components/gallery/Gallery.svelte ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Gallery.module.css */ "./src/components/gallery/Gallery.module.css");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utilities/Arrows.module.css */ "./src/components/utilities/Arrows.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctGeneralOrientation */ "./src/utils/correctGeneralOrientation.ts");
/* harmony import */ var _utils_correctAlignment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctAlignment */ "./src/utils/correctAlignment.ts");
/* harmony import */ var _utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/assignIfDifferent */ "./src/utils/assignIfDifferent.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/correctEdgeInserts */ "./src/utils/correctEdgeInserts.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_joinTemplateSizes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/joinTemplateSizes */ "./src/utils/joinTemplateSizes.ts");
/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/debounce */ "./src/utils/debounce.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/nonNegativeModulo */ "./src/utils/nonNegativeModulo.ts");
/* src\components\gallery\Gallery.svelte generated by Svelte v4.2.0 */






















const Gallery = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonItems;
  let jsonColumnCount;
  let jsonOrientation;
  let jsonCrossContentAlignment;
  let jsonItemSpacing;
  let jsonCrossSpacing;
  let jsonPaddings;
  let jsonScrollMode;
  let jsonRestrictParentScroll;
  let jsonScrollbar;
  let jsonDefaultItem;
  let items;
  let shouldCheckArrows;
  let itemsGrid;
  let gridTemplate;
  let gridStyle;
  let columnStyle;
  let mods;
  let $direction, $$unsubscribe_direction;
  let $jsonDefaultItem,
    $$unsubscribe_jsonDefaultItem = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonDefaultItem = () => ($$unsubscribe_jsonDefaultItem(), $$unsubscribe_jsonDefaultItem = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonDefaultItem, $$value => $jsonDefaultItem = $$value), jsonDefaultItem);
  let $jsonScrollbar,
    $$unsubscribe_jsonScrollbar = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonScrollbar = () => ($$unsubscribe_jsonScrollbar(), $$unsubscribe_jsonScrollbar = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonScrollbar, $$value => $jsonScrollbar = $$value), jsonScrollbar);
  let $jsonScrollMode,
    $$unsubscribe_jsonScrollMode = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonScrollMode = () => ($$unsubscribe_jsonScrollMode(), $$unsubscribe_jsonScrollMode = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonScrollMode, $$value => $jsonScrollMode = $$value), jsonScrollMode);
  let $childStore,
    $$unsubscribe_childStore = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_childStore = () => ($$unsubscribe_childStore(), $$unsubscribe_childStore = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(childStore, $$value => $childStore = $$value), childStore);
  let $jsonPaddings,
    $$unsubscribe_jsonPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPaddings = () => ($$unsubscribe_jsonPaddings(), $$unsubscribe_jsonPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPaddings, $$value => $jsonPaddings = $$value), jsonPaddings);
  let $jsonCrossSpacing,
    $$unsubscribe_jsonCrossSpacing = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonCrossSpacing = () => ($$unsubscribe_jsonCrossSpacing(), $$unsubscribe_jsonCrossSpacing = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonCrossSpacing, $$value => $jsonCrossSpacing = $$value), jsonCrossSpacing);
  let $jsonItemSpacing,
    $$unsubscribe_jsonItemSpacing = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonItemSpacing = () => ($$unsubscribe_jsonItemSpacing(), $$unsubscribe_jsonItemSpacing = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonItemSpacing, $$value => $jsonItemSpacing = $$value), jsonItemSpacing);
  let $jsonCrossContentAlignment,
    $$unsubscribe_jsonCrossContentAlignment = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonCrossContentAlignment = () => ($$unsubscribe_jsonCrossContentAlignment(), $$unsubscribe_jsonCrossContentAlignment = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonCrossContentAlignment, $$value => $jsonCrossContentAlignment = $$value), jsonCrossContentAlignment);
  let $jsonOrientation,
    $$unsubscribe_jsonOrientation = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonOrientation = () => ($$unsubscribe_jsonOrientation(), $$unsubscribe_jsonOrientation = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonOrientation, $$value => $jsonOrientation = $$value), jsonOrientation);
  let $jsonColumnCount,
    $$unsubscribe_jsonColumnCount = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonColumnCount = () => ($$unsubscribe_jsonColumnCount(), $$unsubscribe_jsonColumnCount = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonColumnCount, $$value => $jsonColumnCount = $$value), jsonColumnCount);
  let $isDesktop, $$unsubscribe_isDesktop;
  let $jsonRestrictParentScroll,
    $$unsubscribe_jsonRestrictParentScroll = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRestrictParentScroll = () => ($$unsubscribe_jsonRestrictParentScroll(), $$unsubscribe_jsonRestrictParentScroll = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRestrictParentScroll, $$value => $jsonRestrictParentScroll = $$value), jsonRestrictParentScroll);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let scroller;
  let galleryItemsWrappers = [];
  let hasScrollLeft = false;
  let hasScrollRight = false;
  let resizeObserver = null;
  let itemsGridElem;
  let mounted = false;
  const leftClass = rootCtx.getCustomization('galleryLeftClass');
  const rightClass = rootCtx.getCustomization('galleryRightClass');
  let prevId;
  let columns = 1;
  let orientation = 'horizontal';
  let align = 'start';
  let gridGap;
  let itemSpacing = 8;
  let crossGridGap;
  let crossSpacing;
  let padding = '';
  let templateSizes = [];
  let childStore;
  let scrollerStyle = {};
  let scrollSnap = false;
  let childLayoutParams = {};
  let defaultItem = 0;
  function rebind() {
    columns = 1;
    orientation = 'horizontal';
    align = 'start';
    itemSpacing = 8;
    padding = '';
  }
  function replaceItems(items) {
    componentContext = Object.assign(Object.assign({}, componentContext), {
      json: Object.assign(Object.assign({}, componentContext.json), {
        items: items.filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_4__.Truthy)
      })
    });
  }
  const isDesktop = rootCtx.isDesktop;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(isDesktop, 'isDesktop');
  $$unsubscribe_isDesktop = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(isDesktop, value => $isDesktop = value);
  function rebuildItemsGrid(items, columns) {
    let column = 0;
    let res = [];
    for (let i = 0; i < items.length; ++i) {
      if (!res[column]) {
        res[column] = [];
      }
      res[column].push(items[i]);
      if (++column >= columns) {
        column = 0;
      }
    }
    return res;
  }
  function updateArrowsVisibility() {
    if (!scroller) {
      return;
    }
    let scrollLeft = scroller.scrollLeft;
    if ($direction === 'rtl') {
      scrollLeft *= -1;
    }
    const scrollWidth = scroller.scrollWidth;
    const containerWidth = scroller.offsetWidth;
    if ($direction === 'ltr') {
      hasScrollLeft = scrollLeft > 2;
      hasScrollRight = scrollLeft + containerWidth < scrollWidth - 2;
    } else {
      hasScrollRight = scrollLeft > 2;
      hasScrollLeft = scrollLeft + containerWidth < scrollWidth - 2;
    }
  }
  const updateArrowsVisibilityDebounced = (0,_utils_debounce__WEBPACK_IMPORTED_MODULE_5__.debounce)(updateArrowsVisibility, 50);
  function scroll(type) {
    scroller.scroll({
      left: scroller.scrollLeft + scroller.offsetWidth * .75 * (type === 'right' ? 1 : -1),
      behavior: 'smooth'
    });
  }
  function getItems() {
    let res = [];
    let maxLen = galleryItemsWrappers[0].children.length;
    for (let j = 0; j < maxLen; ++j) {
      for (let i = 0; i < columns; ++i) {
        const elem = galleryItemsWrappers[i].children[j];
        if (elem) {
          res.push(elem);
        }
      }
    }
    return res;
  }
  function scrollTo(offset, behavior = 'smooth') {
    const isHorizontal = orientation === 'horizontal';
    const scrollDirection = isHorizontal ? 'left' : 'top';
    scroller.scroll({
      [scrollDirection]: offset,
      behavior
    });
  }
  function scrollToGalleryItem(galleryElements, index, behavior = 'smooth') {
    const isHorizontal = orientation === 'horizontal';
    const elementOffset = isHorizontal ? 'offsetLeft' : 'offsetTop';

    // 0.01 forces Chromium to use scroll-snap (exact correct scroll position will not trigger it)
    // Chromium will save scroll-snapped value and will not save exact one
    // Saved scroll position is used on resnapping (e.g. content change)
    const elem = galleryElements[index];
    if (elem) {
      let offset;
      if ($direction === 'ltr' || !isHorizontal) {
        offset = elem[elementOffset] + .01 - itemSpacing / 2;
      } else {
        const scrollWrapperSize = scroller.offsetWidth;
        offset = elem[elementOffset] + elem.offsetWidth + .01 - itemSpacing / 2 - scrollWrapperSize;
      }
      scrollTo(offset, behavior);
    }
  }
  function checkIsIntersecting(scroller, item) {
    if (orientation === 'horizontal') {
      return item.right > scroller.left && scroller.right > item.left;
    }
    return item.bottom > scroller.top && scroller.bottom > item.top;
  }
  function checkIsFullyIntersecting(scroller, item) {
    if (orientation === 'horizontal') {
      return item.left >= scroller.left && item.right <= scroller.right;
    }
    return item.top >= scroller.top && item.bottom <= scroller.bottom;
  }
  function calculateCurrentElementIndex(action) {
    const galleryElements = getItems();
    const scrollerRect = scroller.getBoundingClientRect();

    // Try to find the most left fully visible element
    const firstFullyVisibleElement = galleryElements.findIndex(el => checkIsFullyIntersecting(scrollerRect, el.getBoundingClientRect()));
    if (firstFullyVisibleElement !== -1) {
      return firstFullyVisibleElement;
    }

    // If there is no fully visible elements, it means that:
    // - only one element is partly visible and its width bigger than gallery width
    // - two elements are partly visible
    const visibleElementsMap = galleryElements.map(el => checkIsIntersecting(scrollerRect, el.getBoundingClientRect()));
    const firstVisibleElement = visibleElementsMap.findIndex(Boolean);
    if (firstVisibleElement !== -1) {
      // If two elements are partly visible, we should scroll to current element on "set_item_previous" action
      const isPreviousEqualCurrent = action === 'prev' && visibleElementsMap.filter(Boolean).length === 2;
      return isPreviousEqualCurrent ? firstVisibleElement + 1 : firstVisibleElement;
    }
    return action === 'prev' ? 1 : galleryElements.length - 2;
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    mounted = true;
    updateArrowsVisibility();
    if (defaultItem) {
      const galleryElements = getItems();
      scrollToGalleryItem(galleryElements, defaultItem, 'auto');
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    mounted = false;
    if (prevId && !componentContext.fakeElement) {
      rootCtx.unregisterInstance(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  jsonItems = Array.isArray(componentContext.json.items) && componentContext.json.items || [];
  $$subscribe_jsonColumnCount(jsonColumnCount = componentContext.getDerivedFromVars(componentContext.json.column_count));
  $$subscribe_jsonOrientation(jsonOrientation = componentContext.getDerivedFromVars(componentContext.json.orientation));
  $$subscribe_jsonCrossContentAlignment(jsonCrossContentAlignment = componentContext.getDerivedFromVars(componentContext.json.cross_content_alignment));
  $$subscribe_jsonItemSpacing(jsonItemSpacing = componentContext.getDerivedFromVars(componentContext.json.item_spacing));
  $$subscribe_jsonCrossSpacing(jsonCrossSpacing = componentContext.getDerivedFromVars(componentContext.json.cross_spacing));
  $$subscribe_jsonPaddings(jsonPaddings = componentContext.getDerivedFromVars(componentContext.json.paddings));
  $$subscribe_jsonScrollMode(jsonScrollMode = componentContext.getDerivedFromVars(componentContext.json.scroll_mode));
  $$subscribe_jsonRestrictParentScroll(jsonRestrictParentScroll = componentContext.getDerivedFromVars(componentContext.json.restrict_parent_scroll));
  $$subscribe_jsonScrollbar(jsonScrollbar = componentContext.getDerivedFromVars(componentContext.json.scrollbar));
  $$subscribe_jsonDefaultItem(jsonDefaultItem = componentContext.getDerivedFromVars(componentContext.json.default_item));
  items = jsonItems.map((item, index) => {
    return componentContext.produceChildContext(item, {
      path: index
    });
  });
  shouldCheckArrows = $isDesktop && mounted;
  $: {
    if (shouldCheckArrows) {
      if (typeof ResizeObserver !== 'undefined') {
        // Gallery can contain a dynamic content (e.g. loading images with auto-size)
        resizeObserver = new ResizeObserver(() => {
          updateArrowsVisibilityDebounced();
        });
        resizeObserver.observe(itemsGridElem);
      }
    } else if (resizeObserver) {
      resizeObserver.disconnect();
      resizeObserver = null;
    }
  }
  $: {
    {
      columns = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_6__.correctPositiveNumber)($jsonColumnCount, columns);
    }
  }
  itemsGrid = rebuildItemsGrid(items, columns);
  $: {
    {
      orientation = (0,_utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_7__.correctGeneralOrientation)($jsonOrientation, orientation);
    }
  }
  $: {
    {
      align = (0,_utils_correctAlignment__WEBPACK_IMPORTED_MODULE_8__.correctAlignment)($jsonCrossContentAlignment, align);
    }
  }
  $: {
    {
      itemSpacing = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_9__.correctNonNegativeNumber)($jsonItemSpacing, itemSpacing);
      gridGap = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_10__.pxToEm)(itemSpacing);
    }
  }
  $: {
    {
      crossSpacing = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_9__.correctNonNegativeNumber)($jsonCrossSpacing, itemSpacing);
      crossGridGap = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_10__.pxToEm)(crossSpacing);
    }
  }
  $: {
    {
      padding = (0,_utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_11__.correctEdgeInserts)($jsonPaddings, $direction, padding);
    }
  }
  gridTemplate = orientation === 'horizontal' ? 'grid-template-columns' : 'grid-template-rows';
  $: {
    {
      let children = [];
      items.forEach(item => {
        const itemSize = orientation === 'horizontal' ? 'width' : 'height';
        children.push(componentContext.getDerivedFromVars(item.json[itemSize]));
      });
      $$subscribe_childStore(childStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_2__.derived)(children, val => val));
    }
  }
  $: {
    {
      templateSizes = [];
      if (columns > 1) {
        // TODO: think about match_parent in this task DIVKIT-307
        templateSizes.push('auto');
      } else {
        $childStore.forEach(childInfo => {
          if (!childInfo && orientation === 'horizontal' || (childInfo === null || childInfo === void 0 ? void 0 : childInfo.type) === 'match_parent') {
            templateSizes.push('100%');
          } else {
            templateSizes.push('max-content');
          }
        });
      }
    }
  }
  $: {
    {
      const newScrollerStyle = {};
      let newChildLayoutParams = {};
      scrollSnap = false;
      if (orientation === 'horizontal') {
        newChildLayoutParams.parentVAlign = align;
      } else {
        newChildLayoutParams.parentHAlign = align;
      }
      if ($jsonScrollMode === 'paging') {
        scrollSnap = true;
        newChildLayoutParams.scrollSnap = 'start';
        const scrollPadding = orientation === 'horizontal' ? 'scroll-padding-left' : 'scroll-padding-top';
        newScrollerStyle[scrollPadding] = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_10__.pxToEm)(itemSpacing / 2);
      }

      // todo multiple columns
      if (columns === 1) {
        newChildLayoutParams.parentLayoutOrientation = orientation;
      }
      scrollerStyle = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_12__.assignIfDifferent)(newScrollerStyle, scrollerStyle);
      childLayoutParams = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_12__.assignIfDifferent)(newChildLayoutParams, childLayoutParams);
    }
  }
  gridStyle = {
    padding,
    'grid-gap': crossGridGap
  };
  columnStyle = {
    'grid-gap': gridGap,
    [gridTemplate]: (0,_utils_joinTemplateSizes__WEBPACK_IMPORTED_MODULE_13__.joinTemplateSizes)(templateSizes)
  };
  mods = {
    orientation,
    'scroll-snap': scrollSnap,
    scrollbar: $jsonScrollbar === 'auto' ? 'auto' : 'none'
  };
  $: {
    {
      defaultItem = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_9__.correctNonNegativeNumber)($jsonDefaultItem, defaultItem);
    }
  }
  $: {
    if (componentContext.json) {
      updateArrowsVisibilityDebounced();
    }
  }
  $: {
    if (componentContext.json) {
      if (prevId) {
        rootCtx.unregisterInstance(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerInstance(prevId, {
          setCurrentItem(item) {
            const galleryElements = getItems();
            if (item < 0 || item > galleryElements.length - 1) {
              throw new Error('Item is out of range in "set-current-item" action');
            }
            scrollToGalleryItem(galleryElements, item);
          },
          setPreviousItem(step, overflow) {
            const currentElementIndex = calculateCurrentElementIndex('prev');
            const galleryElements = getItems();
            let previousItem = currentElementIndex - step;
            if (previousItem < 0) {
              previousItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_14__.nonNegativeModulo)(previousItem, galleryElements.length) : 0;
            }
            scrollToGalleryItem(galleryElements, previousItem);
          },
          setNextItem(step, overflow) {
            const isHorizontal = orientation === 'horizontal';
            const directionMultiplier = $direction === 'ltr' || !isHorizontal ? 1 : -1;

            // Go to scroller start, if we reached right/bottom edge of scroller
            const isEdgeScroll = isHorizontal ? scroller.scrollLeft * directionMultiplier + scroller.offsetWidth === scroller.scrollWidth : scroller.scrollTop + scroller.offsetHeight === scroller.scrollHeight;
            const galleryElements = getItems();
            if (isEdgeScroll && overflow === 'ring') {
              scrollToGalleryItem(galleryElements, 0);
              return;
            }
            const currentElementIndex = calculateCurrentElementIndex('next');
            let nextItem = currentElementIndex + step;
            if (nextItem > galleryElements.length - 1) {
              nextItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_14__.nonNegativeModulo)(nextItem, galleryElements.length) : galleryElements.length - 1;
            }
            scrollToGalleryItem(galleryElements, nextItem);
          },
          scrollToStart() {
            scrollTo(0);
          },
          scrollToEnd() {
            scrollTo($direction === 'ltr' || orientation !== 'horizontal' ? 1e6 : -1e6);
          },
          scrollBackward(step, overflow) {
            const isHorizontal = orientation === 'horizontal';
            const directionMultiplier = $direction === 'ltr' || !isHorizontal ? 1 : -1;
            const currentOffset = isHorizontal ? scroller.scrollLeft : scroller.scrollTop;
            const maxOffset = isHorizontal ? scroller.scrollWidth - scroller.offsetWidth : scroller.scrollHeight - scroller.offsetHeight;
            let newOffset = currentOffset * directionMultiplier - step;
            if (newOffset < 0) {
              if (overflow === 'clamp') {
                newOffset = 0;
              } else if (overflow === 'ring') {
                newOffset = (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_14__.nonNegativeModulo)(newOffset, maxOffset);
              }
            }
            scrollTo(newOffset * directionMultiplier);
          },
          scrollForward(step, overflow) {
            const isHorizontal = orientation === 'horizontal';
            const directionMultiplier = $direction === 'ltr' || !isHorizontal ? 1 : -1;
            const currentOffset = isHorizontal ? scroller.scrollLeft : scroller.scrollTop;
            const maxOffset = isHorizontal ? scroller.scrollWidth - scroller.offsetWidth : scroller.scrollHeight - scroller.offsetHeight;
            let newOffset = currentOffset * directionMultiplier + step;
            if (newOffset > maxOffset) {
              if (overflow === 'clamp') {
                newOffset = maxOffset;
              } else if (overflow === 'ring') {
                newOffset = (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_14__.nonNegativeModulo)(newOffset, maxOffset);
              }
            }
            scrollTo(newOffset * directionMultiplier);
          },
          scrollToPosition(step) {
            scrollTo($direction === 'ltr' || orientation !== 'horizontal' ? step : -step);
          }
        });
      }
    }
  }
  $$unsubscribe_direction();
  $$unsubscribe_jsonDefaultItem();
  $$unsubscribe_jsonScrollbar();
  $$unsubscribe_jsonScrollMode();
  $$unsubscribe_childStore();
  $$unsubscribe_jsonPaddings();
  $$unsubscribe_jsonCrossSpacing();
  $$unsubscribe_jsonItemSpacing();
  $$unsubscribe_jsonCrossContentAlignment();
  $$unsubscribe_jsonOrientation();
  $$unsubscribe_jsonColumnCount();
  $$unsubscribe_isDesktop();
  $$unsubscribe_jsonRestrictParentScroll();
  return ` ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_15__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_16__.genClassName)('gallery', _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"], mods),
    componentContext,
    layoutParams,
    customPaddings: true,
    customActions: 'gallery',
    parentOf: jsonItems,
    replaceItems
  }, {}, {
    default: () => {
      return `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].gallery__scroller, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($jsonRestrictParentScroll ? _Root_module_css__WEBPACK_IMPORTED_MODULE_18__["default"]['root_restrict-scroll'] : '', true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_19__.makeStyle)(scrollerStyle), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", scroller, 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"]['gallery__items-grid'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_19__.makeStyle)(gridStyle), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", itemsGridElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(itemsGrid, (itemsRow, rowIndex) => {
        return `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].gallery__items, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_19__.makeStyle)(columnStyle), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", galleryItemsWrappers[rowIndex], 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(itemsRow, item => {
          return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_20__["default"], "Unknown").$$render($$result, {
            componentContext: item,
            layoutParams: childLayoutParams
          }, {}, {})}`;
        })} </div>`;
      })}</div></div> ${orientation === 'horizontal' ? `${hasScrollLeft && shouldCheckArrows ? `  <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", leftClass || `${_Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].gallery__arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow_left}`, 0)}>${!leftClass ? `<svg${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow__icon, 0)} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"]['gallery__arrow-icon-path'], 0)} d="m10 16 8.3 8 1.03-1-4-6-.7-1 .7-1 4-6-1.03-1z"></path></svg>` : ``}</div>` : ``} ${hasScrollRight && shouldCheckArrows ? `  <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", rightClass || `${_Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].gallery__arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow_right}`, 0)}>${!rightClass ? `<svg${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_21__["default"].arrow__icon, 0)} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Gallery_module_css__WEBPACK_IMPORTED_MODULE_17__["default"]['gallery__arrow-icon-path'], 0)} d="M22 16l-8.3 8-1.03-1 4-6 .7-1-.7-1-4-6 1.03-1 8.3 8z"></path></svg>` : ``}</div>` : ``}` : ``}`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Gallery);

/***/ }),

/***/ "./src/components/grid/Grid.svelte":
/*!*****************************************!*\
  !*** ./src/components/grid/Grid.svelte ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _Grid_module_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Grid.module.css */ "./src/components/grid/Grid.module.css");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_gridCalcTemplates__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/gridCalcTemplates */ "./src/utils/gridCalcTemplates.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctAlignmentVertical */ "./src/utils/correctAlignmentVertical.ts");
/* harmony import */ var _utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctAlignmentHorizontal */ "./src/utils/correctAlignmentHorizontal.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* src\components\grid\Grid.svelte generated by Svelte v4.2.0 */














const Grid = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonItems;
  let jsonColumnCount;
  let jsonContentVAlign;
  let jsonContentHAlign;
  let items;
  let mods;
  let style;
  let hasError;
  let $direction, $$unsubscribe_direction;
  let $jsonContentHAlign,
    $$unsubscribe_jsonContentHAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonContentHAlign = () => ($$unsubscribe_jsonContentHAlign(), $$unsubscribe_jsonContentHAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonContentHAlign, $$value => $jsonContentHAlign = $$value), jsonContentHAlign);
  let $jsonContentVAlign,
    $$unsubscribe_jsonContentVAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonContentVAlign = () => ($$unsubscribe_jsonContentVAlign(), $$unsubscribe_jsonContentVAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonContentVAlign, $$value => $jsonContentVAlign = $$value), jsonContentVAlign);
  let $childStore,
    $$unsubscribe_childStore = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_childStore = () => ($$unsubscribe_childStore(), $$unsubscribe_childStore = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(childStore, $$value => $childStore = $$value), childStore);
  let $jsonColumnCount,
    $$unsubscribe_jsonColumnCount = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonColumnCount = () => ($$unsubscribe_jsonColumnCount(), $$unsubscribe_jsonColumnCount = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonColumnCount, $$value => $jsonColumnCount = $$value), jsonColumnCount);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let columnCount = 1;
  let childStore;
  let resultItems;
  let columnsWeight = [];
  let rowsWeight = [];
  let columnsMinWidth = [];
  let rowsMinHeight = [];
  let rowCount = 0;
  let hasLayoutError = false;
  let contentVAlign = 'start';
  let contentHAlign = 'start';
  function rebind() {
    columnCount = 1;
    contentVAlign = 'start';
    contentHAlign = 'start';
  }
  function replaceItems(items) {
    componentContext = Object.assign(Object.assign({}, componentContext), {
      json: Object.assign(Object.assign({}, componentContext.json), {
        items: items.filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_4__.Truthy)
      })
    });
  }
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  jsonItems = Array.isArray(componentContext.json.items) && componentContext.json.items || [];
  $$subscribe_jsonColumnCount(jsonColumnCount = componentContext.getDerivedFromVars(componentContext.json.column_count));
  $$subscribe_jsonContentVAlign(jsonContentVAlign = componentContext.getDerivedFromVars(componentContext.json.content_alignment_vertical));
  $$subscribe_jsonContentHAlign(jsonContentHAlign = componentContext.getDerivedFromVars(componentContext.json.content_alignment_horizontal));
  $: {
    {
      columnCount = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_5__.correctPositiveNumber)($jsonColumnCount, columnCount);
    }
  }
  items = jsonItems.map((item, index) => {
    return componentContext.produceChildContext(item, {
      path: index
    });
  });
  $: {
    {
      let children = [];
      items.forEach(item => {
        children.push(componentContext.getDerivedFromVars({
          rowSpan: item.json.row_span,
          columnSpan: item.json.column_span,
          width: item.json.width,
          height: item.json.height
        }));
      });

      // Create a new array every time so that it is not equal to the previous one
      $$subscribe_childStore(childStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_2__.derived)(children, val => [...val]));
    }
  }
  $: {
    {
      const used = {};
      let x = 0;
      let y = 0;
      columnsWeight = [];
      rowsWeight = [];
      columnsMinWidth = [];
      rowsMinHeight = [];
      hasLayoutError = false;
      resultItems = items.map((item, index) => {
        var _a, _b, _c, _d;
        const childInfo = $childStore[index];
        const colSpan = Number(childInfo.columnSpan) || 1;
        const rowSpan = Number(childInfo.rowSpan) || 1;
        const gridArea = {
          x,
          y,
          colSpan,
          rowSpan
        };
        const widthWeight = ((_a = childInfo.width) === null || _a === void 0 ? void 0 : _a.type) === 'match_parent' ? Number(childInfo.width.weight || 1) / colSpan : 0;
        const heightWeight = ((_b = childInfo.height) === null || _b === void 0 ? void 0 : _b.type) === 'match_parent' ? Number(childInfo.height.weight || 1) / rowSpan : 0;
        const widthMin = colSpan === 1 && ((_c = childInfo.width) === null || _c === void 0 ? void 0 : _c.type) === 'fixed' && childInfo.width.value ? Number(childInfo.width.value) / colSpan : 0;
        const heightMin = rowSpan === 1 && ((_d = childInfo.height) === null || _d === void 0 ? void 0 : _d.type) === 'fixed' && childInfo.height.value ? Number(childInfo.height.value) / rowSpan : 0;
        for (let i = x; i < x + colSpan; ++i) {
          for (let j = y; j < y + rowSpan; ++j) {
            if (used[i + '_' + j]) {
              hasLayoutError = true;
              componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_6__.wrapError)(new Error(`No space for item at index ${index}`)));
              continue;
            }
            used[i + '_' + j] = true;
            if (!columnsWeight[i] || columnsWeight[i] < widthWeight) {
              columnsWeight[i] = widthWeight;
            }
            if (!rowsWeight[j] || rowsWeight[j] < heightWeight) {
              rowsWeight[j] = heightWeight;
            }
            if (!columnsMinWidth[i] || columnsMinWidth[i] < widthMin) {
              columnsMinWidth[i] = widthMin;
            }
            if (!rowsMinHeight[j] || rowsMinHeight[j] < heightMin) {
              rowsMinHeight[j] = heightMin;
            }
          }
        }
        do {
          ++x;
          if (x >= columnCount) {
            x = 0;
            ++y;
          }
        } while (used[x + '_' + y]);
        return {
          componentContext: item,
          layoutParams: {
            gridArea
          }
        };
      });
      rowCount = y;
    }
  }
  $: {
    {
      contentVAlign = (0,_utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_7__.correctAlignmentVertical)($jsonContentVAlign, contentVAlign);
    }
  }
  $: {
    {
      contentHAlign = (0,_utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_8__.correctAlignmentHorizontal)($jsonContentHAlign, $direction, contentHAlign);
    }
  }
  mods = {
    valign: contentVAlign,
    halign: contentHAlign
  };
  style = {
    'grid-template-columns': (0,_utils_gridCalcTemplates__WEBPACK_IMPORTED_MODULE_9__.gridCalcTemplates)(columnsWeight, columnsMinWidth, columnCount),
    'grid-template-rows': (0,_utils_gridCalcTemplates__WEBPACK_IMPORTED_MODULE_9__.gridCalcTemplates)(rowsWeight, rowsMinHeight, rowCount)
  };
  hasError = hasLayoutError;
  $$unsubscribe_direction();
  $$unsubscribe_jsonContentHAlign();
  $$unsubscribe_jsonContentVAlign();
  $$unsubscribe_childStore();
  $$unsubscribe_jsonColumnCount();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_10__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_11__.genClassName)('grid', _Grid_module_css__WEBPACK_IMPORTED_MODULE_12__["default"], mods),
    componentContext,
    style,
    layoutParams,
    parentOf: items.map(it => it.json),
    replaceItems
  }, {}, {
    default: () => {
      return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(resultItems, item => {
        return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_13__["default"], "Unknown").$$render($$result, {
          componentContext: item.componentContext,
          layoutParams: item.layoutParams
        }, {}, {})}`;
      })}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Grid);

/***/ }),

/***/ "./src/components/image/Image.svelte":
/*!*******************************************!*\
  !*** ./src/components/image/Image.svelte ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Image_module_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Image.module.css */ "./src/components/image/Image.module.css");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/background */ "./src/utils/background.ts");
/* harmony import */ var _utils_correctImagePosition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/correctImagePosition */ "./src/utils/correctImagePosition.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctCSSInterpolator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/correctCSSInterpolator */ "./src/utils/correctCSSInterpolator.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_correctTintMode__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctTintMode */ "./src/utils/correctTintMode.ts");
/* harmony import */ var _utils_filters__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/filters */ "./src/utils/filters.ts");
/* harmony import */ var _utils_prepareBase64__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/prepareBase64 */ "./src/utils/prepareBase64.ts");
/* src\components\image\Image.svelte generated by Svelte v4.2.0 */

















const FALLBACK_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';
const EMPTY_IMAGE = 'empty://';

// const DEFAULT_PLACEHOLDER_COLOR = correctColor('#14000000');
const DEFAULT_PLACEHOLDER_COLOR = 'rgba(0,0,0,0.08)';
const STATE_LOADING = 0;
const STATE_LOADED = 1;
const STATE_ERROR = 2;
const Image = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonImageUrl;
  let jsonGifUrl;
  let jsonWidth;
  let jsonHeight;
  let jsonPreview;
  let jsonPlaceholderColor;
  let jsonScale;
  let jsonPosition;
  let jsonA11y;
  let jsonAspect;
  let jsonTintColor;
  let jsonTintMode;
  let jsonAppearanceAnimation;
  let jsonFilters;
  let jsonPreloadRequired;
  let isWidthContent;
  let isHeightContent;
  let alt;
  let mods;
  let style;
  let $jsonFilters,
    $$unsubscribe_jsonFilters = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFilters = () => ($$unsubscribe_jsonFilters(), $$unsubscribe_jsonFilters = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFilters, $$value => $jsonFilters = $$value), jsonFilters);
  let $direction, $$unsubscribe_direction;
  let $jsonAppearanceAnimation,
    $$unsubscribe_jsonAppearanceAnimation = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAppearanceAnimation = () => ($$unsubscribe_jsonAppearanceAnimation(), $$unsubscribe_jsonAppearanceAnimation = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAppearanceAnimation, $$value => $jsonAppearanceAnimation = $$value), jsonAppearanceAnimation);
  let $jsonTintMode,
    $$unsubscribe_jsonTintMode = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTintMode = () => ($$unsubscribe_jsonTintMode(), $$unsubscribe_jsonTintMode = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTintMode, $$value => $jsonTintMode = $$value), jsonTintMode);
  let $jsonTintColor,
    $$unsubscribe_jsonTintColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTintColor = () => ($$unsubscribe_jsonTintColor(), $$unsubscribe_jsonTintColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTintColor, $$value => $jsonTintColor = $$value), jsonTintColor);
  let $jsonAspect,
    $$unsubscribe_jsonAspect = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAspect = () => ($$unsubscribe_jsonAspect(), $$unsubscribe_jsonAspect = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAspect, $$value => $jsonAspect = $$value), jsonAspect);
  let $jsonA11y,
    $$unsubscribe_jsonA11y = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonA11y = () => ($$unsubscribe_jsonA11y(), $$unsubscribe_jsonA11y = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonA11y, $$value => $jsonA11y = $$value), jsonA11y);
  let $jsonPosition,
    $$unsubscribe_jsonPosition = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPosition = () => ($$unsubscribe_jsonPosition(), $$unsubscribe_jsonPosition = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPosition, $$value => $jsonPosition = $$value), jsonPosition);
  let $jsonScale,
    $$unsubscribe_jsonScale = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonScale = () => ($$unsubscribe_jsonScale(), $$unsubscribe_jsonScale = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonScale, $$value => $jsonScale = $$value), jsonScale);
  let $jsonPlaceholderColor,
    $$unsubscribe_jsonPlaceholderColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPlaceholderColor = () => ($$unsubscribe_jsonPlaceholderColor(), $$unsubscribe_jsonPlaceholderColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPlaceholderColor, $$value => $jsonPlaceholderColor = $$value), jsonPlaceholderColor);
  let $jsonPreview,
    $$unsubscribe_jsonPreview = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPreview = () => ($$unsubscribe_jsonPreview(), $$unsubscribe_jsonPreview = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPreview, $$value => $jsonPreview = $$value), jsonPreview);
  let $jsonHeight,
    $$unsubscribe_jsonHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHeight = () => ($$unsubscribe_jsonHeight(), $$unsubscribe_jsonHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHeight, $$value => $jsonHeight = $$value), jsonHeight);
  let $jsonWidth,
    $$unsubscribe_jsonWidth = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonWidth = () => ($$unsubscribe_jsonWidth(), $$unsubscribe_jsonWidth = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonWidth, $$value => $jsonWidth = $$value), jsonWidth);
  let $jsonImageUrl,
    $$unsubscribe_jsonImageUrl = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonImageUrl = () => ($$unsubscribe_jsonImageUrl(), $$unsubscribe_jsonImageUrl = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonImageUrl, $$value => $jsonImageUrl = $$value), jsonImageUrl);
  let $jsonGifUrl,
    $$unsubscribe_jsonGifUrl = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonGifUrl = () => ($$unsubscribe_jsonGifUrl(), $$unsubscribe_jsonGifUrl = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonGifUrl, $$value => $jsonGifUrl = $$value), jsonGifUrl);
  let $jsonPreloadRequired,
    $$unsubscribe_jsonPreloadRequired = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPreloadRequired = () => ($$unsubscribe_jsonPreloadRequired(), $$unsubscribe_jsonPreloadRequired = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPreloadRequired, $$value => $jsonPreloadRequired = $$value), jsonPreloadRequired);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let img;
  let state = STATE_LOADING;
  let isEmpty = false;
  let placeholderColor = DEFAULT_PLACEHOLDER_COLOR;
  let hasError = false;
  let imageUrl;
  let backgroundImage = '';

  // Exactly "none", "scale-down" would not match android
  let scale = 'none';
  let position = '50% 50%';
  let aspectPaddingBottom = '0';
  let tintColor = undefined;
  let tintMode = 'source_in';
  let svgFilterId = '';
  let animationInterpolator = '';
  let animationFadeStart = 0;
  let animationDelay = 0;
  let animationDuration = 0;
  let filter = '';
  let filterClipPath = '';
  let isRTLMirror = false;
  function rebind() {
    scale = 'none';
    position = '50% 50%';
    tintMode = 'source_in';
  }
  function updateImageUrl(_url) {
    state = STATE_LOADING;
  }
  function updatePosition(pos) {
    position = (0,_utils_correctImagePosition__WEBPACK_IMPORTED_MODULE_3__.correctImagePosition)(pos, $direction, position);
  }
  function onLoad() {
    if (state === STATE_LOADING) {
      state = STATE_LOADED;
    }
  }
  function onError() {
    if (state === STATE_LOADING) {
      state = STATE_ERROR;
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    rootCtx.removeSvgFilter(tintColor, tintMode);
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $$subscribe_jsonImageUrl(jsonImageUrl = componentContext.getDerivedFromVars(componentContext.json.image_url));
  $$subscribe_jsonGifUrl(jsonGifUrl = componentContext.getDerivedFromVars(componentContext.json.gif_url));
  $$subscribe_jsonWidth(jsonWidth = componentContext.getDerivedFromVars(componentContext.json.width));
  $$subscribe_jsonHeight(jsonHeight = componentContext.getDerivedFromVars(componentContext.json.height));
  $$subscribe_jsonPreview(jsonPreview = componentContext.getDerivedFromVars(componentContext.json.preview));
  $$subscribe_jsonPlaceholderColor(jsonPlaceholderColor = componentContext.getDerivedFromVars(componentContext.json.placeholder_color));
  $$subscribe_jsonScale(jsonScale = componentContext.getDerivedFromVars(componentContext.json.scale));
  $$subscribe_jsonPosition(jsonPosition = componentContext.getDerivedFromVars({
    content_alignment_horizontal: componentContext.json.content_alignment_horizontal,
    content_alignment_vertical: componentContext.json.content_alignment_vertical
  }));
  $$subscribe_jsonA11y(jsonA11y = componentContext.getDerivedFromVars(componentContext.json.accessibility));
  $$subscribe_jsonAspect(jsonAspect = componentContext.getDerivedFromVars(componentContext.json.aspect));
  $$subscribe_jsonTintColor(jsonTintColor = componentContext.getDerivedFromVars(componentContext.json.tint_color));
  $$subscribe_jsonTintMode(jsonTintMode = componentContext.getDerivedFromVars(componentContext.json.tint_mode));
  $$subscribe_jsonAppearanceAnimation(jsonAppearanceAnimation = componentContext.getDerivedFromVars(componentContext.json.appearance_animation));
  $$subscribe_jsonFilters(jsonFilters = componentContext.getDerivedFromVars(componentContext.json.filters));
  $$subscribe_jsonPreloadRequired(jsonPreloadRequired = componentContext.getDerivedFromVars(componentContext.json.preload_required));
  $: {
    {
      let img = componentContext.json.type === 'gif' ? $jsonGifUrl : $jsonImageUrl;
      isEmpty = img === EMPTY_IMAGE;
      if (isEmpty) {
        img = FALLBACK_IMAGE;
      }
      imageUrl = img;
    }
  }
  $: {
    updateImageUrl(imageUrl);
  }
  $: {
    {
      if (!imageUrl) {
        hasError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error(`Missing "${componentContext.json.type === 'gif' ? 'gif_url' : 'image_url'}" for "${componentContext.json.type}"`)));
      } else {
        hasError = false;
      }
    }
  }
  isWidthContent = ($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.type) === 'wrap_content';
  isHeightContent = ($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.type) === 'wrap_content';
  $: {
    {
      const preview = $jsonPreview;
      if ((state === STATE_LOADING || state === STATE_ERROR || isEmpty) && preview) {
        backgroundImage = `url("${(0,_utils_prepareBase64__WEBPACK_IMPORTED_MODULE_5__.prepareBase64)(preview)}")`;
      } else {
        backgroundImage = '';
      }
    }
  }
  $: {
    if (state === STATE_LOADING || state === STATE_ERROR || isEmpty) {
      placeholderColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_6__.correctColor)($jsonPlaceholderColor, 1, placeholderColor);
    } else {
      placeholderColor = '';
    }
  }
  $: {
    {
      scale = (0,_utils_background__WEBPACK_IMPORTED_MODULE_7__.imageSize)($jsonScale) || scale;
    }
  }
  $: {
    updatePosition($jsonPosition);
  }
  alt = ($jsonA11y === null || $jsonA11y === void 0 ? void 0 : $jsonA11y.description) || '';
  $: {
    {
      const newRatio = $jsonAspect === null || $jsonAspect === void 0 ? void 0 : $jsonAspect.ratio;
      if (newRatio && (0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_8__.isPositiveNumber)(newRatio)) {
        aspectPaddingBottom = (100 / Number(newRatio)).toFixed(2);
      } else {
        aspectPaddingBottom = '0';
      }
    }
  }
  $: {
    {
      const val = $jsonTintColor;
      const newTintColor = val ? (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_6__.correctColor)(val) : undefined;
      const newTintMode = (0,_utils_correctTintMode__WEBPACK_IMPORTED_MODULE_9__.correctTintMode)($jsonTintMode, tintMode);
      if (newTintColor !== tintColor || newTintMode !== tintMode) {
        rootCtx.removeSvgFilter(tintColor, tintMode);
        svgFilterId = newTintColor ? rootCtx.addSvgFilter(newTintColor, newTintMode) : '';
        tintColor = newTintColor;
        tintMode = newTintMode;
      }
    }
  }
  $: {
    if ($jsonAppearanceAnimation && $jsonAppearanceAnimation.type === 'fade') {
      const animation = $jsonAppearanceAnimation;
      animationInterpolator = (0,_utils_correctCSSInterpolator__WEBPACK_IMPORTED_MODULE_10__.correctCSSInterpolator)(animation.interpolator, 'ease_in_out').replace(/_/g, '-');
      animationDuration = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_11__.correctNonNegativeNumber)(animation.duration, 300);
      animationDelay = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_11__.correctNonNegativeNumber)(animation.start_delay, 0);
      animationFadeStart = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_11__.correctNonNegativeNumber)(animation.alpha, 0);
    }
  }
  $: {
    {
      let newFilter = '';
      let newClipPath = '';
      if (Array.isArray($jsonFilters) && $jsonFilters.length) {
        newFilter = (0,_utils_filters__WEBPACK_IMPORTED_MODULE_12__.getCssFilter)($jsonFilters, componentContext.logError);
      }
      if (newFilter) {
        newClipPath = 'polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)';
      }
      filter = newFilter;
      filterClipPath = newClipPath;
      isRTLMirror = $direction === 'rtl' && Array.isArray($jsonFilters) && $jsonFilters.some(it => it.type === 'rtl_mirror');
    }
  }
  mods = {
    aspect: aspectPaddingBottom !== '0',
    'is-width-content': isWidthContent,
    'is-height-content': isHeightContent,
    loaded: state === STATE_LOADED,
    'before-appearance': Boolean(animationInterpolator) && state === STATE_LOADING,
    'is-rtl-mirror': isRTLMirror
  };
  style = {
    // Image preview shows, if loading of original image is failed
    'background-image': backgroundImage,
    'background-color': backgroundImage ? undefined : placeholderColor,
    'background-size': scale,
    'clip-path': filterClipPath || undefined,
    'object-fit': scale,
    'object-position': position,
    filter: [state === STATE_LOADED && svgFilterId ? `url(#${svgFilterId})` : '', filter].filter(Boolean).join(' '),
    '--divkit-appearance-interpolator': animationInterpolator || undefined,
    '--divkit-appearance-fade-start': animationInterpolator ? animationFadeStart : undefined,
    '--divkit-appearance-delay': animationInterpolator ? `${animationDelay}ms` : undefined,
    '--divkit-appearance-duration': animationInterpolator ? `${animationDuration}ms` : undefined
  };
  $$unsubscribe_jsonFilters();
  $$unsubscribe_direction();
  $$unsubscribe_jsonAppearanceAnimation();
  $$unsubscribe_jsonTintMode();
  $$unsubscribe_jsonTintColor();
  $$unsubscribe_jsonAspect();
  $$unsubscribe_jsonA11y();
  $$unsubscribe_jsonPosition();
  $$unsubscribe_jsonScale();
  $$unsubscribe_jsonPlaceholderColor();
  $$unsubscribe_jsonPreview();
  $$unsubscribe_jsonHeight();
  $$unsubscribe_jsonWidth();
  $$unsubscribe_jsonImageUrl();
  $$unsubscribe_jsonGifUrl();
  $$unsubscribe_jsonPreloadRequired();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_14__.genClassName)('image', _Image_module_css__WEBPACK_IMPORTED_MODULE_15__["default"], mods),
    componentContext,
    layoutParams,
    customDescription: true
  }, {}, {
    default: () => {
      return `${mods.aspect ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Image_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['image__aspect-wrapper'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "padding-bottom": `${aspectPaddingBottom}%`
      })}><img${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Image_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].image__image, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", state === STATE_ERROR ? FALLBACK_IMAGE : imageUrl, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("loading", $jsonPreloadRequired ? 'eager' : 'lazy', 0)} decoding="async"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__.makeStyle)(style), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("alt", alt, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-hidden", alt ? null : 'true', 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", img, 0)}></span>` : `<img${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Image_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].image__image, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", state === STATE_ERROR ? FALLBACK_IMAGE : imageUrl, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("loading", $jsonPreloadRequired ? 'eager' : 'lazy', 0)} decoding="async"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__.makeStyle)(style), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("alt", alt, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-hidden", alt ? null : 'true', 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", img, 0)}>`}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Image);

/***/ }),

/***/ "./src/components/indicator/Indicator.svelte":
/*!***************************************************!*\
  !*** ./src/components/indicator/Indicator.svelte ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Indicator.module.css */ "./src/components/indicator/Indicator.module.css");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/keyboard/codes */ "./src/utils/keyboard/codes.ts");
/* harmony import */ var _utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctDrawableStyles */ "./src/utils/correctDrawableStyles.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* src\components\indicator\Indicator.svelte generated by Svelte v4.2.0 */













var _a, _b;
const AVAIL_SHAPES = ['rounded_rectangle', 'circle'];
const Indicator = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonShape;
  let jsonActiveItemColor;
  let jsonInactiveItemColor;
  let jsonActiveItemSize;
  let jsonActiveShape;
  let jsonInactiveShape;
  let jsonSpaceBetweenCenters;
  let jsonItemsPlacement;
  let pagers;
  let mods;
  let $direction, $$unsubscribe_direction;
  let $pagers,
    $$unsubscribe_pagers = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_pagers = () => ($$unsubscribe_pagers(), $$unsubscribe_pagers = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(pagers, $$value => $pagers = $$value), pagers);
  let $jsonSpaceBetweenCenters,
    $$unsubscribe_jsonSpaceBetweenCenters = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSpaceBetweenCenters = () => ($$unsubscribe_jsonSpaceBetweenCenters(), $$unsubscribe_jsonSpaceBetweenCenters = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSpaceBetweenCenters, $$value => $jsonSpaceBetweenCenters = $$value), jsonSpaceBetweenCenters);
  let $jsonItemsPlacement,
    $$unsubscribe_jsonItemsPlacement = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonItemsPlacement = () => ($$unsubscribe_jsonItemsPlacement(), $$unsubscribe_jsonItemsPlacement = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonItemsPlacement, $$value => $jsonItemsPlacement = $$value), jsonItemsPlacement);
  let $jsonActiveItemColor,
    $$unsubscribe_jsonActiveItemColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonActiveItemColor = () => ($$unsubscribe_jsonActiveItemColor(), $$unsubscribe_jsonActiveItemColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonActiveItemColor, $$value => $jsonActiveItemColor = $$value), jsonActiveItemColor);
  let $jsonInactiveItemColor,
    $$unsubscribe_jsonInactiveItemColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonInactiveItemColor = () => ($$unsubscribe_jsonInactiveItemColor(), $$unsubscribe_jsonInactiveItemColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonInactiveItemColor, $$value => $jsonInactiveItemColor = $$value), jsonInactiveItemColor);
  let $jsonShape,
    $$unsubscribe_jsonShape = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonShape = () => ($$unsubscribe_jsonShape(), $$unsubscribe_jsonShape = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonShape, $$value => $jsonShape = $$value), jsonShape);
  let $jsonActiveItemSize,
    $$unsubscribe_jsonActiveItemSize = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonActiveItemSize = () => ($$unsubscribe_jsonActiveItemSize(), $$unsubscribe_jsonActiveItemSize = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonActiveItemSize, $$value => $jsonActiveItemSize = $$value), jsonActiveItemSize);
  let $jsonInactiveShape,
    $$unsubscribe_jsonInactiveShape = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonInactiveShape = () => ($$unsubscribe_jsonInactiveShape(), $$unsubscribe_jsonInactiveShape = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonInactiveShape, $$value => $jsonInactiveShape = $$value), jsonInactiveShape);
  let $jsonActiveShape,
    $$unsubscribe_jsonActiveShape = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonActiveShape = () => ($$unsubscribe_jsonActiveShape(), $$unsubscribe_jsonActiveShape = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonActiveShape, $$value => $jsonActiveShape = $$value), jsonActiveShape);
  var _a, _b;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let activeStyle = {
    width: 13,
    height: 13,
    borderRadius: 6.5,
    background: '#ffdc60'
  };
  let inactiveStyle = {
    width: 10,
    height: 10,
    borderRadius: 5,
    background: '#33919cb5'
  };
  let placement = 'default';
  let spaceBetweenCenters = 15;
  let maxVisibleItems = 10;
  let itemSpacing = 5;
  let scroller;
  let indicatorItemsWrapper;
  let pagerData;
  function rebind() {
    placement = 'default';
    spaceBetweenCenters = 15;
    maxVisibleItems = 10;
    itemSpacing = 5;
    activeStyle = {
      width: 13,
      height: 13,
      borderRadius: 6.5,
      background: '#ffdc60'
    };
    inactiveStyle = {
      width: 10,
      height: 10,
      borderRadius: 5,
      background: '#33919cb5'
    };
  }
  async function onPagerDataUpdate(pagersMap) {
    if (componentContext.json.pager_id && pagersMap.has(componentContext.json.pager_id)) {
      pagerData = pagersMap.get(componentContext.json.pager_id);
      await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
      if (indicatorItemsWrapper) {
        // if not destroyed yet
        const elem = indicatorItemsWrapper.children[pagerData.currentItem];
        if (elem) {
          const currentItemOffsetLeft = elem.offsetLeft;
          scroller.scroll({
            left: currentItemOffsetLeft - scroller.clientWidth / 2,
            behavior: 'smooth'
          });
        }
      }
    }
  }
  function onIndicatorItemClick(index) {
    if (index !== pagerData.currentItem) {
      pagerData.scrollToPagerItem(index);
    }
  }
  function onIndicatorItemKeydown(event) {
    if (event.ctrlKey || event.shiftKey || event.altKey || event.metaKey) {
      return;
    }
    const {
      size,
      currentItem
    } = pagerData;
    if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_3__.ARROW_LEFT) {
      const prevItem = currentItem - 1 < 0 ? currentItem : currentItem - 1;
      moveFocus(prevItem);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_3__.ARROW_RIGHT) {
      const nextItem = currentItem + 1 >= size ? currentItem : currentItem + 1;
      moveFocus(nextItem);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_3__.HOME) {
      moveFocus(0);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_3__.END) {
      moveFocus(size - 1);
    } else {
      return;
    }
    event.preventDefault();
  }
  async function moveFocus(index) {
    pagerData.scrollToPagerItem(index);
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    const activeItem = indicatorItemsWrapper.querySelector(`.${_Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].indicator__item_active}`);
    if (activeItem) {
      activeItem.focus();
    }
  }
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $$subscribe_jsonShape(jsonShape = componentContext.getDerivedFromVars(componentContext.json.shape));
  $$subscribe_jsonActiveItemColor(jsonActiveItemColor = componentContext.getDerivedFromVars(componentContext.json.active_item_color));
  $$subscribe_jsonInactiveItemColor(jsonInactiveItemColor = componentContext.getDerivedFromVars(componentContext.json.inactive_item_color));
  $$subscribe_jsonActiveItemSize(jsonActiveItemSize = componentContext.getDerivedFromVars(componentContext.json.active_item_size));
  $$subscribe_jsonActiveShape(jsonActiveShape = componentContext.getDerivedFromVars(componentContext.json.active_shape));
  $$subscribe_jsonInactiveShape(jsonInactiveShape = componentContext.getDerivedFromVars(componentContext.json.inactive_shape));
  $$subscribe_jsonSpaceBetweenCenters(jsonSpaceBetweenCenters = componentContext.getDerivedFromVars(componentContext.json.space_between_centers));
  $$subscribe_jsonItemsPlacement(jsonItemsPlacement = componentContext.getDerivedFromVars(componentContext.json.items_placement));
  $: {
    {
      if ($jsonActiveShape) {
        activeStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_5__.correctDrawableStyle)({
          type: 'shape_drawable',
          shape: $jsonActiveShape
        }, AVAIL_SHAPES, activeStyle);
      }
      if ($jsonInactiveShape) {
        inactiveStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_5__.correctDrawableStyle)({
          type: 'shape_drawable',
          shape: $jsonInactiveShape
        }, AVAIL_SHAPES, inactiveStyle);
      }
      if (!$jsonActiveShape && !$jsonInactiveShape && $jsonShape) {
        const activeSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_6__.correctPositiveNumber)($jsonActiveItemSize, 1.3);
        inactiveStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_5__.correctDrawableStyle)({
          type: 'shape_drawable',
          shape: $jsonShape,
          color: inactiveStyle.background
        }, AVAIL_SHAPES, inactiveStyle);
        inactiveStyle.background = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_7__.correctColor)($jsonInactiveItemColor, 1, inactiveStyle.background);
        activeStyle = Object.assign(Object.assign({}, inactiveStyle), {
          width: inactiveStyle.width * activeSize,
          height: inactiveStyle.height * activeSize,
          borderRadius: inactiveStyle.borderRadius * activeSize,
          background: activeStyle.background
        });
        activeStyle.background = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_7__.correctColor)($jsonActiveItemColor, 1, activeStyle.background);
      }
    }
  }
  $: {
    if ($jsonItemsPlacement && ($jsonItemsPlacement.type === 'default' || $jsonItemsPlacement.type === 'stretch')) {
      placement = $jsonItemsPlacement.type;
      if (placement === 'default') {
        spaceBetweenCenters = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__.correctNonNegativeNumber)((_a = $jsonItemsPlacement.space_between_centers) === null || _a === void 0 ? void 0 : _a.value, spaceBetweenCenters);
      } else if (placement === 'stretch') {
        const placement = $jsonItemsPlacement;
        maxVisibleItems = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_6__.correctPositiveNumber)(placement.max_visible_items, maxVisibleItems);
        itemSpacing = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__.correctNonNegativeNumber)((_b = placement.item_spacing) === null || _b === void 0 ? void 0 : _b.value, itemSpacing);
      }
    } else {
      placement = 'default';
      if ($jsonSpaceBetweenCenters) {
        spaceBetweenCenters = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__.correctNonNegativeNumber)($jsonSpaceBetweenCenters.value, spaceBetweenCenters);
      }
    }
  }
  $$subscribe_pagers(pagers = rootCtx.getStore('pagers'));
  $: {
    {
      onPagerDataUpdate($pagers);
    }
  }
  mods = {
    placement,
    direction: $direction
  };
  $$unsubscribe_direction();
  $$unsubscribe_pagers();
  $$unsubscribe_jsonSpaceBetweenCenters();
  $$unsubscribe_jsonItemsPlacement();
  $$unsubscribe_jsonActiveItemColor();
  $$unsubscribe_jsonInactiveItemColor();
  $$unsubscribe_jsonShape();
  $$unsubscribe_jsonActiveItemSize();
  $$unsubscribe_jsonInactiveShape();
  $$unsubscribe_jsonActiveShape();
  return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_9__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_10__.genClassName)('indicator', _Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], mods),
    componentContext,
    layoutParams
  }, {}, {
    default: () => {
      return `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].indicator__scroller, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", scroller, 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].indicator__items, 0)} role="tablist"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "margin": placement === 'default' ? `0 ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(Math.max(0, activeStyle.width - inactiveStyle.width) / 2)}` : '',
        "--divkit-indicator-inactive-width": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(inactiveStyle.width),
        "--divkit-indicator-inactive-height": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(inactiveStyle.height),
        "--divkit-indicator-inactive-border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(inactiveStyle.borderRadius),
        "--divkit-indicator-inactive-background": inactiveStyle.background || '',
        "--divkit-indicator-inactive-box-shadow": inactiveStyle.boxShadow || '',
        "--divkit-indicator-active-width": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(activeStyle.width),
        "--divkit-indicator-active-height": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(activeStyle.height),
        "--divkit-indicator-active-border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(activeStyle.borderRadius),
        "--divkit-indicator-active-background": activeStyle.background || '',
        "--divkit-indicator-active-box-shadow": activeStyle.boxShadow || '',
        "--divkit-indicator-active-scale": activeStyle.width / inactiveStyle.width,
        "--divkit-indicator-default-margin": placement === 'default' ? `0 ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)((spaceBetweenCenters - inactiveStyle.width) / 2)}` : '',
        "--divkit-indicator-stretch-margin": placement === 'stretch' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(itemSpacing) : '',
        "--divkit-indicator-stretch-max-count": placement === 'stretch' ? maxVisibleItems : '',
        "--divkit-indicator-stretch-max-spacer": placement === 'stretch' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)((maxVisibleItems - 1) * itemSpacing) : ''
      })}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", indicatorItemsWrapper, 0)}>${pagerData ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(Array(pagerData.size), (_, index) => {
        let isActiveItem = index === pagerData.currentItem;
        return ` <div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)((0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_10__.genClassName)('indicator__item', _Indicator_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], {
          active: isActiveItem
        }), true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Root_module_css__WEBPACK_IMPORTED_MODULE_12__["default"].root__clickable, true)}" role="tab" id="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(pagerData.instId, true) + "-tab-" + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(index, true)}" aria-controls="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(pagerData.instId, true) + "-panel-" + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(index, true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-selected", isActiveItem ? 'true' : 'false', 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("tabindex", isActiveItem ? 0 : -1, 0)}></div>`;
      })}` : ``}</div></div>`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Indicator);

/***/ }),

/***/ "./src/components/input/Input.svelte":
/*!*******************************************!*\
  !*** ./src/components/input/Input.svelte ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Input_module_css__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Input.module.css */ "./src/components/input/Input.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/correctFontWeight */ "./src/utils/correctFontWeight.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_isNumber__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/isNumber */ "./src/utils/isNumber.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../expressions/variable */ "./src/expressions/variable.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/correctEdgeInsertsObject */ "./src/utils/correctEdgeInsertsObject.ts");
/* harmony import */ var _utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/edgeInsertsToCss */ "./src/utils/edgeInsertsToCss.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_updateFixedMask__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/updateFixedMask */ "./src/utils/updateFixedMask.ts");
/* harmony import */ var _utils_updateCurrencyMask__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/updateCurrencyMask */ "./src/utils/updateCurrencyMask.ts");
/* harmony import */ var _utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/correctAlignmentHorizontal */ "./src/utils/correctAlignmentHorizontal.ts");
/* harmony import */ var _utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/correctAlignmentVertical */ "./src/utils/correctAlignmentVertical.ts");
/* harmony import */ var _utils_contenteditable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/contenteditable */ "./src/utils/contenteditable.ts");
/* harmony import */ var _utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/correctBooleanInt */ "./src/utils/correctBooleanInt.ts");
/* src\components\input\Input.svelte generated by Svelte v4.2.0 */
























var _a;
const isSupportInputMode = typeof document !== 'undefined' && 'inputMode' in document.createElement('input');
const KEYBOARD_MAP = {
  email: 'email',
  number: 'number',
  phone: 'tel',
  single_line_text: 'text',
  multi_line_text: 'text',
  uri: 'url',
  password: 'password'
};
function onPaste(event) {
  event.preventDefault();
  if (event.clipboardData) {
    let text = event.clipboardData.getData('text/plain');
    text = text.trim();
    document.execCommand('inserttext', false, text);
  }
}
const Input = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let variable;
  let rawVariable;
  let valueVariable;
  let rawValueVariable;
  let jsonHintText;
  let jsonHintColor;
  let jsonFontSize;
  let jsonFontWeight;
  let jsonFontFamily;
  let jsonLineHeight;
  let jsonLetterSpacing;
  let jsonTextColor;
  let jsonHighlightColor;
  let jsonAlignmentHorizontal;
  let jsonAlignmentVertical;
  let jsonKeyboardType;
  let jsonMask;
  let jsonVisibleMaxLines;
  let jsonPaddings;
  let jsonAccessibility;
  let jsonSelectAll;
  let jsonIsEnabled;
  let placeholder;
  let isMultiline;
  let mods;
  let stl;
  let paddingStl;
  let verticalPaddingStl;
  let $valueVariable,
    $$unsubscribe_valueVariable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_valueVariable = () => ($$unsubscribe_valueVariable(), $$unsubscribe_valueVariable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(valueVariable, $$value => $valueVariable = $$value), valueVariable);
  let $rawValueVariable,
    $$unsubscribe_rawValueVariable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_rawValueVariable = () => ($$unsubscribe_rawValueVariable(), $$unsubscribe_rawValueVariable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(rawValueVariable, $$value => $rawValueVariable = $$value), rawValueVariable);
  let $jsonAccessibility,
    $$unsubscribe_jsonAccessibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAccessibility = () => ($$unsubscribe_jsonAccessibility(), $$unsubscribe_jsonAccessibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAccessibility, $$value => $jsonAccessibility = $$value), jsonAccessibility);
  let $direction, $$unsubscribe_direction;
  let $jsonPaddings,
    $$unsubscribe_jsonPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPaddings = () => ($$unsubscribe_jsonPaddings(), $$unsubscribe_jsonPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPaddings, $$value => $jsonPaddings = $$value), jsonPaddings);
  let $jsonVisibleMaxLines,
    $$unsubscribe_jsonVisibleMaxLines = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonVisibleMaxLines = () => ($$unsubscribe_jsonVisibleMaxLines(), $$unsubscribe_jsonVisibleMaxLines = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonVisibleMaxLines, $$value => $jsonVisibleMaxLines = $$value), jsonVisibleMaxLines);
  let $jsonMask,
    $$unsubscribe_jsonMask = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMask = () => ($$unsubscribe_jsonMask(), $$unsubscribe_jsonMask = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMask, $$value => $jsonMask = $$value), jsonMask);
  let $jsonKeyboardType,
    $$unsubscribe_jsonKeyboardType = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonKeyboardType = () => ($$unsubscribe_jsonKeyboardType(), $$unsubscribe_jsonKeyboardType = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonKeyboardType, $$value => $jsonKeyboardType = $$value), jsonKeyboardType);
  let $jsonIsEnabled,
    $$unsubscribe_jsonIsEnabled = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonIsEnabled = () => ($$unsubscribe_jsonIsEnabled(), $$unsubscribe_jsonIsEnabled = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonIsEnabled, $$value => $jsonIsEnabled = $$value), jsonIsEnabled);
  let $jsonAlignmentVertical,
    $$unsubscribe_jsonAlignmentVertical = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAlignmentVertical = () => ($$unsubscribe_jsonAlignmentVertical(), $$unsubscribe_jsonAlignmentVertical = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAlignmentVertical, $$value => $jsonAlignmentVertical = $$value), jsonAlignmentVertical);
  let $jsonAlignmentHorizontal,
    $$unsubscribe_jsonAlignmentHorizontal = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAlignmentHorizontal = () => ($$unsubscribe_jsonAlignmentHorizontal(), $$unsubscribe_jsonAlignmentHorizontal = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAlignmentHorizontal, $$value => $jsonAlignmentHorizontal = $$value), jsonAlignmentHorizontal);
  let $jsonHighlightColor,
    $$unsubscribe_jsonHighlightColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHighlightColor = () => ($$unsubscribe_jsonHighlightColor(), $$unsubscribe_jsonHighlightColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHighlightColor, $$value => $jsonHighlightColor = $$value), jsonHighlightColor);
  let $jsonTextColor,
    $$unsubscribe_jsonTextColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextColor = () => ($$unsubscribe_jsonTextColor(), $$unsubscribe_jsonTextColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextColor, $$value => $jsonTextColor = $$value), jsonTextColor);
  let $jsonLetterSpacing,
    $$unsubscribe_jsonLetterSpacing = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLetterSpacing = () => ($$unsubscribe_jsonLetterSpacing(), $$unsubscribe_jsonLetterSpacing = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLetterSpacing, $$value => $jsonLetterSpacing = $$value), jsonLetterSpacing);
  let $jsonLineHeight,
    $$unsubscribe_jsonLineHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLineHeight = () => ($$unsubscribe_jsonLineHeight(), $$unsubscribe_jsonLineHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLineHeight, $$value => $jsonLineHeight = $$value), jsonLineHeight);
  let $jsonFontFamily,
    $$unsubscribe_jsonFontFamily = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontFamily = () => ($$unsubscribe_jsonFontFamily(), $$unsubscribe_jsonFontFamily = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontFamily, $$value => $jsonFontFamily = $$value), jsonFontFamily);
  let $jsonFontWeight,
    $$unsubscribe_jsonFontWeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontWeight = () => ($$unsubscribe_jsonFontWeight(), $$unsubscribe_jsonFontWeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontWeight, $$value => $jsonFontWeight = $$value), jsonFontWeight);
  let $jsonFontSize,
    $$unsubscribe_jsonFontSize = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontSize = () => ($$unsubscribe_jsonFontSize(), $$unsubscribe_jsonFontSize = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontSize, $$value => $jsonFontSize = $$value), jsonFontSize);
  let $jsonHintColor,
    $$unsubscribe_jsonHintColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHintColor = () => ($$unsubscribe_jsonHintColor(), $$unsubscribe_jsonHintColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHintColor, $$value => $jsonHintColor = $$value), jsonHintColor);
  let $jsonHintText,
    $$unsubscribe_jsonHintText = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHintText = () => ($$unsubscribe_jsonHintText(), $$unsubscribe_jsonHintText = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHintText, $$value => $jsonHintText = $$value), jsonHintText);
  let $jsonSelectAll,
    $$unsubscribe_jsonSelectAll = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSelectAll = () => ($$unsubscribe_jsonSelectAll(), $$unsubscribe_jsonSelectAll = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSelectAll, $$value => $jsonSelectAll = $$value), jsonSelectAll);
  var _a;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let prevId;
  let input;
  let isPressed = false;
  let inputMask = null;
  let value = '';
  let contentEditableValue = '';
  let hasError = false;
  let hintColor = '';
  let fontSize = 12;
  let fontWeight = undefined;
  let fontFamily = '';
  let lineHeight = undefined;
  let letterSpacing = '';
  let textColor = '#000';
  let highlightColor = '';
  let alignmentHorizontal = 'start';
  let alignmentVertical = 'center';
  let keyboardType = 'multi_line_text';
  let inputType = 'text';
  let inputMode = undefined;
  let maxHeight = '';
  let selfPadding = null;
  let padding = '';
  let verticalPadding = '';
  let description = '';
  let isEnabled = true;
  function rebind() {
    hintColor = '';
    fontSize = 12;
    fontWeight = undefined;
    fontFamily = '';
    lineHeight = undefined;
    textColor = '#000';
    highlightColor = '';
    alignmentHorizontal = 'left';
    alignmentVertical = 'center';
    keyboardType = 'multi_line_text';
    inputType = 'text';
    inputMode = undefined;
    isEnabled = true;
  }
  function updateMaskData(mask) {
    if ((mask === null || mask === void 0 ? void 0 : mask.type) === 'fixed_length') {
      inputMask = (0,_utils_updateFixedMask__WEBPACK_IMPORTED_MODULE_3__.updateFixedMask)(mask, componentContext.logError, inputMask);
    } else if ((mask === null || mask === void 0 ? void 0 : mask.type) === 'currency') {
      inputMask = (0,_utils_updateCurrencyMask__WEBPACK_IMPORTED_MODULE_4__.updateCurrencyMask)(mask, componentContext.logError, inputMask);
    }
    if (inputMask) {
      runRawValueMask();
    }
  }
  function onInput(event) {
    let val = (isMultiline ? event.target.innerText : event.target.value) || '';
    if (val === '\n') {
      val = '';
    }
    if (value !== val) {
      value = contentEditableValue = val;
      valueVariable.setValue(val);
      if (inputMask) {
        runValueMask();
      }
    }
  }

  // Handle text selection
  function onMousedown() {
    isPressed = false;
    setTimeout(() => {
      isPressed = true;
    }, 250);
  }
  function onClick() {
    if (!isPressed) {
      if (input instanceof HTMLInputElement) {
        input.select();
      } else {
        const selection = window.getSelection();
        const range = document.createRange();
        range.selectNodeContents(input);
        if (selection) {
          selection.removeAllRanges();
          selection.addRange(range);
        }
      }
    }
  }
  function getSelectionEnd() {
    if (input instanceof HTMLInputElement) {
      return input.selectionEnd === null ? undefined : input.selectionEnd;
    }
    return (0,_utils_contenteditable__WEBPACK_IMPORTED_MODULE_5__.calcSelectionOffset)(input);
  }
  function setCursorPosition(cursorPosition) {
    if (input instanceof HTMLInputElement) {
      input.selectionStart = input.selectionEnd = cursorPosition;
    } else {
      (0,_utils_contenteditable__WEBPACK_IMPORTED_MODULE_5__.setSelectionOffset)(input, cursorPosition);
    }
  }
  async function runValueMask() {
    if (!input || !inputMask) {
      return;
    }
    inputMask.applyChangeFrom(value, getSelectionEnd());
    rawValueVariable.set(inputMask.rawValue);
    (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_store_value)(valueVariable, $valueVariable = value = contentEditableValue = inputMask.value, $valueVariable);
    const cursorPosition = inputMask.cursorPosition;
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    if (document.activeElement === input) {
      setCursorPosition(cursorPosition);
    }
  }
  async function runRawValueMask() {
    if (!input || !inputMask) {
      return;
    }
    inputMask.overrideRawValue($rawValueVariable);
    rawValueVariable.set(inputMask.rawValue);
    (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_store_value)(valueVariable, $valueVariable = value = contentEditableValue = inputMask.value, $valueVariable);
    const cursorPosition = inputMask.cursorPosition;
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    if (document.activeElement === input) {
      setCursorPosition(cursorPosition);
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    if (input && inputMask) {
      if ($rawValueVariable) {
        inputMask.overrideRawValue($rawValueVariable);
        (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_store_value)(valueVariable, $valueVariable = value = contentEditableValue = inputMask.value, $valueVariable);
      }
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevId) {
      rootCtx.unregisterFocusable(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  variable = componentContext.json.text_variable;
  rawVariable = (_a = componentContext.json.mask) === null || _a === void 0 ? void 0 : _a.raw_text_variable;
  $$subscribe_valueVariable(valueVariable = variable && componentContext.getVariable(variable, 'string') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_6__.createVariable)('temp', 'string', ''));
  $$subscribe_rawValueVariable(rawValueVariable = rawVariable && componentContext.getVariable(rawVariable, 'string') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_6__.createVariable)('temp', 'string', ''));
  $$subscribe_jsonHintText(jsonHintText = componentContext.getDerivedFromVars(componentContext.json.hint_text));
  $$subscribe_jsonHintColor(jsonHintColor = componentContext.getDerivedFromVars(componentContext.json.hint_color));
  $$subscribe_jsonFontSize(jsonFontSize = componentContext.getDerivedFromVars(componentContext.json.font_size));
  $$subscribe_jsonFontWeight(jsonFontWeight = componentContext.getDerivedFromVars(componentContext.json.font_weight));
  $$subscribe_jsonFontFamily(jsonFontFamily = componentContext.getDerivedFromVars(componentContext.json.font_family));
  $$subscribe_jsonLineHeight(jsonLineHeight = componentContext.getDerivedFromVars(componentContext.json.line_height));
  $$subscribe_jsonLetterSpacing(jsonLetterSpacing = componentContext.getDerivedFromVars(componentContext.json.letter_spacing));
  $$subscribe_jsonTextColor(jsonTextColor = componentContext.getDerivedFromVars(componentContext.json.text_color));
  $$subscribe_jsonHighlightColor(jsonHighlightColor = componentContext.getDerivedFromVars(componentContext.json.highlight_color));
  $$subscribe_jsonAlignmentHorizontal(jsonAlignmentHorizontal = componentContext.getDerivedFromVars(componentContext.json.text_alignment_horizontal));
  $$subscribe_jsonAlignmentVertical(jsonAlignmentVertical = componentContext.getDerivedFromVars(componentContext.json.text_alignment_vertical));
  $$subscribe_jsonKeyboardType(jsonKeyboardType = componentContext.getDerivedFromVars(componentContext.json.keyboard_type));
  $$subscribe_jsonMask(jsonMask = componentContext.getDerivedFromVars(componentContext.json.mask));
  $$subscribe_jsonVisibleMaxLines(jsonVisibleMaxLines = componentContext.getDerivedFromVars(componentContext.json.max_visible_lines));
  $$subscribe_jsonPaddings(jsonPaddings = componentContext.getDerivedFromVars(componentContext.json.paddings));
  $$subscribe_jsonAccessibility(jsonAccessibility = componentContext.getDerivedFromVars(componentContext.json.accessibility));
  $$subscribe_jsonSelectAll(jsonSelectAll = componentContext.getDerivedFromVars(componentContext.json.select_all_on_focus));
  $$subscribe_jsonIsEnabled(jsonIsEnabled = componentContext.getDerivedFromVars(componentContext.json.is_enabled));
  $: {
    if (variable) {
      hasError = false;
    } else {
      hasError = true;
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_7__.wrapError)(new Error('Missing "text_variable" in "input"')));
    }
  }
  $: {
    updateMaskData($jsonMask);
  }
  $: {
    if (!inputMask && value !== $valueVariable) {
      value = contentEditableValue = $valueVariable;
    }
  }
  $: {
    if (inputMask && inputMask.rawValue !== $rawValueVariable) {
      runRawValueMask();
    }
  }
  placeholder = $jsonHintText;
  $: {
    {
      hintColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)($jsonHintColor, 1, hintColor);
    }
  }
  $: {
    {
      fontSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_9__.correctPositiveNumber)($jsonFontSize, fontSize);
    }
  }
  $: {
    {
      fontWeight = (0,_utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_10__.correctFontWeight)($jsonFontWeight, fontWeight);
      if ($jsonFontFamily && typeof $jsonFontFamily === 'string') {
        fontFamily = rootCtx.typefaceProvider($jsonFontFamily, {
          fontWeight: fontWeight || 400
        });
      } else {
        fontFamily = '';
      }
    }
  }
  $: {
    {
      const val = $jsonLineHeight;
      if ((0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_11__.isPositiveNumber)(val)) {
        lineHeight = val / fontSize;
      }
    }
  }
  $: {
    {
      if ((0,_utils_isNumber__WEBPACK_IMPORTED_MODULE_12__.isNumber)($jsonLetterSpacing)) {
        letterSpacing = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_13__.pxToEm)($jsonLetterSpacing);
      }
    }
  }
  $: {
    {
      textColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)($jsonTextColor, 1, textColor);
    }
  }
  $: {
    {
      highlightColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)($jsonHighlightColor, 1, highlightColor);
    }
  }
  $: {
    {
      alignmentHorizontal = (0,_utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_14__.correctAlignmentHorizontal)($jsonAlignmentHorizontal, $direction, alignmentHorizontal);
    }
  }
  $: {
    {
      alignmentVertical = (0,_utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_15__.correctAlignmentVertical)($jsonAlignmentVertical, alignmentVertical);
    }
  }
  $: {
    {
      isEnabled = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_16__.correctBooleanInt)($jsonIsEnabled, isEnabled);
    }
  }
  $: {
    {
      if ($jsonKeyboardType && $jsonKeyboardType in KEYBOARD_MAP) {
        inputType = KEYBOARD_MAP[$jsonKeyboardType];
        keyboardType = $jsonKeyboardType;
      }
      if (($jsonMask === null || $jsonMask === void 0 ? void 0 : $jsonMask.type) === 'currency') {
        inputType = isSupportInputMode ? 'text' : 'tel';
        inputMode = 'decimal';
      }
    }
  }
  isMultiline = keyboardType === 'multi_line_text'; /* && isPositiveNumber($jsonVisibleMaxLines) && $jsonVisibleMaxLines > 1*/

  $: {
    {
      if ((0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_11__.isPositiveNumber)($jsonVisibleMaxLines)) {
        maxHeight = `calc(${$jsonVisibleMaxLines * (lineHeight || 1.25) * (fontSize / 10) + 'em'} + ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_13__.pxToEmWithUnits)((0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_17__.correctNonNegativeNumber)($jsonPaddings === null || $jsonPaddings === void 0 ? void 0 : $jsonPaddings.top, 0) + (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_17__.correctNonNegativeNumber)($jsonPaddings === null || $jsonPaddings === void 0 ? void 0 : $jsonPaddings.bottom, 0))})`;
      } else {
        maxHeight = '';
      }
      selfPadding = (0,_utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_18__.correctEdgeInsertsObject)($jsonPaddings ? $jsonPaddings : undefined, selfPadding);
      padding = selfPadding ? (0,_utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_19__.edgeInsertsToCss)({
        top: (Number(selfPadding.top) || 0) / fontSize * 10,
        right: (Number($direction === 'ltr' ? selfPadding.end : selfPadding.start) || Number(selfPadding.right) || 0) / fontSize * 10,
        bottom: (Number(selfPadding.bottom) || 0) / fontSize * 10,
        left: (Number($direction === 'ltr' ? selfPadding.start : selfPadding.end) || Number(selfPadding.left) || 0) / fontSize * 10
      }, $direction) : '';
      verticalPadding = selfPadding ? (0,_utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_19__.edgeInsertsToCss)({
        top: (Number(selfPadding.top) || 0) / fontSize * 10,
        bottom: (Number(selfPadding.bottom) || 0) / fontSize * 10
      }, $direction) : '';
    }
  }
  $: {
    if ($jsonAccessibility === null || $jsonAccessibility === void 0 ? void 0 : $jsonAccessibility.description) {
      description = $jsonAccessibility.description;
    } else {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_7__.wrapError)(new Error('Missing accessibility "description" for input'), {
        level: 'warn'
      }));
    }
  }
  mods = {
    'highlight-color': Boolean(highlightColor),
    multiline: isMultiline,
    'alignment-horizontal': alignmentHorizontal,
    'alignment-vertical': alignmentVertical
  };
  stl = {
    '--divkit-input-hint-color': hintColor,
    '--divkit-input-highlight-color': highlightColor,
    '--divkit-input-line-height': lineHeight,
    'font-weight': fontWeight,
    'font-family': fontFamily,
    'letter-spacing': letterSpacing,
    color: textColor,
    'max-height': maxHeight
  };
  paddingStl = {
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_13__.pxToEm)(fontSize),
    padding
  };
  verticalPaddingStl = {
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_13__.pxToEm)(fontSize),
    padding: verticalPadding
  };
  $: {
    if (input && componentContext.json) {
      if (prevId) {
        rootCtx.unregisterFocusable(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerFocusable(prevId, {
          focus() {
            if (input) {
              input.focus();
            }
          }
        });
      }
    }
  }
  $$unsubscribe_valueVariable();
  $$unsubscribe_rawValueVariable();
  $$unsubscribe_jsonAccessibility();
  $$unsubscribe_direction();
  $$unsubscribe_jsonPaddings();
  $$unsubscribe_jsonVisibleMaxLines();
  $$unsubscribe_jsonMask();
  $$unsubscribe_jsonKeyboardType();
  $$unsubscribe_jsonIsEnabled();
  $$unsubscribe_jsonAlignmentVertical();
  $$unsubscribe_jsonAlignmentHorizontal();
  $$unsubscribe_jsonHighlightColor();
  $$unsubscribe_jsonTextColor();
  $$unsubscribe_jsonLetterSpacing();
  $$unsubscribe_jsonLineHeight();
  $$unsubscribe_jsonFontFamily();
  $$unsubscribe_jsonFontWeight();
  $$unsubscribe_jsonFontSize();
  $$unsubscribe_jsonHintColor();
  $$unsubscribe_jsonHintText();
  $$unsubscribe_jsonSelectAll();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_20__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_21__.genClassName)('input', _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"], mods),
    style: stl,
    customDescription: true,
    customActions: 'input',
    customPaddings: true,
    hasInnerFocusable: true,
    componentContext,
    layoutParams
  }, {}, {
    default: ({
      focusHandler,
      blurHandler,
      hasCustomFocus
    }) => {
      return `${isMultiline ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"]['input__scroll-wrapper'], 0)}>${!contentEditableValue && placeholder ? `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"].input__placeholder, 0)} aria-hidden="true"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__.makeStyle)(paddingStl), 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(placeholder)}</div>` : ``}  <span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"].input__aligner, 0)} aria-hidden="true"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__.makeStyle)(verticalPaddingStl), 0)}>​</span> ${isEnabled ? ` <span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_21__.genClassName)('input__input', _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"], {
        'has-custom-focus': hasCustomFocus,
        multiline: true
      }), 0)} autocapitalize="off" contenteditable="true" role="textbox" tabindex="0"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", description, 0)} aria-multiline="true"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__.makeStyle)(paddingStl), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", input, 0)}>${($$value => $$value === void 0 ? `` : $$value)(contentEditableValue)}</span>` : `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_21__.genClassName)('input__input', _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"], {
        multiline: true
      }), 0)} autocapitalize="off" contenteditable="false" role="textbox"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", description, 0)} aria-disabled="true" aria-multiline="true"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__.makeStyle)(paddingStl), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", input, 0)}>${($$value => $$value === void 0 ? `` : $$value)(contentEditableValue)}</span>`}</span>` : `<input${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("type", inputType, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("inputmode", inputMode, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_21__.genClassName)('input__input', _Input_module_css__WEBPACK_IMPORTED_MODULE_22__["default"], {
        'has-custom-focus': hasCustomFocus,
        singleline: true
      }), 0)} autocomplete="off" autocapitalize="off"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", description, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_23__.makeStyle)(paddingStl), 0)} ${!isEnabled ? "disabled" : ""}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("placeholder", placeholder, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("value", value, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", input, 0)}>`}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Input);

/***/ }),

/***/ "./src/components/menu/Menu.svelte":
/*!*****************************************!*\
  !*** ./src/components/menu/Menu.svelte ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_transition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/transition */ "./node_modules/svelte/src/runtime/transition/index.js");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _Menu_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Menu.module.css */ "./src/components/menu/Menu.module.css");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utilities/Actionable.svelte */ "./src/components/utilities/Actionable.svelte");
/* src\components\menu\Menu.svelte generated by Svelte v4.2.0 */








const Menu = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let mods;
  let $isDesktop, $$unsubscribe_isDesktop;
  let {
    ownerNode
  } = $$props;
  let {
    items
  } = $$props;
  let {
    parentComponentContext
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const popupMix = rootCtx.getCustomization('menuPopupClass') || '';
  const itemMix = rootCtx.getCustomization('menuItemClass') || '';
  const isDesktop = rootCtx.isDesktop;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(isDesktop, 'isDesktop');
  $$unsubscribe_isDesktop = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(isDesktop, value => $isDesktop = value);
  const creationTime = Date.now();
  const dispatch = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.createEventDispatcher)();
  let menuNode;
  let visible = false;
  let menuX = '';
  let menuY = '';
  let menuWidth = '';
  let menuHeight = '';
  let resizeObserver = null;
  function reposition() {
    if (!menuNode || !ownerNode) {
      return;
    }
    const parent = menuNode.parentElement;
    if (!parent) {
      return;
    }
    const ownerBbox = ownerNode.getBoundingClientRect();
    const menuBbox = menuNode.getBoundingClientRect();
    const parentBbox = parent.getBoundingClientRect();
    const windowWidth = window.innerWidth;
    const windowHeight = window.innerHeight;
    let x = 0;
    let y = 0;
    let width = null;
    let height = null;
    let calcedWidth = menuBbox.width;
    let calcedHeight = menuBbox.height;
    x = ownerBbox.left - parentBbox.left;
    y = ownerBbox.bottom - parentBbox.top;
    if (x + calcedWidth > windowWidth) {
      x = windowWidth - calcedWidth;
    }
    if (x < 0) {
      x = 0;
    }
    if (y + calcedHeight > windowHeight) {
      if (ownerBbox.top - parentBbox.top - calcedHeight > 0) {
        y = ownerBbox.top - parentBbox.top - calcedHeight;
      } else {
        y = windowHeight - calcedHeight;
      }
    }
    if (y < 0) {
      y = 0;
    }
    menuX = `${x}px`;
    menuY = `${y}px`;
    menuWidth = width !== null ? `${width}px` : '';
    menuHeight = height !== null ? `${height}px` : '';
    visible = true;
    if (width === null || height === null) {
      // wrap_content by any side
      if (typeof ResizeObserver !== 'undefined' && !resizeObserver) {
        resizeObserver = new ResizeObserver(() => {
          requestAnimationFrame(reposition);
        });
        resizeObserver.observe(menuNode);
      }
    } else {
      resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();
    }
  }
  function onWindowClick(event) {
    if (Date.now() - creationTime < 100 || event.composedPath().includes(menuNode)) {
      return;
    }
    dispatch('close');
  }
  function onWindowResize() {
    reposition();
  }
  function onItemAction() {
    dispatch('close');
    return true;
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    if (rootCtx.tooltipRoot) {
      const computed = window.getComputedStyle(menuNode);
      menuNode.style.fontSize = computed.fontSize;
      menuNode.style.fontFamily = computed.fontFamily;
      menuNode.style.lineHeight = computed.lineHeight;
      rootCtx.tooltipRoot.appendChild(menuNode);
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.afterUpdate)(() => {
    if (!visible) {
      reposition();
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();
  });
  if ($$props.ownerNode === void 0 && $$bindings.ownerNode && ownerNode !== void 0) $$bindings.ownerNode(ownerNode);
  if ($$props.items === void 0 && $$bindings.items && items !== void 0) $$bindings.items(items);
  if ($$props.parentComponentContext === void 0 && $$bindings.parentComponentContext && parentComponentContext !== void 0) $$bindings.parentComponentContext(parentComponentContext);
  mods = {
    visible
  };
  $$unsubscribe_isDesktop();
  return ` <div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)((0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_4__.genClassName)('menu', _Menu_module_css__WEBPACK_IMPORTED_MODULE_5__["default"], mods), true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($isDesktop ? _Root_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].root_platform_desktop : '', true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(popupMix, true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
    "top": menuY,
    "left": menuX,
    "width": menuWidth,
    "height": menuHeight
  })}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", menuNode, 0)}><ul${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Menu_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].menu__list, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(items, item => {
    return `<li>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_7__["default"], "Actionable").$$render($$result, {
      componentContext: parentComponentContext,
      actions: item.actions || item.action && [item.action],
      cls: _Menu_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].menu__item + " " + itemMix,
      customAction: onItemAction
    }, {}, {
      default: () => {
        return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(item.text)} `;
      }
    })} </li>`;
  })}</ul></div>`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);

/***/ }),

/***/ "./src/components/pager/Pager.svelte":
/*!*******************************************!*\
  !*** ./src/components/pager/Pager.svelte ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Pager_module_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Pager.module.css */ "./src/components/pager/Pager.module.css");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utilities/Arrows.module.css */ "./src/components/utilities/Arrows.module.css");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctGeneralOrientation */ "./src/utils/correctGeneralOrientation.ts");
/* harmony import */ var _utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/correctEdgeInserts */ "./src/utils/correctEdgeInserts.ts");
/* harmony import */ var _utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");
/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/debounce */ "./src/utils/debounce.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/nonNegativeModulo */ "./src/utils/nonNegativeModulo.ts");
/* src\components\pager\Pager.svelte generated by Svelte v4.2.0 */


















const Pager = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonLayoutMode;
  let jsonOrientation;
  let jsonItemSpacing;
  let jsonPaddings;
  let jsonRestrictParentScroll;
  let items;
  let gridAuto;
  let style;
  let mods;
  let hasError;
  let shouldCheckArrows;
  let hasScrollLeft;
  let hasScrollRight;
  let pagers;
  let $pagers,
    $$unsubscribe_pagers = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_pagers = () => ($$unsubscribe_pagers(), $$unsubscribe_pagers = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(pagers, $$value => $pagers = $$value), pagers);
  let $direction, $$unsubscribe_direction;
  let $isDesktop, $$unsubscribe_isDesktop;
  let $jsonLayoutMode,
    $$unsubscribe_jsonLayoutMode = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLayoutMode = () => ($$unsubscribe_jsonLayoutMode(), $$unsubscribe_jsonLayoutMode = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLayoutMode, $$value => $jsonLayoutMode = $$value), jsonLayoutMode);
  let $jsonPaddings,
    $$unsubscribe_jsonPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPaddings = () => ($$unsubscribe_jsonPaddings(), $$unsubscribe_jsonPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPaddings, $$value => $jsonPaddings = $$value), jsonPaddings);
  let $jsonItemSpacing,
    $$unsubscribe_jsonItemSpacing = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonItemSpacing = () => ($$unsubscribe_jsonItemSpacing(), $$unsubscribe_jsonItemSpacing = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonItemSpacing, $$value => $jsonItemSpacing = $$value), jsonItemSpacing);
  let $jsonOrientation,
    $$unsubscribe_jsonOrientation = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonOrientation = () => ($$unsubscribe_jsonOrientation(), $$unsubscribe_jsonOrientation = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonOrientation, $$value => $jsonOrientation = $$value), jsonOrientation);
  let $jsonRestrictParentScroll,
    $$unsubscribe_jsonRestrictParentScroll = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRestrictParentScroll = () => ($$unsubscribe_jsonRestrictParentScroll(), $$unsubscribe_jsonRestrictParentScroll = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRestrictParentScroll, $$value => $jsonRestrictParentScroll = $$value), jsonRestrictParentScroll);
  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  const instId = rootCtx.genId('pager');
  const leftClass = rootCtx.getCustomization('pagerLeftClass');
  const rightClass = rootCtx.getCustomization('pagerRightClass');
  const isDesktop = rootCtx.isDesktop;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(isDesktop, 'isDesktop');
  $$unsubscribe_isDesktop = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(isDesktop, value => $isDesktop = value);
  const onScrollDebounced = (0,_utils_debounce__WEBPACK_IMPORTED_MODULE_3__.debounce)(onScroll, 50);
  let prevId;
  let pagerItemsWrapper;
  let mounted = false;
  let currentItem = 0;
  let prevSelectedItem = 0;
  let hasLayoutModeError = false;
  let orientation = 'horizontal';
  let itemSpacing = '';
  let padding = '';
  let sizeVal = '';
  function rebind() {
    padding = '';
  }
  function replaceItems(items) {
    componentContext = Object.assign(Object.assign({}, componentContext), {
      json: Object.assign(Object.assign({}, componentContext.json), {
        items: items.filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_4__.Truthy)
      })
    });
  }
  function checkIsFullyIntersecting(scroller, item) {
    if (orientation === 'horizontal') {
      return item.left >= scroller.left && item.right <= scroller.right;
    }
    return item.top >= scroller.top && item.bottom <= scroller.bottom;
  }
  function calculateCurrentElementIndex() {
    const pagerElements = Array.from(pagerItemsWrapper.children);
    const wrapperRect = pagerItemsWrapper.getBoundingClientRect();
    const firstFullyVisibleElement = pagerElements.findIndex(el => checkIsFullyIntersecting(wrapperRect, el.getBoundingClientRect()));
    if (firstFullyVisibleElement !== -1) {
      return firstFullyVisibleElement;
    }
    return currentItem;
  }
  function onScroll() {
    if (!mounted) {
      // Already destroyed
      return;
    }
    const nextItem = calculateCurrentElementIndex();
    if (nextItem !== currentItem) {
      currentItem = nextItem;
    }
  }
  function pagerDataUpdate(size, currentItem) {
    const pagerId = componentContext.json.id;
    if (pagerId) {
      const newPagersMap = new Map($pagers);
      (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.set_store_value)(pagers, $pagers = newPagersMap.set(pagerId, {
        instId,
        size,
        currentItem,
        scrollToPagerItem
      }), $pagers);
    }
  }
  function runSelectedActions(currentItem) {
    var _a;

    // prevent initial actions execution
    if (currentItem === prevSelectedItem) {
      return;
    }
    prevSelectedItem = currentItem;
    const actions = componentContext.getJsonWithVars((_a = items[currentItem].json) === null || _a === void 0 ? void 0 : _a.selected_actions);
    if (!(actions === null || actions === void 0 ? void 0 : actions.length)) {
      return;
    }
    componentContext.execAnyActions(actions);
  }
  function scrollToPagerItem(index, behavior = 'smooth') {
    const isHorizontal = orientation === 'horizontal';
    const nextPagerItem = pagerItemsWrapper.children[index];
    const elementOffset = isHorizontal ? 'offsetLeft' : 'offsetTop';
    const scrollDirection = isHorizontal ? 'left' : 'top';
    pagerItemsWrapper.scroll({
      [scrollDirection]: nextPagerItem[elementOffset],
      behavior
    });
    currentItem = index;
  }
  function setPreviousItem(step, overflow) {
    let previousItem = currentItem - step;
    if (previousItem < 0) {
      previousItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_5__.nonNegativeModulo)(previousItem, items.length) : 0;
    }
    scrollToPagerItem(previousItem);
  }
  function setNextItem(step, overflow) {
    let nextItem = currentItem + step;
    if (nextItem > items.length - 1) {
      nextItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_5__.nonNegativeModulo)(nextItem, items.length) : items.length - 1;
    }
    scrollToPagerItem(nextItem);
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    mounted = true;
    const isIndicatorExist = Boolean(document.getElementById(`${instId}-tab-0`));
    if (isIndicatorExist) {
      const pagerItems = [...pagerItemsWrapper.children];
      for (const [index, item] of pagerItems.entries()) {
        item.setAttribute('role', 'tabpanel');
        item.setAttribute('id', `${instId}-panel-${index}`);
        item.setAttribute('aria-labelledby', `${instId}-tab-${index}`);
      }
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    mounted = false;
    if (prevId) {
      rootCtx.unregisterInstance(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $$subscribe_jsonLayoutMode(jsonLayoutMode = componentContext.getDerivedFromVars(componentContext.json.layout_mode));
  $$subscribe_jsonOrientation(jsonOrientation = componentContext.getDerivedFromVars(componentContext.json.orientation));
  $$subscribe_jsonItemSpacing(jsonItemSpacing = componentContext.getDerivedFromVars(componentContext.json.item_spacing));
  $$subscribe_jsonPaddings(jsonPaddings = componentContext.getDerivedFromVars(componentContext.json.paddings));
  $$subscribe_jsonRestrictParentScroll(jsonRestrictParentScroll = componentContext.getDerivedFromVars(componentContext.json.restrict_parent_scroll));
  items = (Array.isArray(componentContext.json.items) && componentContext.json.items || []).map((item, index) => {
    return componentContext.produceChildContext(item, {
      path: index
    });
  });
  $: {
    {
      if (!$jsonLayoutMode) {
        hasLayoutModeError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_6__.wrapError)(new Error('Empty "layout_mode" prop for div "pager"')));
      } else if ($jsonLayoutMode.type !== 'percentage' && $jsonLayoutMode.type !== 'fixed') {
        hasLayoutModeError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_6__.wrapError)(new Error('Incorrect value of "layout_mode.type" for div "pager"')));
      } else {
        hasLayoutModeError = false;
      }
    }
  }
  $: {
    {
      orientation = (0,_utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_7__.correctGeneralOrientation)($jsonOrientation, orientation);
    }
  }
  $: {
    {
      const val = $jsonItemSpacing === null || $jsonItemSpacing === void 0 ? void 0 : $jsonItemSpacing.value;
      if (val && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_8__.isNonNegativeNumber)(val)) {
        itemSpacing = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_9__.pxToEm)(val || 0);
      }
    }
  }
  $: {
    {
      padding = (0,_utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_10__.correctEdgeInserts)($jsonPaddings, $direction, padding);
    }
  }
  gridAuto = orientation === 'horizontal' ? 'grid-auto-columns' : 'grid-auto-rows';
  $: {
    {
      if (($jsonLayoutMode === null || $jsonLayoutMode === void 0 ? void 0 : $jsonLayoutMode.type) === 'fixed') {
        const paddings = orientation === 'horizontal' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_9__.pxToEmWithUnits)((($direction === 'ltr' ? (_a = componentContext.json.paddings) === null || _a === void 0 ? void 0 : _a.start : (_b = componentContext.json.paddings) === null || _b === void 0 ? void 0 : _b.end) || ((_c = componentContext.json.paddings) === null || _c === void 0 ? void 0 : _c.left) || 0) + (($direction === 'ltr' ? (_d = componentContext.json.paddings) === null || _d === void 0 ? void 0 : _d.end : (_e = componentContext.json.paddings) === null || _e === void 0 ? void 0 : _e.start) || ((_f = componentContext.json.paddings) === null || _f === void 0 ? void 0 : _f.right) || 0)) : (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_9__.pxToEmWithUnits)((((_g = componentContext.json.paddings) === null || _g === void 0 ? void 0 : _g.top) || 0) + (((_h = componentContext.json.paddings) === null || _h === void 0 ? void 0 : _h.bottom) || 0));
        const neighbourPageWidth = (_j = $jsonLayoutMode.neighbour_page_width) === null || _j === void 0 ? void 0 : _j.value;
        sizeVal = neighbourPageWidth ? `calc(100% + ${paddings} - 2 * ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_9__.pxToEmWithUnits)(neighbourPageWidth)} - 2 * ${itemSpacing})` : '100%';
      } else if (($jsonLayoutMode === null || $jsonLayoutMode === void 0 ? void 0 : $jsonLayoutMode.type) === 'percentage') {
        const pageWidth = (_k = $jsonLayoutMode.page_width) === null || _k === void 0 ? void 0 : _k.value;
        sizeVal = `${Number(pageWidth)}%`;
      }
    }
  }
  style = {
    'grid-gap': itemSpacing,
    padding,
    [gridAuto]: sizeVal
  };
  mods = {
    orientation
  };
  hasError = hasLayoutModeError;
  shouldCheckArrows = $isDesktop && mounted && !hasError;
  hasScrollLeft = $direction === 'ltr' ? currentItem > 0 : currentItem + 1 < items.length;
  hasScrollRight = $direction === 'ltr' ? currentItem + 1 < items.length : currentItem > 0;
  $$subscribe_pagers(pagers = rootCtx.getStore('pagers'));
  $: {
    pagerDataUpdate(items.length, currentItem);
  }
  $: {
    runSelectedActions(currentItem);
  }
  $: {
    if (componentContext.json) {
      if (prevId) {
        rootCtx.unregisterInstance(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerInstance(prevId, {
          setCurrentItem(item) {
            if (item < 0 || item > items.length - 1) {
              throw new Error('Item is out of range in "set-current-item" action');
            }
            scrollToPagerItem(item);
          },
          setPreviousItem,
          setNextItem,
          scrollToStart() {
            scrollToPagerItem(0);
          },
          scrollToEnd() {
            scrollToPagerItem(items.length - 1);
          }
        });
      }
    }
  }
  $$unsubscribe_pagers();
  $$unsubscribe_direction();
  $$unsubscribe_isDesktop();
  $$unsubscribe_jsonLayoutMode();
  $$unsubscribe_jsonPaddings();
  $$unsubscribe_jsonItemSpacing();
  $$unsubscribe_jsonOrientation();
  $$unsubscribe_jsonRestrictParentScroll();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_11__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_12__.genClassName)('pager', _Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"], mods),
    componentContext,
    layoutParams,
    customPaddings: true,
    parentOf: items.map(it => it.json),
    replaceItems
  }, {}, {
    default: () => {
      return `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"].pager__items, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($jsonRestrictParentScroll ? _Root_module_css__WEBPACK_IMPORTED_MODULE_14__["default"]['root_restrict-scroll'] : '', true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_15__.makeStyle)(style), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", pagerItemsWrapper, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(items, item => {
        return `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"].pager__item, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_16__["default"], "Unknown").$$render($$result, {
          componentContext: item
        }, {}, {})} </div>`;
      })}</div> ${hasScrollLeft && shouldCheckArrows ? `  <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", leftClass || `${_Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"].pager__arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow_left}`, 0)}>${!leftClass ? `<svg${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow__icon, 0)} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"]['pager__arrow-icon-path'], 0)} d="m10 16 8.3 8 1.03-1-4-6-.7-1 .7-1 4-6-1.03-1z"></path></svg>` : ``}</div>` : ``} ${hasScrollRight && shouldCheckArrows ? `  <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", rightClass || `${_Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"].pager__arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow} ${_utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow_right}`, 0)}>${!rightClass ? `<svg${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _utilities_Arrows_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].arrow__icon, 0)} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none"><path${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Pager_module_css__WEBPACK_IMPORTED_MODULE_13__["default"]['pager__arrow-icon-path'], 0)} d="M22 16l-8.3 8-1.03-1 4-6 .7-1-.7-1-4-6 1.03-1 8.3 8z"></path></svg>` : ``}</div>` : ``}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Pager);

/***/ }),

/***/ "./src/components/select/Select.svelte":
/*!*********************************************!*\
  !*** ./src/components/select/Select.svelte ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Select_module_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Select.module.css */ "./src/components/select/Select.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctFontWeight */ "./src/utils/correctFontWeight.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_isNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/isNumber */ "./src/utils/isNumber.ts");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../expressions/variable */ "./src/expressions/variable.ts");
/* harmony import */ var _utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctEdgeInsertsObject */ "./src/utils/correctEdgeInsertsObject.ts");
/* harmony import */ var _utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/edgeInsertsToCss */ "./src/utils/edgeInsertsToCss.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* src\components\select\Select.svelte generated by Svelte v4.2.0 */

















const Select = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let variable;
  let items;
  let filteredItems;
  let valueVariable;
  let jsonPaddings;
  let jsonHintText;
  let jsonHintColor;
  let jsonFontSize;
  let jsonFontWeight;
  let jsonFontFamily;
  let jsonLineHeight;
  let jsonLetterSpacing;
  let jsonTextColor;
  let jsonAccessibility;
  let mods;
  let stl;
  let innerStl;
  let selectStl;
  let $jsonAccessibility,
    $$unsubscribe_jsonAccessibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAccessibility = () => ($$unsubscribe_jsonAccessibility(), $$unsubscribe_jsonAccessibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAccessibility, $$value => $jsonAccessibility = $$value), jsonAccessibility);
  let $jsonTextColor,
    $$unsubscribe_jsonTextColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextColor = () => ($$unsubscribe_jsonTextColor(), $$unsubscribe_jsonTextColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextColor, $$value => $jsonTextColor = $$value), jsonTextColor);
  let $jsonLetterSpacing,
    $$unsubscribe_jsonLetterSpacing = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLetterSpacing = () => ($$unsubscribe_jsonLetterSpacing(), $$unsubscribe_jsonLetterSpacing = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLetterSpacing, $$value => $jsonLetterSpacing = $$value), jsonLetterSpacing);
  let $jsonLineHeight,
    $$unsubscribe_jsonLineHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLineHeight = () => ($$unsubscribe_jsonLineHeight(), $$unsubscribe_jsonLineHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLineHeight, $$value => $jsonLineHeight = $$value), jsonLineHeight);
  let $jsonFontFamily,
    $$unsubscribe_jsonFontFamily = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontFamily = () => ($$unsubscribe_jsonFontFamily(), $$unsubscribe_jsonFontFamily = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontFamily, $$value => $jsonFontFamily = $$value), jsonFontFamily);
  let $jsonFontWeight,
    $$unsubscribe_jsonFontWeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontWeight = () => ($$unsubscribe_jsonFontWeight(), $$unsubscribe_jsonFontWeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontWeight, $$value => $jsonFontWeight = $$value), jsonFontWeight);
  let $jsonFontSize,
    $$unsubscribe_jsonFontSize = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFontSize = () => ($$unsubscribe_jsonFontSize(), $$unsubscribe_jsonFontSize = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFontSize, $$value => $jsonFontSize = $$value), jsonFontSize);
  let $jsonHintColor,
    $$unsubscribe_jsonHintColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHintColor = () => ($$unsubscribe_jsonHintColor(), $$unsubscribe_jsonHintColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHintColor, $$value => $jsonHintColor = $$value), jsonHintColor);
  let $direction, $$unsubscribe_direction;
  let $jsonPaddings,
    $$unsubscribe_jsonPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPaddings = () => ($$unsubscribe_jsonPaddings(), $$unsubscribe_jsonPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPaddings, $$value => $jsonPaddings = $$value), jsonPaddings);
  let $valueVariable,
    $$unsubscribe_valueVariable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_valueVariable = () => ($$unsubscribe_valueVariable(), $$unsubscribe_valueVariable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(valueVariable, $$value => $valueVariable = $$value), valueVariable);
  let $jsonHintText,
    $$unsubscribe_jsonHintText = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHintText = () => ($$unsubscribe_jsonHintText(), $$unsubscribe_jsonHintText = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHintText, $$value => $jsonHintText = $$value), jsonHintText);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let prevId;
  let select;
  let hasError = false;
  let selectText = '';
  let selfPadding = null;
  let padding = '';
  let hintColor = 'rgba(0,0,0,.45)';
  let fontSize = 12;
  let fontWeight = undefined;
  let fontFamily = '';
  let lineHeight = undefined;
  let letterSpacing = '';
  let textColor = '#000';
  let description = '';
  function rebind() {
    selfPadding = null;
    hintColor = 'rgba(0,0,0,.45)';
    fontSize = 12;
    fontWeight = undefined;
    fontFamily = '';
    lineHeight = undefined;
    letterSpacing = '';
    textColor = '#000';
    description = '';
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevId) {
      rootCtx.unregisterFocusable(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  variable = componentContext.json.value_variable;
  items = componentContext.json.options;
  filteredItems = Array.isArray(items) && items.filter(it => typeof it.value === 'string') || [];
  $$subscribe_valueVariable(valueVariable = variable && componentContext.getVariable(variable, 'string') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_3__.createVariable)('temp', 'string', ''));
  $$subscribe_jsonPaddings(jsonPaddings = componentContext.getDerivedFromVars(componentContext.json.paddings));
  $$subscribe_jsonHintText(jsonHintText = componentContext.getDerivedFromVars(componentContext.json.hint_text));
  $$subscribe_jsonHintColor(jsonHintColor = componentContext.getDerivedFromVars(componentContext.json.hint_color));
  $$subscribe_jsonFontSize(jsonFontSize = componentContext.getDerivedFromVars(componentContext.json.font_size));
  $$subscribe_jsonFontWeight(jsonFontWeight = componentContext.getDerivedFromVars(componentContext.json.font_weight));
  $$subscribe_jsonFontFamily(jsonFontFamily = componentContext.getDerivedFromVars(componentContext.json.font_family));
  $$subscribe_jsonLineHeight(jsonLineHeight = componentContext.getDerivedFromVars(componentContext.json.line_height));
  $$subscribe_jsonLetterSpacing(jsonLetterSpacing = componentContext.getDerivedFromVars(componentContext.json.letter_spacing));
  $$subscribe_jsonTextColor(jsonTextColor = componentContext.getDerivedFromVars(componentContext.json.text_color));
  $$subscribe_jsonAccessibility(jsonAccessibility = componentContext.getDerivedFromVars(componentContext.json.accessibility));
  $: {
    if (!(Array.isArray(filteredItems) && filteredItems.length)) {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Empty selection "items" in "select"')));
    }
  }
  $: {
    if (variable) {
      hasError = false;
    } else {
      hasError = true;
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing "value_variable" in "select"')));
    }
  }
  $: {
    {
      const item = filteredItems.find(it => {
        return it.value === $valueVariable;
      });
      if (item) {
        selectText = (typeof item.text === 'string' ? item.text : item.value) || '';
      } else {
        selectText = '';
        if ($valueVariable) {
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Value from the variable was not found in the selection items for "select"')));
        }
      }
    }
  }
  $: {
    {
      fontSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_5__.correctPositiveNumber)($jsonFontSize, fontSize);
    }
  }
  $: {
    {
      selfPadding = (0,_utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_6__.correctEdgeInsertsObject)($jsonPaddings ? $jsonPaddings : undefined, selfPadding);
      padding = selfPadding ? (0,_utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_7__.edgeInsertsToCss)({
        top: (Number(selfPadding.top) || 0) / fontSize * 10,
        right: (Number($direction === 'ltr' ? selfPadding.end : selfPadding.start) || Number(selfPadding.right) || 0) / fontSize * 10,
        bottom: (Number(selfPadding.bottom) || 0) / fontSize * 10,
        left: (Number($direction === 'ltr' ? selfPadding.start : selfPadding.end) || Number(selfPadding.left) || 0) / fontSize * 10
      }, $direction) : '';
    }
  }
  $: {
    {
      hintColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)($jsonHintColor, 1, hintColor);
    }
  }
  $: {
    {
      fontWeight = (0,_utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_9__.correctFontWeight)($jsonFontWeight, fontWeight);
      if ($jsonFontFamily && typeof $jsonFontFamily === 'string') {
        fontFamily = rootCtx.typefaceProvider($jsonFontFamily, {
          fontWeight: fontWeight || 400
        });
      } else {
        fontFamily = '';
      }
    }
  }
  $: {
    {
      const val = $jsonLineHeight;
      if ((0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_10__.isPositiveNumber)(val)) {
        lineHeight = val / fontSize;
      }
    }
  }
  $: {
    {
      if ((0,_utils_isNumber__WEBPACK_IMPORTED_MODULE_11__.isNumber)($jsonLetterSpacing)) {
        letterSpacing = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_12__.pxToEm)($jsonLetterSpacing / fontSize * 10);
      }
    }
  }
  $: {
    {
      textColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)($jsonTextColor, 1, textColor);
    }
  }
  $: {
    if ($jsonAccessibility === null || $jsonAccessibility === void 0 ? void 0 : $jsonAccessibility.description) {
      description = $jsonAccessibility.description;
    } else {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error('Missing accessibility "description" for select'), {
        level: 'warn'
      }));
    }
  }
  mods = {
    hint: !selectText
  };
  stl = {
    '--divkit-input-hint-color': hintColor,
    'font-weight': fontWeight,
    'font-family': fontFamily,
    color: textColor
  };
  innerStl = {
    padding,
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_12__.pxToEm)(fontSize),
    'line-height': lineHeight,
    'letter-spacing': letterSpacing
  };
  selectStl = {
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_12__.pxToEm)(fontSize),
    'line-height': lineHeight,
    'letter-spacing': letterSpacing
  };
  $: {
    if (componentContext.json && select) {
      if (prevId) {
        rootCtx.unregisterFocusable(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerFocusable(prevId, {
          focus() {
            if (select) {
              select.focus();
            }
          }
        });
      }
    }
  }
  $$unsubscribe_jsonAccessibility();
  $$unsubscribe_jsonTextColor();
  $$unsubscribe_jsonLetterSpacing();
  $$unsubscribe_jsonLineHeight();
  $$unsubscribe_jsonFontFamily();
  $$unsubscribe_jsonFontWeight();
  $$unsubscribe_jsonFontSize();
  $$unsubscribe_jsonHintColor();
  $$unsubscribe_direction();
  $$unsubscribe_jsonPaddings();
  $$unsubscribe_valueVariable();
  $$unsubscribe_jsonHintText();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_14__.genClassName)('select', _Select_module_css__WEBPACK_IMPORTED_MODULE_15__["default"], mods),
    style: stl,
    customDescription: true,
    customActions: 'select',
    customPaddings: true,
    hasInnerFocusable: true,
    componentContext,
    layoutParams
  }, {}, {
    default: ({
      hasCustomFocus,
      focusHandler,
      blurHandler
    }) => {
      return `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Select_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['select__select-text'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__.makeStyle)(innerStl), 0)} aria-hidden="true"> ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(selectText || $jsonHintText || '​')}</span> <select${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_14__.genClassName)('select__select', _Select_module_css__WEBPACK_IMPORTED_MODULE_15__["default"], {
        'has-custom-focus': hasCustomFocus
      }), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", description, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_16__.makeStyle)(selectStl), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", select, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(filteredItems, item => {
        return `<option${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Select_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].select__option, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("value", item.value, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(item.text || item.value)}</option>`;
      })}</select>`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Select);

/***/ }),

/***/ "./src/components/separator/Separator.svelte":
/*!***************************************************!*\
  !*** ./src/components/separator/Separator.svelte ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var _Separator_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Separator.module.css */ "./src/components/separator/Separator.module.css");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/correctGeneralOrientation */ "./src/utils/correctGeneralOrientation.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* src\components\separator\Separator.svelte generated by Svelte v4.2.0 */








const Separator = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonDelimiterStyle;
  let hasContent;
  let width;
  let height;
  let style;
  let mods;
  let $jsonDelimiterStyle,
    $$unsubscribe_jsonDelimiterStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonDelimiterStyle = () => ($$unsubscribe_jsonDelimiterStyle(), $$unsubscribe_jsonDelimiterStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonDelimiterStyle, $$value => $jsonDelimiterStyle = $$value), jsonDelimiterStyle);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  let orientation = 'horizontal';

  // let background = correctColor('#14000000');
  let background = 'rgba(0,0,0,0.08)';
  function rebind() {
    orientation = 'horizontal';
    background = 'rgba(0,0,0,0.08)';
  }
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $$subscribe_jsonDelimiterStyle(jsonDelimiterStyle = componentContext.getDerivedFromVars(componentContext.json.delimiter_style));
  $: {
    {
      orientation = (0,_utils_correctGeneralOrientation__WEBPACK_IMPORTED_MODULE_1__.correctGeneralOrientation)($jsonDelimiterStyle === null || $jsonDelimiterStyle === void 0 ? void 0 : $jsonDelimiterStyle.orientation, orientation);
    }
  }
  hasContent = !(($jsonDelimiterStyle === null || $jsonDelimiterStyle === void 0 ? void 0 : $jsonDelimiterStyle.color) && ($jsonDelimiterStyle.color === 'transparent' || $jsonDelimiterStyle.color.length === 9 && $jsonDelimiterStyle.color.indexOf('#00') === 0));
  $: {
    {
      background = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_2__.correctColor)($jsonDelimiterStyle === null || $jsonDelimiterStyle === void 0 ? void 0 : $jsonDelimiterStyle.color, 1, background);
    }
  }
  width = orientation === 'horizontal' ? '100%' : (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_3__.pxToEm)(1);
  height = orientation === 'horizontal' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_3__.pxToEm)(1) : '100%';
  style = {
    background,
    width,
    height
  };
  mods = {
    orientation
  };
  $$unsubscribe_jsonDelimiterStyle();
  return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_4__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_5__.genClassName)('separator', _Separator_module_css__WEBPACK_IMPORTED_MODULE_6__["default"], mods),
    componentContext,
    layoutParams
  }, {}, {
    default: () => {
      return `${hasContent ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Separator_module_css__WEBPACK_IMPORTED_MODULE_6__["default"].separator__inner, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_7__.makeStyle)(style), 0)}></span>` : ``}`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Separator);

/***/ }),

/***/ "./src/components/slider/Slider.svelte":
/*!*********************************************!*\
  !*** ./src/components/slider/Slider.svelte ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Slider.module.css */ "./src/components/slider/Slider.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _context_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/action */ "./src/context/action.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctDrawableStyles */ "./src/utils/correctDrawableStyles.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_correctSliderTextStyle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/correctSliderTextStyle */ "./src/utils/correctSliderTextStyle.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");
/* harmony import */ var _utils_clamp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/clamp */ "./src/utils/clamp.ts");
/* harmony import */ var _utils_correctNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctNumber */ "./src/utils/correctNumber.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../expressions/variable */ "./src/expressions/variable.ts");
/* harmony import */ var _utils_debounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/debounce */ "./src/utils/debounce.ts");
/* src\components\slider\Slider.svelte generated by Svelte v4.2.0 */
















var _a, _b, _c, _d;
const DEFAULT_DRAWABLE_STYLE = {
  width: 10,
  height: 10,
  borderRadius: 5,
  background: '#000'
};
const THUMB_MARK_SHAPES = ['rounded_rectangle', 'circle'];
const TRACK_SHAPES = ['rounded_rectangle'];
function fillTicks(from, to, minValue, maxValue, inside) {
  let res = [];
  if (inside) {
    for (let i = from; i < to; ++i) {
      res.push((i - minValue) / (maxValue - minValue));
    }
  } else {
    for (let i = minValue; i < from; ++i) {
      res.push((i - minValue) / (maxValue - minValue));
    }
    for (let i = to; i < maxValue + 1; ++i) {
      res.push((i - minValue) / (maxValue - minValue));
    }
  }
  return res;
}
const Slider = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let firstVariable;
  let secondVariable;
  let valueVariable;
  let value2Variable;
  let jsonMinValue;
  let jsonMaxValue;
  let jsonThumbStyle;
  let jsonThumbSecondaryStyle;
  let jsonTrackInactiveStyle;
  let jsonTrackActiveStyle;
  let jsonMarkActiveStyle;
  let jsonMarkInactiveStyle;
  let jsonTextStyle;
  let jsonSecondaryTextStyle;
  let jsonAccessibility;
  let jsonSecondaryAccessibility;
  let maxThumbWidth;
  let maxThumbHeight;
  let trackPart;
  let trackSecondaryPart;
  let trackActivePart;
  let trackActiveOffset;
  let stl;
  let mods;
  let $direction, $$unsubscribe_direction;
  let $jsonSecondaryAccessibility,
    $$unsubscribe_jsonSecondaryAccessibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSecondaryAccessibility = () => ($$unsubscribe_jsonSecondaryAccessibility(), $$unsubscribe_jsonSecondaryAccessibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSecondaryAccessibility, $$value => $jsonSecondaryAccessibility = $$value), jsonSecondaryAccessibility);
  let $jsonAccessibility,
    $$unsubscribe_jsonAccessibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAccessibility = () => ($$unsubscribe_jsonAccessibility(), $$unsubscribe_jsonAccessibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAccessibility, $$value => $jsonAccessibility = $$value), jsonAccessibility);
  let $jsonSecondaryTextStyle,
    $$unsubscribe_jsonSecondaryTextStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSecondaryTextStyle = () => ($$unsubscribe_jsonSecondaryTextStyle(), $$unsubscribe_jsonSecondaryTextStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSecondaryTextStyle, $$value => $jsonSecondaryTextStyle = $$value), jsonSecondaryTextStyle);
  let $jsonTextStyle,
    $$unsubscribe_jsonTextStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextStyle = () => ($$unsubscribe_jsonTextStyle(), $$unsubscribe_jsonTextStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextStyle, $$value => $jsonTextStyle = $$value), jsonTextStyle);
  let $jsonMarkInactiveStyle,
    $$unsubscribe_jsonMarkInactiveStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMarkInactiveStyle = () => ($$unsubscribe_jsonMarkInactiveStyle(), $$unsubscribe_jsonMarkInactiveStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMarkInactiveStyle, $$value => $jsonMarkInactiveStyle = $$value), jsonMarkInactiveStyle);
  let $jsonMarkActiveStyle,
    $$unsubscribe_jsonMarkActiveStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMarkActiveStyle = () => ($$unsubscribe_jsonMarkActiveStyle(), $$unsubscribe_jsonMarkActiveStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMarkActiveStyle, $$value => $jsonMarkActiveStyle = $$value), jsonMarkActiveStyle);
  let $jsonTrackActiveStyle,
    $$unsubscribe_jsonTrackActiveStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTrackActiveStyle = () => ($$unsubscribe_jsonTrackActiveStyle(), $$unsubscribe_jsonTrackActiveStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTrackActiveStyle, $$value => $jsonTrackActiveStyle = $$value), jsonTrackActiveStyle);
  let $jsonTrackInactiveStyle,
    $$unsubscribe_jsonTrackInactiveStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTrackInactiveStyle = () => ($$unsubscribe_jsonTrackInactiveStyle(), $$unsubscribe_jsonTrackInactiveStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTrackInactiveStyle, $$value => $jsonTrackInactiveStyle = $$value), jsonTrackInactiveStyle);
  let $jsonThumbSecondaryStyle,
    $$unsubscribe_jsonThumbSecondaryStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonThumbSecondaryStyle = () => ($$unsubscribe_jsonThumbSecondaryStyle(), $$unsubscribe_jsonThumbSecondaryStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonThumbSecondaryStyle, $$value => $jsonThumbSecondaryStyle = $$value), jsonThumbSecondaryStyle);
  let $jsonThumbStyle,
    $$unsubscribe_jsonThumbStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonThumbStyle = () => ($$unsubscribe_jsonThumbStyle(), $$unsubscribe_jsonThumbStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonThumbStyle, $$value => $jsonThumbStyle = $$value), jsonThumbStyle);
  let $value2Variable,
    $$unsubscribe_value2Variable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_value2Variable = () => ($$unsubscribe_value2Variable(), $$unsubscribe_value2Variable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(value2Variable, $$value => $value2Variable = $$value), value2Variable);
  let $valueVariable,
    $$unsubscribe_valueVariable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_valueVariable = () => ($$unsubscribe_valueVariable(), $$unsubscribe_valueVariable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(valueVariable, $$value => $valueVariable = $$value), valueVariable);
  let $jsonMaxValue,
    $$unsubscribe_jsonMaxValue = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMaxValue = () => ($$unsubscribe_jsonMaxValue(), $$unsubscribe_jsonMaxValue = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMaxValue, $$value => $jsonMaxValue = $$value), jsonMaxValue);
  let $jsonMinValue,
    $$unsubscribe_jsonMinValue = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMinValue = () => ($$unsubscribe_jsonMinValue(), $$unsubscribe_jsonMinValue = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMinValue, $$value => $jsonMinValue = $$value), jsonMinValue);
  var _a, _b, _c, _d;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const actionCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_action__WEBPACK_IMPORTED_MODULE_3__.ACTION_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let prevId;
  let input;
  let tracksInner;
  let switchedTracks = false;
  let minValue = 0;
  let maxValue = 100;
  let thumbStyle = DEFAULT_DRAWABLE_STYLE;
  let thumbSecondaryStyle = thumbStyle;
  let trackInactiveStyle = DEFAULT_DRAWABLE_STYLE;
  let trackActiveStyle = DEFAULT_DRAWABLE_STYLE;
  let markActiveTicks;
  let markActiveStyle = null;
  let markInactiveTicks;
  let markInactiveStyle = null;
  let textStyle = undefined;
  let textSecondaryStyle = textStyle;
  let description = '';
  let secondaryDescription = '';
  let hasError = false;
  function rebind() {
    thumbStyle = DEFAULT_DRAWABLE_STYLE;
    thumbSecondaryStyle = thumbStyle;
    trackInactiveStyle = DEFAULT_DRAWABLE_STYLE;
    trackActiveStyle = DEFAULT_DRAWABLE_STYLE;
    markActiveStyle = null;
    markInactiveStyle = null;
    textStyle = undefined;
    textSecondaryStyle = undefined;
    description = '';
    secondaryDescription = '';
  }
  let value = (0,_utils_clamp__WEBPACK_IMPORTED_MODULE_4__.clamp)($valueVariable || 0, minValue, maxValue);
  let value2 = (0,_utils_clamp__WEBPACK_IMPORTED_MODULE_4__.clamp)($value2Variable || 0, minValue, maxValue);
  function onSecondMousedown(event) {
    var _a, _b;
    const pageX = 'pageX' in event ? event.pageX : (_b = (_a = event.changedTouches) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.pageX;
    if (pageX === undefined) {
      return;
    }
    const rangeBbox = tracksInner.getBoundingClientRect();
    let part = (pageX - rangeBbox.left) / rangeBbox.width;
    if ($direction === 'rtl') {
      part = 1 - part;
    }
    const newVal = minValue + (maxValue - minValue) * part;
    const final = Math.round((0,_utils_clamp__WEBPACK_IMPORTED_MODULE_4__.clamp)(newVal, minValue, maxValue));
    const middle = (value + value2) / 2;
    switchedTracks = final < middle === value < value2;
  }
  function onInputChange(event, type) {
    const val = Number(event.target.value);
    if (switchedTracks === (type === 'first')) {
      value2 = val;
      value2Variable.setValue(val);
    } else {
      value = val;
      valueVariable.setValue(val);
    }
  }
  let isTicksWarning = false;
  function checkTicks() {
    if (!tracksInner) {
      return;
    }
    const ticksCount = maxValue - minValue;
    const activeTickWidth = (markActiveStyle === null || markActiveStyle === void 0 ? void 0 : markActiveStyle.width) || 0;
    const inactiveTickWidth = (markInactiveStyle === null || markInactiveStyle === void 0 ? void 0 : markInactiveStyle.width) || 0;
    const maxTickWidth = Math.max(activeTickWidth, inactiveTickWidth);
    if (maxTickWidth * ticksCount >= (tracksInner === null || tracksInner === void 0 ? void 0 : tracksInner.clientWidth)) {
      if (!isTicksWarning) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Slider ticks overlap each other'), {
          level: 'warn'
        }));
        isTicksWarning = true;
      }
    } else {
      isTicksWarning = false;
    }
  }
  const checkTicksDebounced = (0,_utils_debounce__WEBPACK_IMPORTED_MODULE_6__.debounce)(checkTicks, 50);
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    checkTicks();
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevId) {
      rootCtx.unregisterFocusable(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  firstVariable = componentContext.json.thumb_value_variable;
  secondVariable = componentContext.json.thumb_secondary_value_variable;
  $$subscribe_valueVariable(valueVariable = firstVariable && componentContext.getVariable(firstVariable, 'integer') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_7__.createVariable)('temp', 'integer', 0));
  $$subscribe_value2Variable(value2Variable = secondVariable && componentContext.getVariable(secondVariable, 'integer') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_7__.createVariable)('temp', 'integer', 0));
  $$subscribe_jsonMinValue(jsonMinValue = componentContext.getDerivedFromVars(componentContext.json.min_value));
  $$subscribe_jsonMaxValue(jsonMaxValue = componentContext.getDerivedFromVars(componentContext.json.max_value));
  $$subscribe_jsonThumbStyle(jsonThumbStyle = componentContext.getDerivedFromVars(componentContext.json.thumb_style));
  $$subscribe_jsonThumbSecondaryStyle(jsonThumbSecondaryStyle = componentContext.getDerivedFromVars(componentContext.json.thumb_secondary_style));
  $$subscribe_jsonTrackInactiveStyle(jsonTrackInactiveStyle = componentContext.getDerivedFromVars(componentContext.json.track_inactive_style));
  $$subscribe_jsonTrackActiveStyle(jsonTrackActiveStyle = componentContext.getDerivedFromVars(componentContext.json.track_active_style));
  $$subscribe_jsonMarkActiveStyle(jsonMarkActiveStyle = componentContext.getDerivedFromVars(componentContext.json.tick_mark_active_style));
  $$subscribe_jsonMarkInactiveStyle(jsonMarkInactiveStyle = componentContext.getDerivedFromVars(componentContext.json.tick_mark_inactive_style));
  $$subscribe_jsonTextStyle(jsonTextStyle = componentContext.getDerivedFromVars(componentContext.json.thumb_text_style));
  $$subscribe_jsonSecondaryTextStyle(jsonSecondaryTextStyle = componentContext.getDerivedFromVars(componentContext.json.thumb_secondary_text_style));
  $$subscribe_jsonAccessibility(jsonAccessibility = componentContext.getDerivedFromVars(componentContext.json.accessibility));
  $$subscribe_jsonSecondaryAccessibility(jsonSecondaryAccessibility = componentContext.getDerivedFromVars(componentContext.json.secondary_value_accessibility));
  $: {
    {
      minValue = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_8__.correctNumber)($jsonMinValue, minValue);
      maxValue = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_8__.correctNumber)($jsonMaxValue, maxValue);
      checkTicks();
    }
  }
  $: {
    {
      const newVal = (0,_utils_clamp__WEBPACK_IMPORTED_MODULE_4__.clamp)($valueVariable || 0, minValue, maxValue);
      if (newVal !== value) {
        value = newVal;
      }
    }
  }
  $: {
    {
      const newVal2 = (0,_utils_clamp__WEBPACK_IMPORTED_MODULE_4__.clamp)($value2Variable || 0, minValue, maxValue);
      if (newVal2 !== value2) {
        value2 = newVal2;
      }
    }
  }
  $: {
    {
      thumbStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonThumbStyle, THUMB_MARK_SHAPES, thumbStyle);
    }
  }
  $: {
    {
      thumbSecondaryStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonThumbSecondaryStyle, THUMB_MARK_SHAPES, thumbStyle);
    }
  }
  $: {
    {
      trackInactiveStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonTrackInactiveStyle, TRACK_SHAPES, trackInactiveStyle);
    }
  }
  $: {
    {
      trackActiveStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonTrackActiveStyle, TRACK_SHAPES, trackActiveStyle);
    }
  }
  $: {
    {
      let newStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonMarkActiveStyle, THUMB_MARK_SHAPES, DEFAULT_DRAWABLE_STYLE);
      if (newStyle !== DEFAULT_DRAWABLE_STYLE) {
        markActiveStyle = newStyle;
      }
    }
  }
  $: {
    if (markActiveStyle) {
      markActiveTicks = secondVariable ? fillTicks(Math.min(value, value2), Math.max(value, value2) + 1, minValue, maxValue, true) : fillTicks(minValue, value, minValue, maxValue, true);
      checkTicks();
    } else {
      markActiveTicks = [];
    }
  }
  $: {
    {
      let newStyle = (0,_utils_correctDrawableStyles__WEBPACK_IMPORTED_MODULE_9__.correctDrawableStyle)($jsonMarkInactiveStyle, THUMB_MARK_SHAPES, DEFAULT_DRAWABLE_STYLE);
      if (newStyle !== DEFAULT_DRAWABLE_STYLE) {
        markInactiveStyle = newStyle;
      }
    }
  }
  $: {
    if (markInactiveStyle) {
      markInactiveTicks = secondVariable ? fillTicks(Math.min(value, value2), Math.max(value, value2) + 1, minValue, maxValue, false) : fillTicks(value + 1, maxValue + 1, minValue, maxValue, true);
      checkTicks();
    } else {
      markInactiveTicks = [];
    }
  }
  $: {
    {
      textStyle = (0,_utils_correctSliderTextStyle__WEBPACK_IMPORTED_MODULE_10__.correctSliderTextStyle)($jsonTextStyle, textStyle);
    }
  }
  $: {
    {
      textSecondaryStyle = (0,_utils_correctSliderTextStyle__WEBPACK_IMPORTED_MODULE_10__.correctSliderTextStyle)($jsonSecondaryTextStyle, textStyle);
    }
  }
  $: {
    if ($jsonAccessibility === null || $jsonAccessibility === void 0 ? void 0 : $jsonAccessibility.description) {
      description = $jsonAccessibility.description;
    } else {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing accessibility "description" for slider'), {
        level: 'warn'
      }));
    }
  }
  $: {
    if ($jsonSecondaryAccessibility === null || $jsonSecondaryAccessibility === void 0 ? void 0 : $jsonSecondaryAccessibility.description) {
      secondaryDescription = $jsonSecondaryAccessibility.description;
    } else if (secondVariable) {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing second accessibility "description" for slider'), {
        level: 'warn'
      }));
    }
  }
  $: {
    {
      let newHasError = false;
      if (actionCtx.hasAction()) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Cannot show "slider" inside component with action')));
        newHasError = true;
      } else if (thumbStyle === DEFAULT_DRAWABLE_STYLE) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing "thumb_style" in slider')));
        newHasError = true;
      } else if (trackActiveStyle === DEFAULT_DRAWABLE_STYLE) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing "track_active_style" in slider')));
        newHasError = true;
      } else if (trackInactiveStyle === DEFAULT_DRAWABLE_STYLE) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing "track_inactive_style" in slider')));
        newHasError = true;
      }
      if (newHasError !== hasError) {
        hasError = newHasError;
      }
    }
  }
  maxThumbWidth = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(Math.max(...[thumbStyle.width, thumbSecondaryStyle.width, 0].filter(_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_12__.isNonNegativeNumber)));
  maxThumbHeight = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(Math.max(...[thumbStyle.height, thumbSecondaryStyle.height, 0].filter(_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_12__.isNonNegativeNumber)));
  trackPart = (value - minValue) / (maxValue - minValue);
  trackSecondaryPart = secondVariable ? (value2 - minValue) / (maxValue - minValue) : undefined;
  trackActivePart = trackSecondaryPart !== undefined ? Math.abs(trackSecondaryPart - trackPart) : trackPart;
  trackActiveOffset = trackSecondaryPart !== undefined ? Math.min(trackSecondaryPart, trackPart) : 0;
  stl = {
    '--divkit-slider-thumb-width': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbStyle.width),
    '--divkit-slider-thumb-height': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbStyle.height),
    '--divkit-slider-thumb-secondary-width': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbSecondaryStyle.width),
    '--divkit-slider-thumb-secondary-height': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbSecondaryStyle.height),
    '--divkit-slider-text-offset-x': ((_a = textStyle === null || textStyle === void 0 ? void 0 : textStyle.offset) === null || _a === void 0 ? void 0 : _a.x) ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEmWithUnits)(textStyle.offset.x) : undefined,
    '--divkit-slider-text-offset-y': ((_b = textStyle === null || textStyle === void 0 ? void 0 : textStyle.offset) === null || _b === void 0 ? void 0 : _b.y) ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEmWithUnits)(textStyle.offset.y) : undefined,
    '--divkit-slider-text-secondary-offset-x': ((_c = textSecondaryStyle === null || textSecondaryStyle === void 0 ? void 0 : textSecondaryStyle.offset) === null || _c === void 0 ? void 0 : _c.x) ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEmWithUnits)(textSecondaryStyle.offset.x) : undefined,
    '--divkit-slider-text-secondary-offset-y': ((_d = textSecondaryStyle === null || textSecondaryStyle === void 0 ? void 0 : textSecondaryStyle.offset) === null || _d === void 0 ? void 0 : _d.y) ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEmWithUnits)(textSecondaryStyle.offset.y) : undefined,
    '--divkit-slider-tick-active-width': markActiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markActiveStyle.width) : undefined,
    '--divkit-slider-tick-active-height': markActiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markActiveStyle.height) : undefined,
    '--divkit-slider-tick-active-border-radius': markActiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markActiveStyle.borderRadius) : undefined,
    '--divkit-slider-tick-active-background': (markActiveStyle === null || markActiveStyle === void 0 ? void 0 : markActiveStyle.background) || undefined,
    '--divkit-slider-tick-active-box-shadow': (markActiveStyle === null || markActiveStyle === void 0 ? void 0 : markActiveStyle.boxShadow) || undefined,
    '--divkit-slider-tick-inactive-width': markInactiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markInactiveStyle.width) : undefined,
    '--divkit-slider-tick-inactive-height': markInactiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markInactiveStyle.height) : undefined,
    '--divkit-slider-tick-inactive-border-radius': markInactiveStyle ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(markInactiveStyle.borderRadius) : undefined,
    '--divkit-slider-tick-inactive-background': (markInactiveStyle === null || markInactiveStyle === void 0 ? void 0 : markInactiveStyle.background) || undefined,
    '--divkit-slider-tick-inactive-box-shadow': (markInactiveStyle === null || markInactiveStyle === void 0 ? void 0 : markInactiveStyle.boxShadow) || undefined,
    '--divkit-slider-max-thumb-width': maxThumbWidth,
    '--divkit-slider-max-thumb-height': maxThumbHeight,
    '--divkit-slider-track-part': trackPart,
    '--divkit-slider-track-secondary-part': trackSecondaryPart
  };
  mods = {
    direction: $direction
  };
  $: {
    if (componentContext.json && input) {
      if (prevId) {
        rootCtx.unregisterFocusable(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerFocusable(prevId, {
          focus() {
            if (input) {
              input.focus();
            }
          }
        });
      }
    }
  }
  $$unsubscribe_direction();
  $$unsubscribe_jsonSecondaryAccessibility();
  $$unsubscribe_jsonAccessibility();
  $$unsubscribe_jsonSecondaryTextStyle();
  $$unsubscribe_jsonTextStyle();
  $$unsubscribe_jsonMarkInactiveStyle();
  $$unsubscribe_jsonMarkActiveStyle();
  $$unsubscribe_jsonTrackActiveStyle();
  $$unsubscribe_jsonTrackInactiveStyle();
  $$unsubscribe_jsonThumbSecondaryStyle();
  $$unsubscribe_jsonThumbStyle();
  $$unsubscribe_value2Variable();
  $$unsubscribe_valueVariable();
  $$unsubscribe_jsonMaxValue();
  $$unsubscribe_jsonMinValue();
  return ` ${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_13__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_14__.genClassName)('slider', _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"], mods),
    style: stl,
    customDescription: true,
    customActions: 'slider',
    hasInnerFocusable: true,
    componentContext,
    layoutParams
  }, {}, {
    default: ({
      focusHandler,
      blurHandler
    }) => {
      var _textStyle, _textStyle2, _textStyle3, _textSecondaryStyle, _textSecondaryStyle2, _textSecondaryStyle3;
      return `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__tracks-wrapper'], 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__tracks-inner'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", tracksInner, 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__track, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "height": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(trackInactiveStyle.height),
        "border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(trackInactiveStyle.borderRadius),
        "background": trackInactiveStyle.background,
        "box-shadow": trackInactiveStyle.boxShadow || ''
      })}></div> <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__active-track'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "left": $direction === 'ltr' ? (trackActiveOffset * 100).toFixed(2) + '%' : undefined,
        "right": $direction === 'ltr' ? undefined : (trackActiveOffset * 100).toFixed(2) + '%',
        "width": (trackActivePart * 100).toFixed(2) + '%',
        "height": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(trackActiveStyle.height),
        "border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(trackActiveStyle.borderRadius),
        "background": trackActiveStyle.background,
        "box-shadow": trackActiveStyle.boxShadow || ''
      })}></div> ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(markActiveTicks, val => {
        return `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__tick, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__tick_active, true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
          "--divkit-slider-tick": val
        })}></div>`;
      })} ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(markInactiveTicks, val => {
        return `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__tick, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__tick_inactive, true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
          "--divkit-slider-tick": val
        })}></div>`;
      })} <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__thumb, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbStyle.borderRadius),
        "background": thumbStyle.background,
        "box-shadow": thumbStyle.boxShadow || ''
      })}>${textStyle ? `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__thumb-text'], 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__thumb-text-inner'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "font-size": ((_textStyle = textStyle) === null || _textStyle === void 0 ? void 0 : _textStyle.fontSize) || '1em',
        "font-weight": ((_textStyle2 = textStyle) === null || _textStyle2 === void 0 ? void 0 : _textStyle2.fontWeight) || '',
        "color": ((_textStyle3 = textStyle) === null || _textStyle3 === void 0 ? void 0 : _textStyle3.textColor) || '#000'
      })}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(value)}</div></div>` : ``}</div> ${secondVariable ? `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__thumb, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__thumb_secondary, true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "border-radius": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_11__.pxToEm)(thumbSecondaryStyle.borderRadius),
        "background": thumbSecondaryStyle.background,
        "box-shadow": thumbSecondaryStyle.boxShadow || ''
      })}>${textSecondaryStyle ? `<div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__thumb-text'], true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__thumb-text_secondary'], true)}"><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"]['slider__thumb-text-inner'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "font-size": ((_textSecondaryStyle = textSecondaryStyle) === null || _textSecondaryStyle === void 0 ? void 0 : _textSecondaryStyle.fontSize) || '1em',
        "font-weight": ((_textSecondaryStyle2 = textSecondaryStyle) === null || _textSecondaryStyle2 === void 0 ? void 0 : _textSecondaryStyle2.fontWeight) || '',
        "color": ((_textSecondaryStyle3 = textSecondaryStyle) === null || _textSecondaryStyle3 === void 0 ? void 0 : _textSecondaryStyle3.textColor) || '#000'
      })}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(value2)}</div></div>` : ``}</div>` : ``} <input type="range"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", switchedTracks ? `${_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input} ${_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input_secondary}` : _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("min", minValue, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("max", maxValue, 0)} step="1"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("value", switchedTracks ? value2 : value, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", description, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", input, 0)}> ${secondVariable ? `<input type="range"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", switchedTracks ? _Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input : `${_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input} ${_Slider_module_css__WEBPACK_IMPORTED_MODULE_15__["default"].slider__input_secondary}`, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("min", minValue, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("max", maxValue, 0)} step="1"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("value", switchedTracks ? value : value2, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("aria-label", secondaryDescription, 0)}>` : ``}</div></div>`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Slider);

/***/ }),

/***/ "./src/components/state/State.svelte":
/*!*******************************************!*\
  !*** ./src/components/state/State.svelte ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _State_module_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./State.module.css */ "./src/components/state/State.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _context_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/state */ "./src/context/state.ts");
/* harmony import */ var _utils_inOutTransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/inOutTransition */ "./src/utils/inOutTransition.ts");
/* harmony import */ var _utils_flattenTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/flattenTransition */ "./src/utils/flattenTransition.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* src\components\state\State.svelte generated by Svelte v4.2.0 */











function haveFadeTransition(list) {
  return list.some(it => it.type === 'fade');
}
function getTransitionChange(transitionOrSet) {
  if (transitionOrSet.type === 'change_bounds') {
    return transitionOrSet;
  } else if (transitionOrSet.type === 'set') {
    return getTransitionChange(transitionOrSet.items[0]);
  }
  return null;
}
const State = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let stateId;
  let jsonDefaultStateId;
  let stateVariableName;
  let stateVariable;
  let origJson;
  let items;
  let parentOfItems;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const stateCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_state__WEBPACK_IMPORTED_MODULE_3__.STATE_CTX);
  let hasError = false;
  let animationRoot;
  let transitionChangeBoxes = new Map();
  let childrenIds = new Set();
  let childStateMap = null;
  let animationList = [];
  let childrenWithTransitionIn = [];
  let childrenWithTransitionOut = [];
  let childrenWithTransitionChange = [];
  let prevStateId;
  let selectedId;
  let selectedComponentContext;
  let inited = false;
  function rebind() {
    inited = false;
  }
  function selectState(selectedState) {
    selectedComponentContext = (selectedState === null || selectedState === void 0 ? void 0 : selectedState.div) ? componentContext.produceChildContext(selectedState.div, {
      path: selectedState.state_id || '<unknown>'
    }) : undefined;
  }
  function replaceItems(newItems) {
    const states = componentContext.json.states;
    if (!states) {
      return;
    }
    items = states.map((it, index) => {
      return Object.assign(Object.assign({}, it), {
        div: newItems[index]
      });
    });
    componentContext.json = Object.assign(Object.assign({}, componentContext.json), {
      states: items
    });
    if (selectedId) {
      selectState(items.find(it => it.state_id === selectedId) || null);
    }
  }
  function getItemAnimation(rootBbox, child, direction) {
    let {
      json,
      parentComponentContext,
      transitions,
      node
    } = child;
    json = componentContext.getJsonWithVars(json);
    transitions = componentContext.getJsonWithVars(transitions);
    const transitionsList = (0,_utils_flattenTransition__WEBPACK_IMPORTED_MODULE_4__.flattenTransition)(transitions);
    const bbox = node.getBoundingClientRect();
    const jsonCopy = Object.assign(Object.assign({}, json), {
      margins: undefined,
      alpha: haveFadeTransition(transitionsList) ? undefined : json.alpha
    });
    return {
      json: jsonCopy,
      componentContextCopy: parentComponentContext.produceChildContext(jsonCopy, {
        fake: true
      }),
      elementBbox: bbox,
      rootBbox,
      transitions: transitionsList,
      alpha: json.alpha,
      width: bbox.width,
      height: bbox.height,
      offsetTop: bbox.top - rootBbox.top,
      offsetLeft: bbox.left - rootBbox.left,
      direction,
      resolvePromise: child.resolvePromise,
      node: child.node
    };
  }
  async function setState(stateId) {
    if (selectedId === stateId) {
      return;
    }
    rootCtx.setRunning('stateChange', true);
    const wasIds = new Set(childrenIds);
    animationList.forEach(it => {
      if (it.resolvePromise) {
        it.resolvePromise();
      }
    });
    animationList = [];
    let transitionsOutToRun = [];
    if (animationRoot) {
      const rootBbox = animationRoot.getBoundingClientRect();
      transitionsOutToRun = childrenWithTransitionOut.map(it => getItemAnimation(rootBbox, it, 'out'));
    }
    childrenWithTransitionChange.forEach(child => {
      transitionChangeBoxes.set(child.id, child.node.getBoundingClientRect());
    });
    childrenWithTransitionIn = [];
    childrenWithTransitionOut = [];
    childrenWithTransitionChange = [];
    const newState = items.find(it => it.state_id === stateId) || null;
    if (newState) {
      selectedId = stateId;
      stateVariable === null || stateVariable === void 0 ? void 0 : stateVariable.setValue(selectedId);
      selectState(newState);
    } else {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Cannot find state with id'), {
        additional: {
          stateId
        }
      }));
    }
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    if (!animationRoot) {
      return;
    }
    const rootBbox = animationRoot.getBoundingClientRect();
    let transitionsInToRun = childrenWithTransitionIn.filter(it => {
      var _a;
      if (it.json.id && !wasIds.has(it.json.id)) {
        return true;
      }
      (_a = it.resolvePromise) === null || _a === void 0 ? void 0 : _a.call(it);
      return false;
    }).map(it => getItemAnimation(rootBbox, it, 'in'));
    transitionsOutToRun = transitionsOutToRun.filter(it => {
      var _a;
      if (it.json.id && !childrenIds.has(it.json.id)) {
        return true;
      }
      (_a = it.resolvePromise) === null || _a === void 0 ? void 0 : _a.call(it);
      return false;
    });
    const inOutList = transitionsOutToRun.concat(transitionsInToRun);
    const maxDuration = inOutList.reduce((acc, item) => {
      return Math.max(acc, (0,_utils_inOutTransition__WEBPACK_IMPORTED_MODULE_6__.calcMaxDuration)(item.transitions));
    }, 0);
    const changeList = childrenWithTransitionChange.filter(child => transitionChangeBoxes.has(child.id)).map(child => {
      const jsonCopy = Object.assign(Object.assign({}, child.json), {
        margins: undefined,
        width: {
          type: 'match_parent'
        },
        height: {
          type: 'match_parent'
        }
      });
      const res = {
        json: jsonCopy,
        componentContextCopy: child.parentComponentContext.produceChildContext(jsonCopy, {
          fake: true
        }),
        rootBbox,
        beforeBbox: transitionChangeBoxes.get(child.id),
        afterBbox: child.node.getBoundingClientRect(),
        node: child.node,
        transition: componentContext.getJsonWithVars(getTransitionChange(child.transitions)),
        resolvePromise: child.resolvePromise
      };
      return res;
    });
    animationList = [...inOutList.map(it => {
      return Object.assign(Object.assign({}, it), {
        maxDuration
      });
    }), ...changeList];
    transitionChangeBoxes.clear();
    rootCtx.setRunning('stateChange', false);
  }
  function getChild(id) {
    if (childStateMap && childStateMap.has(id)) {
      return childStateMap.get(id);
    }
    componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing state block with id'), {
      additional: {
        id
      }
    }));
    return undefined;
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.setContext)(_context_state__WEBPACK_IMPORTED_MODULE_3__.STATE_CTX, {
    registerInstance(id, block) {
      if (!childStateMap) {
        childStateMap = new Map();
      }
      if (childStateMap.has(id)) {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Duplicate state with id'), {
          additional: {
            id
          }
        }));
      } else {
        childStateMap.set(id, block);
      }
    },
    unregisterInstance(id) {
      childStateMap === null || childStateMap === void 0 ? void 0 : childStateMap.delete(id);
    },
    runVisibilityTransition(json, parentComponentContext, transitions, node, direction) {
      if (!animationRoot) {
        return Promise.resolve();
      }
      const rootBbox = animationRoot.getBoundingClientRect();
      const item = getItemAnimation(rootBbox, {
        json,
        parentComponentContext,
        transitions,
        node
      }, direction);
      const maxDuration = (0,_utils_inOutTransition__WEBPACK_IMPORTED_MODULE_6__.calcMaxDuration)(item.transitions);
      const itemWithMaxDuration = Object.assign(Object.assign({}, item), {
        maxDuration
      });
      animationList = [...animationList.filter(it => it.node !== item.node), itemWithMaxDuration];
      return new Promise(resolve => {
        itemWithMaxDuration.resolvePromise = resolve;
      });
    },
    registerChildWithTransitionIn(json, parentComponentContext, transitions, node) {
      const item = {
        json,
        parentComponentContext,
        transitions,
        node
      };
      childrenWithTransitionIn.push(item);
      return new Promise(resolve => {
        item.resolvePromise = resolve;
      });
    },
    registerChildWithTransitionOut(json, parentComponentContext, transitions, node) {
      const item = {
        json,
        parentComponentContext,
        transitions,
        node
      };
      childrenWithTransitionOut.push(item);
      return new Promise(resolve => {
        item.resolvePromise = resolve;
      });
    },
    registerChildWithTransitionChange(json, parentComponentContext, transitions, node) {
      const id = json.id;
      if (!id) {
        return Promise.resolve();
      }
      const item = {
        id,
        json,
        parentComponentContext,
        transitions,
        node
      };
      childrenWithTransitionChange.push(item);
      return new Promise(resolve => {
        item.resolvePromise = resolve;
      });
    },
    hasTransitionChange(id) {
      if (!id) {
        return false;
      }
      return transitionChangeBoxes.has(id);
    },
    registerChild(id) {
      childrenIds.add(id);
    },
    unregisterChild(id) {
      childrenIds.delete(id);
    }
  });
  function initDefaultState(items) {
    if (inited) {
      return;
    }
    inited = true;
    if (items.length) {
      const defaultVal = (stateVariable === null || stateVariable === void 0 ? void 0 : stateVariable.getValue()) || jsonDefaultStateId;
      if (defaultVal) {
        selectedId = defaultVal;
        const selectedState = items.find(it => it.state_id === selectedId) || null;
        selectState(selectedState);
        if (!selectedState) {
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Cannot find state for default_state_id'), {
            additional: {
              selectedId
            }
          }));
        }
      } else {
        const selectedState = items[0];
        selectedId = selectedState.state_id;
        selectState(selectedState);
      }
      if (stateVariable) {
        stateVariable.setValue(selectedId);
        stateVariable.subscribe(val => {
          setState(val);
        });
      }
    }
  }
  function onOutro(item) {
    animationList = animationList.filter(it => it !== item);
    if (item.resolvePromise) {
      item.resolvePromise();
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevStateId) {
      stateCtx.unregisterInstance(prevStateId);
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  stateId = componentContext.json.div_id || componentContext.json.id;
  jsonDefaultStateId = componentContext.getJsonWithVars(componentContext.json.default_state_id);
  stateVariableName = componentContext.json.state_id_variable;
  stateVariable = stateVariableName ? componentContext.getVariable(stateVariableName, 'string') : null;
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $: {
    if (stateId) {
      hasError = false;
    } else {
      hasError = true;
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Missing "id" prop for div "state"')));
    }
  }
  $: {
    if (componentContext.json) {
      childrenIds = new Set();
    }
  }
  items = Array.isArray(componentContext.json.states) && componentContext.json.states || [];
  parentOfItems = items.map(it => {
    return it.div;
  });
  $: {
    {
      if (!(items === null || items === void 0 ? void 0 : items.length)) {
        hasError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_5__.wrapError)(new Error('Empty "states" prop for div "state"')));
      } else {
        hasError = false;
      }
    }
  }
  $: {
    if (componentContext.json) {
      if (prevStateId) {
        stateCtx.unregisterInstance(prevStateId);
        prevStateId = undefined;
      }
      if (stateId && !(componentContext === null || componentContext === void 0 ? void 0 : componentContext.fakeElement)) {
        prevStateId = stateId;
        stateCtx.registerInstance(stateId, {
          setState,
          getChild
        });
      }
    }
  }
  !inited && initDefaultState(items);
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_7__["default"], "Outer").$$render($$result, {
    cls: _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"].state,
    componentContext,
    layoutParams,
    parentOf: parentOfItems,
    parentOfSimpleMode: true,
    replaceItems
  }, {}, {
    default: () => {
      return `${selectedComponentContext ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_9__["default"], "Unknown").$$render($$result, {
        componentContext: selectedComponentContext
      }, {}, {})}` : ``} <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"].state__animations, 0)} aria-hidden="true"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", animationRoot, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(animationList, item => {
        return `${'direction' in item ? `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['state__animation-child'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
          "left": `${item.offsetLeft}px`,
          "top": `${item.offsetTop}px`,
          "width": `${item.width}px`,
          "height": `${item.height}px`
        })}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['state__animation-child-inner'], 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_9__["default"], "Unknown").$$render($$result, {
          componentContext: item.componentContextCopy
        }, {}, {})}</div> </div>` : `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['state__animation-child'], 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _State_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['state__animation-child-inner'], 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_9__["default"], "Unknown").$$render($$result, {
          componentContext: item.componentContextCopy
        }, {}, {})}</div> </div>`}`;
      })}</div>`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (State);

/***/ }),

/***/ "./src/components/tabs/Tabs.svelte":
/*!*****************************************!*\
  !*** ./src/components/tabs/Tabs.svelte ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Tabs.module.css */ "./src/components/tabs/Tabs.module.css");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../utilities/Actionable.svelte */ "./src/components/utilities/Actionable.svelte");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/keyboard/codes */ "./src/utils/keyboard/codes.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/correctEdgeInserts */ "./src/utils/correctEdgeInserts.ts");
/* harmony import */ var _utils_correctBorderRadius__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/correctBorderRadius */ "./src/utils/correctBorderRadius.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/correctFontWeight */ "./src/utils/correctFontWeight.ts");
/* harmony import */ var _utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");
/* harmony import */ var _utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/assignIfDifferent */ "./src/utils/assignIfDifferent.ts");
/* harmony import */ var _utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/getTouchCoords */ "./src/utils/getTouchCoords.ts");
/* harmony import */ var _utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/correctEdgeInsertsObject */ "./src/utils/correctEdgeInsertsObject.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../utils/edgeInsertsToCss */ "./src/utils/edgeInsertsToCss.ts");
/* harmony import */ var _utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/filterEnabledActions */ "./src/utils/filterEnabledActions.ts");
/* harmony import */ var _utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../utils/nonNegativeModulo */ "./src/utils/nonNegativeModulo.ts");
/* src\components\tabs\Tabs.svelte generated by Svelte v4.2.0 */




























const Tabs = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let items;
  let parentOfItems;
  let jsonWidth;
  let jsonHeight;
  let jsonSelectedTab;
  let jsonTabStyle;
  let jsonSeparator;
  let jsonSeparatorColor;
  let jsonSeparatorPaddings;
  let jsonSwipeEnabled;
  let jsonRestrictParentScroll;
  let jsonTitlePaddings;
  let selected;
  let tabStyle;
  let separatorStyle;
  let isSwipeEnabled;
  let $jsonHeight,
    $$unsubscribe_jsonHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHeight = () => ($$unsubscribe_jsonHeight(), $$unsubscribe_jsonHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHeight, $$value => $jsonHeight = $$value), jsonHeight);
  let $childStore, $$unsubscribe_childStore;
  let $jsonTitlePaddings,
    $$unsubscribe_jsonTitlePaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTitlePaddings = () => ($$unsubscribe_jsonTitlePaddings(), $$unsubscribe_jsonTitlePaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTitlePaddings, $$value => $jsonTitlePaddings = $$value), jsonTitlePaddings);
  let $jsonSwipeEnabled,
    $$unsubscribe_jsonSwipeEnabled = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSwipeEnabled = () => ($$unsubscribe_jsonSwipeEnabled(), $$unsubscribe_jsonSwipeEnabled = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSwipeEnabled, $$value => $jsonSwipeEnabled = $$value), jsonSwipeEnabled);
  let $direction, $$unsubscribe_direction;
  let $jsonSeparatorPaddings,
    $$unsubscribe_jsonSeparatorPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSeparatorPaddings = () => ($$unsubscribe_jsonSeparatorPaddings(), $$unsubscribe_jsonSeparatorPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSeparatorPaddings, $$value => $jsonSeparatorPaddings = $$value), jsonSeparatorPaddings);
  let $jsonSeparatorColor,
    $$unsubscribe_jsonSeparatorColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSeparatorColor = () => ($$unsubscribe_jsonSeparatorColor(), $$unsubscribe_jsonSeparatorColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSeparatorColor, $$value => $jsonSeparatorColor = $$value), jsonSeparatorColor);
  let $jsonSeparator,
    $$unsubscribe_jsonSeparator = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSeparator = () => ($$unsubscribe_jsonSeparator(), $$unsubscribe_jsonSeparator = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSeparator, $$value => $jsonSeparator = $$value), jsonSeparator);
  let $jsonTabStyle,
    $$unsubscribe_jsonTabStyle = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTabStyle = () => ($$unsubscribe_jsonTabStyle(), $$unsubscribe_jsonTabStyle = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTabStyle, $$value => $jsonTabStyle = $$value), jsonTabStyle);
  let $jsonWidth,
    $$unsubscribe_jsonWidth = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonWidth = () => ($$unsubscribe_jsonWidth(), $$unsubscribe_jsonWidth = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonWidth, $$value => $jsonWidth = $$value), jsonWidth);
  let $jsonRestrictParentScroll,
    $$unsubscribe_jsonRestrictParentScroll = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRestrictParentScroll = () => ($$unsubscribe_jsonRestrictParentScroll(), $$unsubscribe_jsonRestrictParentScroll = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRestrictParentScroll, $$value => $jsonRestrictParentScroll = $$value), jsonRestrictParentScroll);
  var _a, _b;
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  const instId = rootCtx.genId('tabs');
  let prevId;
  let hasError = false;
  let childStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_2__.writable)([]);
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(childStore, 'childStore');
  $$unsubscribe_childStore = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(childStore, value => $childStore = value);
  let childLayoutParams = {};
  let tabsElem;
  let panelsWrapper;
  let swiperElem;
  let mods = {};
  let tabFontSize = 12;
  let tabPaddings = '';
  let tabLineHeight = '';
  let tabLetterSpacing = '';
  let tabBorderRadius = '';
  let tabActiveFontWeight = undefined;
  let tabActiveFontFamily = '';
  let tabInactiveFontWeight = undefined;
  let tabInactiveFontFamily = '';
  let tabActiveTextColor = '';
  let tabInactiveTextColor = '';
  let tabActiveBackground = '';
  let tabInactiveBackground = '';
  let tabItemSpacing = 0;
  let separatorBackground = '';
  let separatorMargins = '';
  let titlePadding = null;
  let isSwipeInitialized = false;
  let isAnimated = false;
  let previousSelected;
  let showedPanels = [];
  let visiblePanels = [];
  let hidePanelsTimeout = null;
  let startCoords = null;
  let moveCoords = null;
  let swipeStartTime;
  let isSwipeStarted = false;
  let isSwipeCanceled = false;
  let startTransform;
  let currentTransform;
  function rebind() {
    tabFontSize = 12;
    tabPaddings = '';
    tabBorderRadius = '';
    tabActiveFontWeight = undefined;
    tabActiveFontFamily = '';
    tabInactiveFontWeight = undefined;
    tabInactiveFontFamily = '';
    tabActiveTextColor = '';
    tabInactiveTextColor = '';
    tabActiveBackground = '';
    tabInactiveBackground = '';
    tabItemSpacing = 0;
    separatorBackground = '';
    separatorMargins = '';
    titlePadding = null;
  }
  function replaceItems(items) {
    if (!componentContext.json.items) {
      return;
    }
    componentContext = Object.assign(Object.assign({}, componentContext), {
      json: Object.assign(Object.assign({}, componentContext.json), {
        items: componentContext.json.items.map((it, index) => {
          return Object.assign(Object.assign({}, it), {
            div: items[index]
          });
        })
      })
    });
  }
  function updateItems(items) {
    if (hasError) {
      return;
    }
    showedPanels = items.map((item, i) => {
      if (i === selected && (item === null || item === void 0 ? void 0 : item.div)) {
        return componentContext.produceChildContext(item.div, {
          path: i
        });
      }
    });
    visiblePanels = items.map((_, i) => i === selected);
  }
  async function setSelected(val, focus = false) {
    previousSelected = selected;
    selected = val;
    initTabsSwipe();
    changeTab();
    if (focus) {
      await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
      const selectedTab = tabsElem.querySelector(`.${_Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].tabs__item_selected}`);
      if (selectedTab) {
        selectedTab.focus();
      }
    }
  }
  function moveSelected(shift, focus = false) {
    const len = $childStore === null || $childStore === void 0 ? void 0 : $childStore.length;
    if (!len) {
      return;
    }
    const indices = $childStore.map(it => it.index);
    const selectedIndex = indices.indexOf(selected);
    let newSelectedIndex = selectedIndex + shift;
    if (newSelectedIndex >= len) {
      newSelectedIndex = 0;
    } else if (newSelectedIndex < 0) {
      newSelectedIndex = len - 1;
    }
    const newSelected = indices[newSelectedIndex];
    setSelected(newSelected, focus);
  }
  function selectItem(_event, index) {
    if (selected !== index) {
      setSelected(index);
      return false;
    }
    return true;
  }
  function changeTab() {
    isAnimated = true;
    updateTransform(-selected * 100);
    updateShowedPanels();
    updateWrapperHeight();
    hideNonVisiblePanels();
    currentTransform = -selected * panelsWrapper.clientWidth;
  }
  async function updateTransform(transform) {
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    swiperElem.style.transform = `translate3d(${transform}%,0,0)`;
  }
  function updateShowedPanels(around = false) {
    const start = around ? Math.max(0, selected - 1) : Math.min(selected, previousSelected !== null && previousSelected !== void 0 ? previousSelected : selected);
    const end = around ? Math.min(items.length - 1, selected + 1) : Math.max(selected, previousSelected !== null && previousSelected !== void 0 ? previousSelected : selected);
    showedPanels = showedPanels.map((context, index) => {
      var _a;
      if (context) {
        return context;
      }
      if (index >= start && index <= end && ((_a = items[index]) === null || _a === void 0 ? void 0 : _a.div)) {
        return componentContext.produceChildContext(items[index].div, {
          path: index
        });
      }
      return undefined;
    });
    visiblePanels = visiblePanels.map((_, index) => index >= start && index <= end);
  }
  async function updateWrapperHeight() {
    if (($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.type) === 'match_parent') {
      return;
    }
    await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
    const activePanel = document.getElementById(`${instId}-panel-${selected}`);
    if (activePanel) {
      panelsWrapper.style.height = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(activePanel.offsetHeight);
    }
  }
  function hideNonVisiblePanels() {
    if (hidePanelsTimeout) {
      clearTimeout(hidePanelsTimeout);
    }
    hidePanelsTimeout = window.setTimeout(() => {
      visiblePanels = items.map((_, i) => i === selected);
    }, 400);
  }
  function onTabKeydown(event) {
    if (event.ctrlKey || event.shiftKey || event.altKey || event.metaKey) {
      return;
    }
    if (!items) {
      return;
    }
    if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_6__.ARROW_LEFT) {
      moveSelected(-1, true);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_6__.ARROW_RIGHT) {
      moveSelected(1, true);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_6__.HOME) {
      setSelected(0, true);
    } else if (event.which === _utils_keyboard_codes__WEBPACK_IMPORTED_MODULE_6__.END) {
      setSelected(items.length - 1, true);
    } else {
      return;
    }
    event.preventDefault();
  }

  // todo desktop arrows
  function initTabsSwipe() {
    if (isSwipeInitialized) {
      return;
    }
    isSwipeInitialized = true;
    panelsWrapper.style.height = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(panelsWrapper.clientHeight);
    swiperElem.style.transform = `translate3d(${-(previousSelected !== null && previousSelected !== void 0 ? previousSelected : selected) * 100}%,0,0)`;
  }
  function onTouchStart(event) {
    var _a;
    const target = event.target;
    const restrictClosest = (_a = target === null || target === void 0 ? void 0 : target.closest) === null || _a === void 0 ? void 0 : _a.call(target, `.${_Root_module_css__WEBPACK_IMPORTED_MODULE_7__["default"]['root_restrict-scroll']}`);
    if (items.length < 2 || event.touches.length > 1 || restrictClosest && restrictClosest !== panelsWrapper) {
      return;
    }
    isSwipeStarted = false;
    isSwipeCanceled = false;
    startCoords = (0,_utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_8__.getTouchCoords)(event);
    moveCoords = null;
    swipeStartTime = Date.now();
    startTransform = currentTransform || -selected * panelsWrapper.clientWidth;
    isAnimated = false;
    if (hidePanelsTimeout) {
      clearTimeout(hidePanelsTimeout);
    }
  }
  function onTouchMove(event) {
    const coords = (0,_utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_8__.getTouchCoords)(event);
    if (!startCoords || moveCoords && moveCoords.x === coords.x && moveCoords.y === coords.y) {
      return;
    }
    moveCoords = coords;
    const panelsWrapperWidth = panelsWrapper.clientWidth;
    if (isSwipeStarted) {
      currentTransform = coords.x - startCoords.x + startTransform;

      // Slowing down scroll on edges
      const scrollWidth = panelsWrapperWidth * items.length;
      if (currentTransform > 0) {
        currentTransform = currentTransform * panelsWrapperWidth / (currentTransform + panelsWrapperWidth * 3);
      } else if (-currentTransform + panelsWrapperWidth > scrollWidth) {
        let space = -currentTransform + panelsWrapperWidth - scrollWidth;
        space = space * panelsWrapperWidth / (space + panelsWrapperWidth * 3);
        currentTransform = panelsWrapperWidth - scrollWidth - space;
      }
      updateTransform(currentTransform * 100 / panelsWrapperWidth);
    } else if (Math.abs(coords.y - startCoords.y) > 10) {
      // Swipe is not started, so we cancel it because of vertical scroll
      isSwipeCanceled = true;
    } else if (!isSwipeCanceled && Math.abs(coords.x - startCoords.x) > 8) {
      initTabsSwipe();
      isSwipeStarted = true;
      startCoords = coords;
      updateTransform(-selected * 100);
      updateShowedPanels(true);
    }
    if (isSwipeStarted && event.cancelable) {
      event.preventDefault();
    }
  }
  function onTouchEnd() {
    isSwipeCanceled = false;
    startCoords = null;
    let newSelected = selected;
    if (!isSwipeStarted) {
      return;
    }
    isSwipeStarted = false;

    // 512px limit for big screens
    const panelsWrapperWidth = Math.min(512, panelsWrapper.clientWidth);
    const swipeDist = Math.abs(startTransform - currentTransform);
    const swipeCoefficient = Math.min(1, (Date.now() - swipeStartTime) / 750);
    if (swipeDist > panelsWrapperWidth / 4 * swipeCoefficient) {
      newSelected += startTransform > currentTransform ? 1 : -1;
    }
    if (newSelected >= items.length) {
      newSelected = items.length - 1;
    } else if (newSelected < 0) {
      newSelected = 0;
    }
    if (newSelected === selected) {
      isAnimated = true;

      // Scroll back to current tab
      currentTransform = -newSelected * panelsWrapperWidth;
      updateTransform(-newSelected * 100);
      hideNonVisiblePanels();
    } else {
      setSelected(newSelected);
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevId) {
      rootCtx.unregisterInstance(prevId);
      prevId = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  items = Array.isArray(componentContext.json.items) && componentContext.json.items || [];
  parentOfItems = items.map(it => {
    return it.div;
  });
  $$subscribe_jsonWidth(jsonWidth = componentContext.getDerivedFromVars(componentContext.json.width));
  $$subscribe_jsonHeight(jsonHeight = componentContext.getDerivedFromVars(componentContext.json.height));
  jsonSelectedTab = componentContext.getJsonWithVars(componentContext.json.selected_tab);
  $$subscribe_jsonTabStyle(jsonTabStyle = componentContext.getDerivedFromVars(componentContext.json.tab_title_style));
  $$subscribe_jsonSeparator(jsonSeparator = componentContext.getDerivedFromVars(componentContext.json.has_separator));
  $$subscribe_jsonSeparatorColor(jsonSeparatorColor = componentContext.getDerivedFromVars(componentContext.json.separator_color));
  $$subscribe_jsonSeparatorPaddings(jsonSeparatorPaddings = componentContext.getDerivedFromVars(componentContext.json.separator_paddings));
  $$subscribe_jsonSwipeEnabled(jsonSwipeEnabled = componentContext.getDerivedFromVars(componentContext.json.switch_tabs_by_content_swipe_enabled));
  $$subscribe_jsonRestrictParentScroll(jsonRestrictParentScroll = componentContext.getDerivedFromVars(componentContext.json.restrict_parent_scroll));
  $$subscribe_jsonTitlePaddings(jsonTitlePaddings = componentContext.getDerivedFromVars(componentContext.json.title_paddings));
  selected = jsonSelectedTab && Number(jsonSelectedTab) || 0;
  $: {
    if (Array.isArray(items) && items.length) {
      let children = [];
      items.forEach((item, index) => {
        const part = componentContext.getJsonWithVars({
          index,
          title: item.title,
          title_click_action: item.title_click_action
        });
        if (part.title && typeof part.title === 'string') {
          children.push(part);
        } else {
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Incorrect title for the tab'), {
            additional: {
              index
            }
          }));
        }
      });
      childStore.set(children);
    } else {
      childStore.set([]);
    }
  }
  $: {
    {
      if (!($childStore === null || $childStore === void 0 ? void 0 : $childStore.length)) {
        hasError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Incorrect or empty "items" prop for div "tabs"')));
      } else {
        hasError = false;
      }
    }
  }
  $: {
    {
      let newLayoutParams = {
        parentContainerOrientation: 'horizontal'
      };
      if (($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.type) === 'wrap_content') {
        newLayoutParams.parentHorizontalWrapContent = true;
      }
      if (!$jsonHeight || $jsonHeight.type === 'wrap_content') {
        newLayoutParams.parentVerticalWrapContent = true;
      }
      childLayoutParams = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_10__.assignIfDifferent)(newLayoutParams, childLayoutParams);
    }
  }
  $: {
    if (!hasError && (selected < 0 || selected >= items.length)) {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Incorrect "selected_tab" prop for div "tabs"'), {
        additional: {
          selected: componentContext.json.selected_tab,
          length: items.length
        }
      }));
      selected = selected < 0 ? 0 : items.length - 1;
    }
  }
  $: {
    if (!hasError && !$childStore.some(it => selected === it.index)) {
      componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Incorrect "selected_tab" prop for div "tabs"'), {
        additional: {
          selected: componentContext.json.selected_tab
        }
      }));
      selected = ((_a = $childStore[0]) === null || _a === void 0 ? void 0 : _a.index) || 0;
    }
  }
  tabStyle = $jsonTabStyle || {};
  $: {
    {
      tabFontSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_11__.correctPositiveNumber)(tabStyle.font_size, tabFontSize);
    }
  }
  $: {
    {
      if (tabStyle.font_size || tabStyle.paddings) {
        const paddings = tabStyle.paddings || {
          top: 6,
          right: 8,
          bottom: 6,
          left: 8
        };
        const adjustedPaddings = {
          top: (Number(paddings.top) || 0) / tabFontSize * 10,
          right: (Number($direction === 'ltr' ? paddings.end : paddings.start) || Number(paddings.right) || 0) / tabFontSize * 10,
          bottom: (Number(paddings.bottom) || 0) / tabFontSize * 10,
          left: (Number($direction === 'ltr' ? paddings.start : paddings.end) || Number(paddings.left) || 0) / tabFontSize * 10
        };
        tabPaddings = (0,_utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_12__.correctEdgeInserts)(adjustedPaddings, $direction, tabPaddings);
      }
    }
  }
  $: {
    {
      const lineHeight = tabStyle.line_height;
      if (lineHeight !== undefined && (0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_13__.isPositiveNumber)(lineHeight)) {
        tabLineHeight = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(lineHeight / tabFontSize * 10);
      }
    }
  }
  $: {
    {
      const letterSpacing = tabStyle.letter_spacing;
      if (letterSpacing !== undefined && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_14__.isNonNegativeNumber)(letterSpacing)) {
        tabLetterSpacing = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(letterSpacing / tabFontSize * 10);
      }
    }
  }
  $: {
    {
      if (tabStyle.corner_radius || tabStyle.corners_radius || tabStyle.font_size) {
        const defaultRadius = (_b = tabStyle.corner_radius) !== null && _b !== void 0 ? _b : 1000;
        if (tabStyle.corners_radius) {
          tabBorderRadius = (0,_utils_correctBorderRadius__WEBPACK_IMPORTED_MODULE_15__.correctBorderRadius)(tabStyle.corners_radius, defaultRadius, tabFontSize, tabBorderRadius);
        } else if ((0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_14__.isNonNegativeNumber)(defaultRadius)) {
          tabBorderRadius = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(defaultRadius / tabFontSize * 10);
        }
      }
    }
  }
  $: {
    {
      tabActiveFontWeight = (0,_utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_16__.correctFontWeight)(tabStyle.active_font_weight || tabStyle.font_weight, tabActiveFontWeight);
      if (tabStyle.font_family && typeof tabStyle.font_family === 'string') {
        tabActiveFontFamily = rootCtx.typefaceProvider(tabStyle.font_family, {
          fontWeight: tabActiveFontWeight || 400
        });
      } else {
        tabActiveFontFamily = '';
      }
    }
  }
  $: {
    {
      tabInactiveFontWeight = (0,_utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_16__.correctFontWeight)(tabStyle.inactive_font_weight || tabStyle.font_weight, tabInactiveFontWeight);
      if (tabStyle.font_family && typeof tabStyle.font_family === 'string') {
        tabInactiveFontFamily = rootCtx.typefaceProvider(tabStyle.font_family, {
          fontWeight: tabInactiveFontWeight || 400
        });
      } else {
        tabInactiveFontFamily = '';
      }
    }
  }
  $: {
    {
      tabActiveTextColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_17__.correctColor)(tabStyle.active_text_color, 1, tabActiveTextColor);
    }
  }
  $: {
    {
      tabInactiveTextColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_17__.correctColor)(tabStyle.inactive_text_color, 1, tabInactiveTextColor);
    }
  }
  $: {
    {
      tabActiveBackground = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_17__.correctColor)(tabStyle.active_background_color, 1, tabActiveBackground);
    }
  }
  $: {
    {
      tabInactiveBackground = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_17__.correctColor)(tabStyle.inactive_background_color, 1, tabInactiveBackground);
    }
  }
  $: {
    {
      tabItemSpacing = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_18__.correctNonNegativeNumber)(tabStyle.item_spacing, tabItemSpacing);
    }
  }
  $: {
    {
      if ($jsonSeparator) {
        if ($jsonSeparatorColor) {
          separatorBackground = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_17__.correctColor)($jsonSeparatorColor, 1, separatorBackground);
        }
        if ($jsonSeparatorPaddings) {
          separatorMargins = (0,_utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_12__.correctEdgeInserts)($jsonSeparatorPaddings, $direction, separatorMargins);
        }
      }
    }
  }
  separatorStyle = {
    background: separatorBackground,
    margin: separatorMargins
  };
  isSwipeEnabled = typeof $jsonSwipeEnabled === 'undefined' ? true : Boolean($jsonSwipeEnabled);
  $: {
    {
      titlePadding = (0,_utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_19__.correctEdgeInsertsObject)($jsonTitlePaddings ? $jsonTitlePaddings : undefined, titlePadding);
    }
  }
  $: {
    updateItems(items);
  }
  $: {
    if (componentContext.json) {
      if (prevId) {
        rootCtx.unregisterInstance(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !hasError && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerInstance(prevId, {
          setCurrentItem(item) {
            if (item < 0 || item > items.length - 1) {
              throw new Error('Item is out of range in "set-current-item" action');
            }
            setSelected(item);
          },
          setPreviousItem(step, overflow) {
            let previousItem = selected - step;
            if (previousItem < 0) {
              previousItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_20__.nonNegativeModulo)(previousItem, items.length) : 0;
            }
            setSelected(previousItem);
          },
          setNextItem(step, overflow) {
            let nextItem = selected + step;
            if (nextItem > items.length - 1) {
              nextItem = overflow === 'ring' ? (0,_utils_nonNegativeModulo__WEBPACK_IMPORTED_MODULE_20__.nonNegativeModulo)(nextItem, items.length) : items.length - 1;
            }
            setSelected(nextItem);
          },
          scrollToStart() {
            setSelected(0);
          },
          scrollToEnd() {
            setSelected(items.length - 1);
          }
        });
      }
    }
  }
  mods = {
    'height-parent': ($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.type) === 'match_parent' ? 'yes' : ''
  };
  $$unsubscribe_jsonHeight();
  $$unsubscribe_childStore();
  $$unsubscribe_jsonTitlePaddings();
  $$unsubscribe_jsonSwipeEnabled();
  $$unsubscribe_direction();
  $$unsubscribe_jsonSeparatorPaddings();
  $$unsubscribe_jsonSeparatorColor();
  $$unsubscribe_jsonSeparator();
  $$unsubscribe_jsonTabStyle();
  $$unsubscribe_jsonWidth();
  $$unsubscribe_jsonRestrictParentScroll();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_21__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_22__.genClassName)('tabs', _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], mods),
    componentContext,
    layoutParams,
    customActions: 'tabs',
    parentOf: parentOfItems,
    parentOfSimpleMode: true,
    replaceItems
  }, {}, {
    default: () => {
      return ` <div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].tabs__list, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($jsonRestrictParentScroll ? _Root_module_css__WEBPACK_IMPORTED_MODULE_7__["default"]['root_restrict-scroll'] : '', true)}" role="tablist"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "--divkit-tabs-title-padding": titlePadding ? (0,_utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_23__.edgeInsertsToCss)(titlePadding, $direction) : '',
        "--divkit-tabs-font-size": (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEm)(tabFontSize),
        "--divkit-tabs-paddings": tabPaddings,
        "--divkit-tabs-line-height": tabLineHeight,
        "--divkit-tabs-letter-spacing": tabLetterSpacing,
        "--divkit-tabs-active-font-weight": tabActiveFontWeight || '',
        "--divkit-tabs-inactive-font-weight": tabInactiveFontWeight || '',
        "--divkit-tabs-active-font-family": tabActiveFontFamily || '',
        "--divkit-tabs-inactive-font-family": tabInactiveFontFamily || '',
        "--divkit-tabs-active-text-color": tabActiveTextColor,
        "--divkit-tabs-inactive-text-color": tabInactiveTextColor,
        "--divkit-tabs-active-background-color": tabActiveBackground,
        "--divkit-tabs-inactive-background-color": tabInactiveBackground,
        "--divkit-tabs-border-radius": tabBorderRadius,
        "--divkit-tabs-items-spacing": tabItemSpacing ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_5__.pxToEmWithUnits)(tabItemSpacing * 10 / tabFontSize) : ''
      })}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", tabsElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)($childStore, item => {
        let index = item.index,
          isSelected = index === selected;
        return `  ${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_24__["default"], "Actionable").$$render($$result, {
          componentContext,
          cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_22__.genClassName)('tabs__item', _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], {
            selected: isSelected,
            actionable: Boolean(item.title_click_action)
          }),
          actions: item.title_click_action && !componentContext.fakeElement ? [item.title_click_action].filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions) : [],
          attrs: {
            id: `${instId}-tab-${index}`,
            'aria-controls': `${instId}-panel-${index}`,
            role: 'tab',
            // eslint-disable-next-line no-nested-ternary
            tabindex: isSelected && !componentContext.fakeElement ? item.title_click_action ? undefined : '0' : '-1',
            'aria-selected': isSelected ? 'true' : 'false'
          },
          customAction: componentContext.fakeElement ? null : event => selectItem(event, index)
        }, {}, {
          default: () => {
            return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(item.title)}`;
          }
        })}`;
      })}</div> ${$jsonSeparator ? `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].tabs__separator, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_26__.makeStyle)(separatorStyle), 0)}></div>` : ``} <div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(_Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"].tabs__panels, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($jsonRestrictParentScroll ? _Root_module_css__WEBPACK_IMPORTED_MODULE_7__["default"]['root_restrict-scroll'] : '', true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", panelsWrapper, 0)}><div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_22__.genClassName)('tabs__swiper', _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], {
        inited: isSwipeInitialized,
        animated: isAnimated
      }), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", swiperElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)($childStore, item => {
        let index = item.index,
          childComponentContext = showedPanels[index];
        return `  <div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_22__.genClassName)('tabs__panel', _Tabs_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], {
          visible: visiblePanels[index]
        }), 0)} role="tabpanel" id="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(instId, true) + "-panel-" + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(index, true)}" aria-labelledby="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(instId, true) + "-tab-" + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(index, true)}" style="${"left: " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(index * 100, true) + "%"}">${childComponentContext ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_27__["default"], "Unknown").$$render($$result, {
          componentContext: childComponentContext,
          layoutParams: childLayoutParams
        }, {}, {})}` : ``} </div>`;
      })}</div></div>`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tabs);

/***/ }),

/***/ "./src/components/text/Text.svelte":
/*!*****************************************!*\
  !*** ./src/components/text/Text.svelte ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Text_module_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Text.module.css */ "./src/components/text/Text.module.css");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _TextRange_svelte__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./TextRange.svelte */ "./src/components/text/TextRange.svelte");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/background */ "./src/utils/background.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/correctAlignmentHorizontal */ "./src/utils/correctAlignmentHorizontal.ts");
/* harmony import */ var _utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/correctAlignmentVertical */ "./src/utils/correctAlignmentVertical.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/correctBooleanInt */ "./src/utils/correctBooleanInt.ts");
/* harmony import */ var _utils_propToString__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/propToString */ "./src/utils/propToString.ts");
/* harmony import */ var _utils_correctTintMode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctTintMode */ "./src/utils/correctTintMode.ts");
/* harmony import */ var _utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/filterEnabledActions */ "./src/utils/filterEnabledActions.ts");
/* src\components\text\Text.svelte generated by Svelte v4.2.0 */





















const Text = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let jsonText;
  let jsonRanges;
  let jsonImages;
  let jsonRootTextStyles;
  let jsonTextSize;
  let jsonLineHeight;
  let jsonMaxLines;
  let jsonHAlign;
  let jsonVAlign;
  let jsonTextColor;
  let jsonFocusTextColor;
  let jsonTruncate;
  let jsonTextGradient;
  let jsonSelectable;
  let jsonAutoEllipsize;
  let singleline;
  let isAllTextSameColor;
  let isOnlyOneColorDefined;
  let truncate;
  let mods;
  let innerMods;
  let style;
  let $jsonRootTextStyles,
    $$unsubscribe_jsonRootTextStyles = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRootTextStyles = () => ($$unsubscribe_jsonRootTextStyles(), $$unsubscribe_jsonRootTextStyles = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRootTextStyles, $$value => $jsonRootTextStyles = $$value), jsonRootTextStyles);
  let $jsonImages,
    $$unsubscribe_jsonImages = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonImages = () => ($$unsubscribe_jsonImages(), $$unsubscribe_jsonImages = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonImages, $$value => $jsonImages = $$value), jsonImages);
  let $jsonRanges,
    $$unsubscribe_jsonRanges = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRanges = () => ($$unsubscribe_jsonRanges(), $$unsubscribe_jsonRanges = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRanges, $$value => $jsonRanges = $$value), jsonRanges);
  let $jsonSelectable,
    $$unsubscribe_jsonSelectable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSelectable = () => ($$unsubscribe_jsonSelectable(), $$unsubscribe_jsonSelectable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSelectable, $$value => $jsonSelectable = $$value), jsonSelectable);
  let $jsonTextGradient,
    $$unsubscribe_jsonTextGradient = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextGradient = () => ($$unsubscribe_jsonTextGradient(), $$unsubscribe_jsonTextGradient = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextGradient, $$value => $jsonTextGradient = $$value), jsonTextGradient);
  let $jsonTruncate,
    $$unsubscribe_jsonTruncate = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTruncate = () => ($$unsubscribe_jsonTruncate(), $$unsubscribe_jsonTruncate = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTruncate, $$value => $jsonTruncate = $$value), jsonTruncate);
  let $jsonFocusTextColor,
    $$unsubscribe_jsonFocusTextColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFocusTextColor = () => ($$unsubscribe_jsonFocusTextColor(), $$unsubscribe_jsonFocusTextColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFocusTextColor, $$value => $jsonFocusTextColor = $$value), jsonFocusTextColor);
  let $jsonTextColor,
    $$unsubscribe_jsonTextColor = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextColor = () => ($$unsubscribe_jsonTextColor(), $$unsubscribe_jsonTextColor = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextColor, $$value => $jsonTextColor = $$value), jsonTextColor);
  let $jsonMaxLines,
    $$unsubscribe_jsonMaxLines = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMaxLines = () => ($$unsubscribe_jsonMaxLines(), $$unsubscribe_jsonMaxLines = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMaxLines, $$value => $jsonMaxLines = $$value), jsonMaxLines);
  let $jsonVAlign,
    $$unsubscribe_jsonVAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonVAlign = () => ($$unsubscribe_jsonVAlign(), $$unsubscribe_jsonVAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonVAlign, $$value => $jsonVAlign = $$value), jsonVAlign);
  let $direction, $$unsubscribe_direction;
  let $jsonHAlign,
    $$unsubscribe_jsonHAlign = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHAlign = () => ($$unsubscribe_jsonHAlign(), $$unsubscribe_jsonHAlign = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHAlign, $$value => $jsonHAlign = $$value), jsonHAlign);
  let $jsonAutoEllipsize,
    $$unsubscribe_jsonAutoEllipsize = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAutoEllipsize = () => ($$unsubscribe_jsonAutoEllipsize(), $$unsubscribe_jsonAutoEllipsize = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAutoEllipsize, $$value => $jsonAutoEllipsize = $$value), jsonAutoEllipsize);
  let $jsonLineHeight,
    $$unsubscribe_jsonLineHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLineHeight = () => ($$unsubscribe_jsonLineHeight(), $$unsubscribe_jsonLineHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLineHeight, $$value => $jsonLineHeight = $$value), jsonLineHeight);
  let $jsonTextSize,
    $$unsubscribe_jsonTextSize = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTextSize = () => ($$unsubscribe_jsonTextSize(), $$unsubscribe_jsonTextSize = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTextSize, $$value => $jsonTextSize = $$value), jsonTextSize);
  let $jsonText,
    $$unsubscribe_jsonText = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonText = () => ($$unsubscribe_jsonText(), $$unsubscribe_jsonText = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonText, $$value => $jsonText = $$value), jsonText);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let text = '';
  let fontSize = 12;
  let lineHeight = 1.25;
  let customLineHeight = false;
  let maxHeight = '';
  let maxLines;
  let lineClamp = '';
  let multiline = false;
  let halign = 'start';
  let valign = 'start';
  let rootTextColor = '';
  let focusTextColor = '';
  let gradient = '';
  let selectable = false;
  let renderList = [];
  let usedTintColors = [];
  function updateRenderList(text, textRanges, textImages, rootTextStyles) {
    let newRenderList = [];
    usedTintColors.forEach(([color, mode]) => {
      rootCtx.removeSvgFilter(color, mode);
    });
    usedTintColors = [];
    if (!(Array.isArray(textRanges) && textRanges.length || Array.isArray(textImages) && textImages.length && text)) {
      renderList = [];
      return;
    }
    const content = text;
    let ranges = textRanges || [{
      start: 0,
      end: content.length
    }];
    let images = textImages || [];
    let prevIndex = 0;
    let activeRanges = [];
    let list = [];
    ranges.forEach(range => {
      if (range.start !== undefined && range.end !== undefined) {
        list.push({
          index: range.start,
          range,
          type: 'rangeStart',
          isStart: true
        });
        list.push({
          index: range.end,
          range,
          type: 'rangeEnd'
        });
      }
    });
    images.forEach((image, index) => {
      if (image.start !== undefined && image.url && image.start <= content.length) {
        list.push({
          index: image.start,
          image,
          type: 'image',
          arrayIndex: index
        });
      }
    });
    list.sort((a, b) => {
      if (a.index === b.index) {
        if (a.type !== b.type) {
          if (a.type === 'image') {
            return -1;
          } else if (b.type === 'image') {
            return 1;
          }
          return a.type < b.type ? -1 : 1;
        } else if (a.type === 'image' && b.type === 'image') {
          return b.arrayIndex - a.arrayIndex;
        } else if (a.type === 'rangeStart' && b.type === 'rangeStart') {
          return a.range.end - b.range.end;
        } else if (a.type === 'rangeStart') {
          return 1;
        } else if (b.type === 'rangeStart') {
          return -1;
        }
        if (a.type !== 'image' && b.type !== 'image') {
          return a.range.start - b.range.start;
        }
        return 0;
      }
      return a.index - b.index;
    });
    list.forEach(item => {
      var _a, _b;
      let range = item.type === 'image' ? null : item.range;
      let index = item.index;
      if (index > prevIndex) {
        let textStyles = Object.assign(Object.assign({}, rootTextStyles), ...activeRanges);
        newRenderList.push({
          text: content.substring(prevIndex, index),
          textStyles,
          actions: item.type === 'rangeEnd' && ((_b = (_a = item.range) === null || _a === void 0 ? void 0 : _a.actions) === null || _b === void 0 ? void 0 : _b.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_3__.filterEnabledActions)) || undefined
        });
      }
      if (item.type === 'rangeStart' && range) {
        activeRanges.push(range);
      } else if (item.type === 'rangeEnd') {
        activeRanges = activeRanges.filter(range => range !== item.range);
      } else if (item.type === 'image') {
        let textStyles2 = Object.assign(Object.assign({}, rootTextStyles), ...activeRanges);
        let imageWidth = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_4__.pxToEm)((item.image.width && item.image.width.value || 20) * 10 / (textStyles2.font_size || 12));
        let imageHeight = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_4__.pxToEm)((item.image.height && item.image.height.value || 20) * 10 / (textStyles2.font_size || 12));
        const wrapperStyle = {
          'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_4__.pxToEm)((Number(textStyles2.font_size) || 12) * 10 / fontSize)
        };
        let svgFilterId = '';
        const tintColor = item.image.tint_color;
        const tintMode = (0,_utils_correctTintMode__WEBPACK_IMPORTED_MODULE_5__.correctTintMode)(item.image.tint_mode, 'source_in');
        if (tintColor) {
          const color = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_6__.correctColor)(item.image.tint_color);
          svgFilterId = rootCtx.addSvgFilter(color, tintMode);
          usedTintColors.push([color, tintMode]);
        }
        newRenderList.push({
          image: {
            url: item.image.url,
            width: imageWidth,
            height: imageHeight,
            wrapperStyle,
            svgFilterId,
            preloadRequired: Boolean(item.image.preload_required)
          }
        });
      }
      prevIndex = index;
    });
    if (prevIndex < content.length) {
      newRenderList.push({
        text: content.substring(prevIndex),
        textStyles: Object.assign({}, rootTextStyles)
      });
    }
    renderList = newRenderList;
  }
  function onImgError(event) {
    if (event.target && 'classList' in event.target) {
      event.target.classList.add(_Text_module_css__WEBPACK_IMPORTED_MODULE_7__["default"].text__image_hidden);
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    usedTintColors.forEach(([color, mode]) => {
      rootCtx.removeSvgFilter(color, mode);
    });
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  $: {
    if (componentContext.json) {
      fontSize = 12;
      lineHeight = 1.25;
      customLineHeight = false;
      maxHeight = '';
      maxLines = undefined;
      lineClamp = '';
      multiline = false;
      halign = 'start';
      valign = 'start';
      rootTextColor = '';
      gradient = '';
      selectable = false;
    }
  }
  $$subscribe_jsonText(jsonText = componentContext.getDerivedFromVars(componentContext.json.text));
  $$subscribe_jsonRanges(jsonRanges = componentContext.getDerivedFromVars(componentContext.json.ranges));
  $$subscribe_jsonImages(jsonImages = componentContext.getDerivedFromVars(componentContext.json.images));
  $$subscribe_jsonRootTextStyles(jsonRootTextStyles = componentContext.getDerivedFromVars({
    font_size: componentContext.json.font_size,
    letter_spacing: componentContext.json.letter_spacing,
    font_weight: componentContext.json.font_weight,
    font_family: componentContext.json.font_family,
    text_color: componentContext.json.text_color,
    underline: componentContext.json.underline,
    strike: componentContext.json.strike,
    line_height: componentContext.json.line_height,
    text_shadow: componentContext.json.text_shadow
  }));
  $$subscribe_jsonTextSize(jsonTextSize = componentContext.getDerivedFromVars(componentContext.json.font_size));
  $$subscribe_jsonLineHeight(jsonLineHeight = componentContext.getDerivedFromVars(componentContext.json.line_height));
  $$subscribe_jsonMaxLines(jsonMaxLines = componentContext.getDerivedFromVars(componentContext.json.max_lines));
  $$subscribe_jsonHAlign(jsonHAlign = componentContext.getDerivedFromVars(componentContext.json.text_alignment_horizontal));
  $$subscribe_jsonVAlign(jsonVAlign = componentContext.getDerivedFromVars(componentContext.json.text_alignment_vertical));
  $$subscribe_jsonTextColor(jsonTextColor = componentContext.getDerivedFromVars(componentContext.json.text_color));
  $$subscribe_jsonFocusTextColor(jsonFocusTextColor = componentContext.getDerivedFromVars(componentContext.json.focused_text_color));
  $$subscribe_jsonTruncate(jsonTruncate = componentContext.getDerivedFromVars(componentContext.json.truncate));
  $$subscribe_jsonTextGradient(jsonTextGradient = componentContext.getDerivedFromVars(componentContext.json.text_gradient));
  $$subscribe_jsonSelectable(jsonSelectable = componentContext.getDerivedFromVars(componentContext.json.selectable));
  $$subscribe_jsonAutoEllipsize(jsonAutoEllipsize = componentContext.getDerivedFromVars(componentContext.json.auto_ellipsize));
  $: {
    {
      text = (0,_utils_propToString__WEBPACK_IMPORTED_MODULE_8__.propToString)($jsonText);
    }
  }
  $: {
    {
      fontSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_9__.correctPositiveNumber)($jsonTextSize, fontSize);
    }
  }
  $: {
    {
      const newLineHeight = $jsonLineHeight;
      if ((0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_10__.isPositiveNumber)(newLineHeight)) {
        lineHeight = Number(newLineHeight) / fontSize;
        customLineHeight = true;
      } else {
        customLineHeight = false;
      }
    }
  }
  singleline = $jsonMaxLines === 1;
  $: {
    {
      let newMaxHeight = '';
      let newMaxLines;
      let newLineClamp = '';
      let newMultiline = false;
      if ($jsonMaxLines && $jsonMaxLines > 1) {
        const lines = Number($jsonMaxLines);
        newMaxHeight = lines * lineHeight + 'em';
        newMaxLines = lines;
        newLineClamp = lines;
        newMultiline = true;
      } else if ($jsonAutoEllipsize && $jsonMaxLines !== 1) {
        newMultiline = true;
      }
      maxHeight = newMaxHeight;
      maxLines = newMaxLines;
      lineClamp = newLineClamp;
      multiline = newMultiline;
    }
  }
  $: {
    {
      halign = (0,_utils_correctAlignmentHorizontal__WEBPACK_IMPORTED_MODULE_11__.correctAlignmentHorizontal)($jsonHAlign, $direction, halign);
    }
  }
  $: {
    {
      valign = (0,_utils_correctAlignmentVertical__WEBPACK_IMPORTED_MODULE_12__.correctAlignmentVertical)($jsonVAlign, valign);
    }
  }
  isAllTextSameColor = !$jsonRanges || text && $jsonRanges.length === 1 && $jsonRanges[0] && $jsonRanges[0].start === 0 && typeof $jsonRanges[0].end === 'number' && $jsonRanges[0].end >= text.length;
  isOnlyOneColorDefined = Boolean($jsonTextColor) !== Boolean($jsonRanges && $jsonRanges[0] && $jsonRanges[0].text_color);
  $: {
    {
      let newRootTextColor = '';
      if ($jsonMaxLines && isAllTextSameColor && isOnlyOneColorDefined) {
        // Recolor the ellipsis only if the entire text have the same color
        newRootTextColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_6__.correctColor)($jsonTextColor || $jsonRanges && $jsonRanges[0] && $jsonRanges[0].text_color, 1, rootTextColor);
      }
      rootTextColor = newRootTextColor;
    }
  }
  $: {
    {
      focusTextColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_6__.correctColor)($jsonFocusTextColor, 1, focusTextColor);
    }
  }
  truncate = $jsonTruncate === 'none' ? 'none' : '';
  $: {
    {
      let newGradient = '';
      if ($jsonTextGradient) {
        const bg = (0,_utils_background__WEBPACK_IMPORTED_MODULE_13__.getBackground)([$jsonTextGradient]);
        if (bg.image) {
          newGradient = bg.image;
        }
      }
      gradient = newGradient;
    }
  }
  $: {
    {
      selectable = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_14__.correctBooleanInt)($jsonSelectable, selectable);
    }
  }
  $: {
    updateRenderList(text, $jsonRanges, $jsonImages, $jsonRootTextStyles);
  }
  mods = {
    singleline,
    multiline,
    halign,
    valign,
    truncate,
    'has-focus-color': Boolean(focusTextColor)
  };
  innerMods = {
    gradient: Boolean(gradient)
  };
  style = {
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_4__.pxToEm)(fontSize),
    'line-height': lineHeight,
    'max-height': maxHeight,
    '-webkit-line-clamp': lineClamp,
    color: rootTextColor,
    'background-image': gradient,
    '--divkit-text-focus-color': focusTextColor
  };
  $$unsubscribe_jsonRootTextStyles();
  $$unsubscribe_jsonImages();
  $$unsubscribe_jsonRanges();
  $$unsubscribe_jsonSelectable();
  $$unsubscribe_jsonTextGradient();
  $$unsubscribe_jsonTruncate();
  $$unsubscribe_jsonFocusTextColor();
  $$unsubscribe_jsonTextColor();
  $$unsubscribe_jsonMaxLines();
  $$unsubscribe_jsonVAlign();
  $$unsubscribe_direction();
  $$unsubscribe_jsonHAlign();
  $$unsubscribe_jsonAutoEllipsize();
  $$unsubscribe_jsonLineHeight();
  $$unsubscribe_jsonTextSize();
  $$unsubscribe_jsonText();
  return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_15__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_16__.genClassName)('text', _Text_module_css__WEBPACK_IMPORTED_MODULE_7__["default"], mods) + " " + (selectable ? '' : _Root_module_css__WEBPACK_IMPORTED_MODULE_17__["default"].root__unselectable),
    componentContext,
    layoutParams
  }, {}, {
    default: () => {
      return `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_16__.genClassName)('text__inner', _Text_module_css__WEBPACK_IMPORTED_MODULE_7__["default"], innerMods), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_18__.makeStyle)(style), 0)}>${renderList.length ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(renderList, item => {
        return `${'text' in item ? `${item.text ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_TextRange_svelte__WEBPACK_IMPORTED_MODULE_19__["default"], "TextRangeView").$$render($$result, {
          componentContext,
          text: item.text,
          rootFontSize: fontSize,
          textStyles: item.textStyles,
          singleline,
          actions: item.actions
        }, {}, {})}` : ``}` : `${item.image ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_18__.makeStyle)(item.image.wrapperStyle), 0)}><img${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Text_module_css__WEBPACK_IMPORTED_MODULE_7__["default"].text__image, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", item.image.url, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("loading", item.image.preloadRequired ? 'eager' : 'lazy', 0)} decoding="async" aria-hidden="true" alt=""${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_18__.makeStyle)({
          width: item.image.width,
          height: item.image.height,
          // Normalizes line-height for the containing text line
          'margin-top': customLineHeight ? `-${item.image.height}` : undefined,
          'margin-bottom': customLineHeight ? `-${item.image.height}` : undefined,
          filter: item.image.svgFilterId ? `url(#${item.image.svgFilterId})` : undefined
        }), 0)}></span>` : ``}`}`;
      })}` : `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_TextRange_svelte__WEBPACK_IMPORTED_MODULE_19__["default"], "TextRangeView").$$render($$result, {
        componentContext,
        text,
        rootFontSize: fontSize,
        textStyles: $jsonRootTextStyles,
        singleline
      }, {}, {})}`}</span>`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Text);

/***/ }),

/***/ "./src/components/text/TextRange.svelte":
/*!**********************************************!*\
  !*** ./src/components/text/TextRange.svelte ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _TextRange_module_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TextRange.module.css */ "./src/components/text/TextRange.module.css");
/* harmony import */ var _utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utilities/Actionable.svelte */ "./src/components/utilities/Actionable.svelte");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/correctPositiveNumber */ "./src/utils/correctPositiveNumber.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/correctFontWeight */ "./src/utils/correctFontWeight.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/background */ "./src/utils/background.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_shadow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/shadow */ "./src/utils/shadow.ts");
/* src\components\text\TextRange.svelte generated by Svelte v4.2.0 */















const TextRange = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let topOffset;
  let bg;
  let borderRadius;
  let shadow;
  let mods;
  let style;
  var _a, _b;
  let {
    componentContext
  } = $$props;
  let {
    text
  } = $$props;
  let {
    rootFontSize
  } = $$props;
  let {
    textStyles = {}
  } = $$props;
  let {
    singleline = false
  } = $$props;
  let {
    actions = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  let decoration = 'none';
  let fontSize = 12;
  let lineHeight = 1.25;
  let letterSpacing = '';
  let fontWeight = undefined;
  let fontFamily = '';
  let color = '';
  let border = null;
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.text === void 0 && $$bindings.text && text !== void 0) $$bindings.text(text);
  if ($$props.rootFontSize === void 0 && $$bindings.rootFontSize && rootFontSize !== void 0) $$bindings.rootFontSize(rootFontSize);
  if ($$props.textStyles === void 0 && $$bindings.textStyles && textStyles !== void 0) $$bindings.textStyles(textStyles);
  if ($$props.singleline === void 0 && $$bindings.singleline && singleline !== void 0) $$bindings.singleline(singleline);
  if ($$props.actions === void 0 && $$bindings.actions && actions !== void 0) $$bindings.actions(actions);
  $: {
    if (componentContext.json) {
      decoration = 'none';
      fontSize = 12;
      lineHeight = 1.25;
      letterSpacing = '';
      fontWeight = undefined;
      fontFamily = '';
      color = '';
      border = null;
    }
  }
  $: {
    {
      let newDecoration = 'none';
      if (textStyles.underline || textStyles.strike) {
        if (textStyles.underline === 'single' && textStyles.strike === 'single') {
          newDecoration = 'both';
        } else if (textStyles.underline === 'single') {
          newDecoration = 'underline';
        } else if (textStyles.strike === 'single') {
          newDecoration = 'strike';
        }
      }
      decoration = newDecoration;
    }
  }
  $: {
    {
      fontSize = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_3__.correctPositiveNumber)(textStyles.font_size, fontSize);
    }
  }
  $: {
    {
      if ((0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_4__.isPositiveNumber)(textStyles.line_height)) {
        lineHeight = Number(textStyles.line_height) / fontSize;
      }
    }
  }
  $: {
    {
      if ((0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_5__.isNonNegativeNumber)(textStyles.letter_spacing)) {
        letterSpacing = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__.pxToEm)(textStyles.letter_spacing);
      }
    }
  }
  $: {
    {
      fontWeight = (0,_utils_correctFontWeight__WEBPACK_IMPORTED_MODULE_7__.correctFontWeight)(textStyles.font_weight, fontWeight);
      if (typeof textStyles.font_family === 'string' && textStyles.font_family) {
        fontFamily = rootCtx.typefaceProvider(textStyles.font_family, {
          fontWeight: fontWeight || 400
        });
      } else {
        fontFamily = '';
      }
    }
  }
  $: {
    {
      color = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)(textStyles.text_color, 1, color);
    }
  }
  topOffset = textStyles.top_offset ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__.pxToEm)(textStyles.top_offset) : '';
  bg = textStyles.background ? (0,_utils_background__WEBPACK_IMPORTED_MODULE_9__.getBackground)([textStyles.background]) : null;
  $: {
    if (((_a = textStyles.border) === null || _a === void 0 ? void 0 : _a.stroke) && textStyles.border.stroke.color && (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_8__.correctColor)(textStyles.border.stroke.color) !== 'transparent' && (0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_4__.isPositiveNumber)(textStyles.border.stroke.width)) {
      border = {
        color: textStyles.border.stroke.color,
        width: textStyles.border.stroke.width
      };
    } else {
      border = null;
    }
  }
  borderRadius = (0,_utils_correctPositiveNumber__WEBPACK_IMPORTED_MODULE_3__.correctPositiveNumber)((_b = textStyles.border) === null || _b === void 0 ? void 0 : _b.corner_radius, 0);
  shadow = textStyles.text_shadow ? (0,_utils_shadow__WEBPACK_IMPORTED_MODULE_10__.shadowToCssFilter)(textStyles.text_shadow, fontSize) : undefined;
  mods = {
    singleline,
    decoration
  };
  style = {
    'font-size': (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__.pxToEm)(fontSize * 10 / rootFontSize),
    'line-height': lineHeight,
    'letter-spacing': letterSpacing,
    'font-weight': fontWeight,
    'font-family': fontFamily,
    filter: shadow,
    color,
    background: (bg === null || bg === void 0 ? void 0 : bg.color) || undefined,
    /**
    * box-shadow instead of border because:
    * 1) Doesn't take space as border does
    * 2) There should not be a border-radius on line breaks, but there should be a border
    */
    'box-shadow': border ? `inset 0 0 0 ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__.pxToEm)(border.width)} ${border.color}` : undefined,
    'border-radius': borderRadius ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_6__.pxToEm)(borderRadius) : undefined
  };
  return `${topOffset ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _TextRange_module_css__WEBPACK_IMPORTED_MODULE_11__["default"]['text-range__top-offset'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
    "margin-top": topOffset
  })}></span>` : ``}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Actionable_svelte__WEBPACK_IMPORTED_MODULE_12__["default"], "Actionable").$$render($$result, {
    componentContext,
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_13__.genClassName)('text-range', _TextRange_module_css__WEBPACK_IMPORTED_MODULE_11__["default"], mods),
    actions,
    style: (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_14__.makeStyle)(style)
  }, {}, {
    default: () => {
      return `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(text)}`;
    }
  })}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TextRange);

/***/ }),

/***/ "./src/components/tooltip/Tooltip.svelte":
/*!***********************************************!*\
  !*** ./src/components/tooltip/Tooltip.svelte ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _Tooltip_module_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Tooltip.module.css */ "./src/components/tooltip/Tooltip.module.css");
/* harmony import */ var _utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utilities/Unknown.svelte */ "./src/components/utilities/Unknown.svelte");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* src\components\tooltip\Tooltip.svelte generated by Svelte v4.2.0 */








var _a, _b, _c, _d;
const DEFAULT_ANIMATION = {
  name: 'set',
  items: [{
    name: 'translate'
  }, {
    name: 'fade'
  }]
};
const Tooltip = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let componentContext;
  let position;
  let offsetX;
  let offsetY;
  let animationIn;
  let animationOut;
  let mods;
  let $offsetY,
    $$unsubscribe_offsetY = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_offsetY = () => ($$unsubscribe_offsetY(), $$unsubscribe_offsetY = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(offsetY, $$value => $offsetY = $$value), offsetY);
  let $offsetX,
    $$unsubscribe_offsetX = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_offsetX = () => ($$unsubscribe_offsetX(), $$unsubscribe_offsetX = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(offsetX, $$value => $offsetX = $$value), offsetX);
  let $position,
    $$unsubscribe_position = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_position = () => ($$unsubscribe_position(), $$unsubscribe_position = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(position, $$value => $position = $$value), position);
  let $isDesktop, $$unsubscribe_isDesktop;
  let $animationIn,
    $$unsubscribe_animationIn = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_animationIn = () => ($$unsubscribe_animationIn(), $$unsubscribe_animationIn = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(animationIn, $$value => $animationIn = $$value), animationIn);
  let $animationOut,
    $$unsubscribe_animationOut = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_animationOut = () => ($$unsubscribe_animationOut(), $$unsubscribe_animationOut = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(animationOut, $$value => $animationOut = $$value), animationOut);
  var _a, _b, _c, _d;
  let {
    ownerNode
  } = $$props;
  let {
    data
  } = $$props;
  let {
    internalId
  } = $$props;
  let {
    parentComponentContext
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  const isDesktop = rootCtx.isDesktop;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(isDesktop, 'isDesktop');
  $$unsubscribe_isDesktop = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(isDesktop, value => $isDesktop = value);
  const creationTime = Date.now();
  let tooltipNode;
  let visible = false;
  let tooltipX = '';
  let tooltipY = '';
  let tooltipWidth = '';
  let tooltipHeight = '';
  let resizeObserver = null;
  function reposition() {
    var _a, _b;
    if (!tooltipNode || !ownerNode) {
      return;
    }
    const parent = tooltipNode.parentElement;
    if (!parent) {
      return;
    }
    const prevTransform = tooltipNode.style.cssText;

    // Override transform from the css animation in the inOutAnimation
    // So it happens in the order:
    // 1) Attach dom node
    // 2) Run in-out transition
    // 3) Call afterUpdate
    tooltipNode.style.cssText += ';transform: none !important';
    const ownerBbox = ownerNode.getBoundingClientRect();
    const tooltipBbox = tooltipNode.getBoundingClientRect();
    const parentBbox = parent.getBoundingClientRect();
    tooltipNode.style.cssText = prevTransform;
    let x = 0;
    let y = 0;
    let width = null;
    let height = null;
    let calcedWidth = 0;
    let calcedHeight = 0;
    const jsonWidth = parentComponentContext.getJsonWithVars((_a = data.div) === null || _a === void 0 ? void 0 : _a.width);
    const jsonHeight = parentComponentContext.getJsonWithVars((_b = data.div) === null || _b === void 0 ? void 0 : _b.width);
    if (!jsonWidth || jsonWidth.type === 'match_parent') {
      calcedWidth = width = ownerBbox.width;
    } else if (jsonWidth.type === 'fixed' && jsonWidth.value) {
      calcedWidth = width = jsonWidth.value;
    } else {
      calcedWidth = tooltipBbox.width;
    }
    if ((jsonHeight === null || jsonHeight === void 0 ? void 0 : jsonHeight.type) === 'match_parent') {
      calcedHeight = height = ownerBbox.height;
    } else if ((jsonHeight === null || jsonHeight === void 0 ? void 0 : jsonHeight.type) === 'fixed' && jsonHeight.value) {
      calcedHeight = height = jsonHeight.value;
    } else {
      calcedHeight = tooltipBbox.height;
    }
    if ($position === 'left' || $position === 'bottom-left' || $position === 'top-left') {
      x = ownerBbox.left - calcedWidth;
    } else if ($position === 'top' || $position === 'bottom' || $position === 'center') {
      x = (ownerBbox.left + ownerBbox.right) / 2 - calcedWidth / 2;
    } else if ($position === 'right' || $position === 'bottom-right' || $position === 'top-right') {
      x = ownerBbox.right;
    } else {
      return;
    }
    if ($position === 'top' || $position === 'top-left' || $position === 'top-right') {
      y = ownerBbox.top - calcedHeight;
    } else if ($position === 'left' || $position === 'right' || $position === 'center') {
      y = (ownerBbox.top + ownerBbox.bottom) / 2 - calcedHeight / 2;
    } else if ($position === 'bottom-left' || $position === 'bottom' || $position === 'bottom-right') {
      y = ownerBbox.bottom;
    } else {
      return;
    }
    x -= parentBbox.left;
    y -= parentBbox.top;
    x += $offsetX || 0;
    y += $offsetY || 0;
    tooltipX = `${x}px`;
    tooltipY = `${y}px`;
    tooltipWidth = width !== null ? `${width}px` : '';
    tooltipHeight = height !== null ? `${height}px` : '';
    visible = true;
    if (width === null || height === null) {
      // wrap_content by any side
      if (typeof ResizeObserver !== 'undefined' && !resizeObserver) {
        resizeObserver = new ResizeObserver(() => {
          requestAnimationFrame(reposition);
        });
        resizeObserver.observe(tooltipNode);
      }
    } else {
      resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();
    }
  }
  function onWindowClick(event) {
    if (Date.now() - creationTime < 100 || event.composedPath().includes(tooltipNode)) {
      return;
    }
    rootCtx.onTooltipClose(internalId);
  }
  function onWindowResize() {
    reposition();
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    if (rootCtx.tooltipRoot) {
      const computed = window.getComputedStyle(tooltipNode);
      tooltipNode.style.fontSize = computed.fontSize;
      tooltipNode.style.fontFamily = computed.fontFamily;
      tooltipNode.style.lineHeight = computed.lineHeight;
      rootCtx.tooltipRoot.appendChild(tooltipNode);
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.afterUpdate)(() => {
    if (!visible) {
      reposition();
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();
  });
  if ($$props.ownerNode === void 0 && $$bindings.ownerNode && ownerNode !== void 0) $$bindings.ownerNode(ownerNode);
  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);
  if ($$props.internalId === void 0 && $$bindings.internalId && internalId !== void 0) $$bindings.internalId(internalId);
  if ($$props.parentComponentContext === void 0 && $$bindings.parentComponentContext && parentComponentContext !== void 0) $$bindings.parentComponentContext(parentComponentContext);
  componentContext = parentComponentContext.produceChildContext(data.div);
  $$subscribe_position(position = parentComponentContext.getDerivedFromVars(data.position));
  $$subscribe_offsetX(offsetX = parentComponentContext.getDerivedFromVars((_b = (_a = data.offset) === null || _a === void 0 ? void 0 : _a.x) === null || _b === void 0 ? void 0 : _b.value));
  $$subscribe_offsetY(offsetY = parentComponentContext.getDerivedFromVars((_d = (_c = data.offset) === null || _c === void 0 ? void 0 : _c.y) === null || _d === void 0 ? void 0 : _d.value));
  $$subscribe_animationIn(animationIn = parentComponentContext.getDerivedFromVars(data.animation_in));
  $$subscribe_animationOut(animationOut = parentComponentContext.getDerivedFromVars(data.animation_out));
  mods = {
    visible
  };
  $$unsubscribe_offsetY();
  $$unsubscribe_offsetX();
  $$unsubscribe_position();
  $$unsubscribe_isDesktop();
  $$unsubscribe_animationIn();
  $$unsubscribe_animationOut();
  return ` <div class="${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)((0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_3__.genClassName)('tooltip', _Tooltip_module_css__WEBPACK_IMPORTED_MODULE_4__["default"], mods), true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)($isDesktop ? _Root_module_css__WEBPACK_IMPORTED_MODULE_5__["default"].root_platform_desktop : '', true)}"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
    "top": tooltipY,
    "left": tooltipX,
    "width": tooltipWidth,
    "height": tooltipHeight
  })}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", tooltipNode, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Unknown_svelte__WEBPACK_IMPORTED_MODULE_6__["default"], "Unknown").$$render($$result, {
    componentContext
  }, {}, {})}</div>`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tooltip);

/***/ }),

/***/ "./src/components/utilities/Actionable.svelte":
/*!****************************************************!*\
  !*** ./src/components/utilities/Actionable.svelte ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Root_module_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Root.module.css */ "./src/components/Root.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_doNothing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/doNothing */ "./src/utils/doNothing.ts");
/* harmony import */ var _context_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../context/action */ "./src/context/action.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_url__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/url */ "./src/utils/url.ts");
/* harmony import */ var _utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/getTouchCoords */ "./src/utils/getTouchCoords.ts");
/* src\components\utilities\Actionable.svelte generated by Svelte v4.2.0 */









const MIN_SWIPE_PX = 8;
const MIN_LONG_TAP_DURATION = 400;
const Actionable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let {
    componentContext
  } = $$props;
  let {
    id = ''
  } = $$props;
  let {
    actions = undefined
  } = $$props;
  let {
    doubleTapActions = undefined
  } = $$props;
  let {
    longTapActions = undefined
  } = $$props;
  let {
    cls = ''
  } = $$props;
  let {
    style = null
  } = $$props;
  let {
    attrs = undefined
  } = $$props;
  let {
    use = _utils_doNothing__WEBPACK_IMPORTED_MODULE_2__.doNothing
  } = $$props;
  let {
    customAction = null
  } = $$props;
  let {
    isNativeActionAnimation = true
  } = $$props;
  let {
    hasInnerFocusable = false
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const actionCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_action__WEBPACK_IMPORTED_MODULE_4__.ACTION_CTX);
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.setContext)(_context_action__WEBPACK_IMPORTED_MODULE_4__.ACTION_CTX, {
    hasAction() {
      return Boolean(actionCtx.hasAction() || (actions === null || actions === void 0 ? void 0 : actions.length));
    }
  });
  let node;
  let href = '';
  let target = undefined;
  let startTs = -1;
  let startCoords = null;
  let isChanged = false;
  let hasJSAction = false;
  let longtapTimer;
  async function onClick(event) {
    if (actionCtx.hasAction()) {
      return;
    }
    if (event.button !== undefined && event.button !== 0) {
      return;
    }
    if (startTs > 0 && Date.now() > startTs + MIN_LONG_TAP_DURATION) {
      // Long tap action
      event.preventDefault();
      return;
    }
    const cancelled = (customAction === null || customAction === void 0 ? void 0 : customAction(event)) === false;
    if (cancelled) {
      event.preventDefault();
    } else if (actions) {
      const hasCustomAction = actions.some(action => {
        if (action === null || action === void 0 ? void 0 : action.typed) {
          return true;
        }
        const url = action === null || action === void 0 ? void 0 : action.url;
        if (!url) {
          return false;
        }
        const schema = (0,_utils_url__WEBPACK_IMPORTED_MODULE_5__.getUrlSchema)(url);
        return schema && !(0,_utils_url__WEBPACK_IMPORTED_MODULE_5__.isBuiltinSchema)(schema, rootCtx.getBuiltinProtocols());
      });
      if (hasCustomAction) {
        event.preventDefault();
      }
      componentContext.execAnyActions(actions, {
        node
      });
    }
  }
  function onDoubleClick(event) {
    if (actionCtx.hasAction()) {
      return;
    }
    if (event.button !== undefined && event.button !== 0) {
      return;
    }
    componentContext.execAnyActions(doubleTapActions, {
      processUrls: true,
      node
    });
  }
  function onTouchStart(event) {
    if (event.touches.length > 1) {
      return;
    }
    startCoords = (0,_utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_6__.getTouchCoords)(event);
    isChanged = false;
    startTs = Date.now();
    clearTimeout(longtapTimer);
  }
  function onTouchMove(event) {
    if (!startCoords) {
      return;
    }
    const coords = (0,_utils_getTouchCoords__WEBPACK_IMPORTED_MODULE_6__.getTouchCoords)(event);
    if (Math.abs(startCoords.x - coords.x) > MIN_SWIPE_PX || Math.abs(startCoords.y - coords.y) > MIN_SWIPE_PX) {
      isChanged = true;
    }
  }
  function onTouchEnd(event) {
    if (!startCoords || startTs < 0) {
      return;
    }
    if (!isChanged && Date.now() - startTs >= MIN_LONG_TAP_DURATION) {
      event.stopPropagation();
      componentContext.execAnyActions(longTapActions, {
        processUrls: true,
        node
      });
    }
    clearTimeout(longtapTimer);
    longtapTimer = window.setTimeout(() => {
      startCoords = null;
      startTs = -1;
    }, 100);
  }
  function onKeydown(event) {
    // todo check event.target is not inside current element
    const target = event.target;
    if (target instanceof HTMLElement) {
      if (target.tagName === 'INPUT' || target.contentEditable === 'true') {
        return;
      }
    }
    if (event.ctrlKey || event.metaKey || event.altKey || event.shiftKey) {
      return;
    }
    if (event.key === 'Enter' && Array.isArray(actions) && actions.length) {
      componentContext.execAnyActions(actions);
      event.preventDefault();
    }
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onMount)(() => {
    if (id && !hasInnerFocusable) {
      rootCtx.registerFocusable(id, {
        focus() {
          if (node && (href || hasJSAction)) {
            node.focus();
          }
        }
      });
    }
  });
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (id && !hasInnerFocusable) {
      rootCtx.unregisterFocusable(id);
    }
    clearTimeout(longtapTimer);
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.id === void 0 && $$bindings.id && id !== void 0) $$bindings.id(id);
  if ($$props.actions === void 0 && $$bindings.actions && actions !== void 0) $$bindings.actions(actions);
  if ($$props.doubleTapActions === void 0 && $$bindings.doubleTapActions && doubleTapActions !== void 0) $$bindings.doubleTapActions(doubleTapActions);
  if ($$props.longTapActions === void 0 && $$bindings.longTapActions && longTapActions !== void 0) $$bindings.longTapActions(longTapActions);
  if ($$props.cls === void 0 && $$bindings.cls && cls !== void 0) $$bindings.cls(cls);
  if ($$props.style === void 0 && $$bindings.style && style !== void 0) $$bindings.style(style);
  if ($$props.attrs === void 0 && $$bindings.attrs && attrs !== void 0) $$bindings.attrs(attrs);
  if ($$props.use === void 0 && $$bindings.use && use !== void 0) $$bindings.use(use);
  if ($$props.customAction === void 0 && $$bindings.customAction && customAction !== void 0) $$bindings.customAction(customAction);
  if ($$props.isNativeActionAnimation === void 0 && $$bindings.isNativeActionAnimation && isNativeActionAnimation !== void 0) $$bindings.isNativeActionAnimation(isNativeActionAnimation);
  if ($$props.hasInnerFocusable === void 0 && $$bindings.hasInnerFocusable && hasInnerFocusable !== void 0) $$bindings.hasInnerFocusable(hasInnerFocusable);
  $: {
    {
      if (Array.isArray(actions) && (actions === null || actions === void 0 ? void 0 : actions.length)) {
        for (let i = 0; i < actions.length; ++i) {
          const url = actions[i].url;
          if (url) {
            href = url;
            target = actions[i].target || undefined;
            break;
          }
        }
      }
      if (Array.isArray(actions) && (actions === null || actions === void 0 ? void 0 : actions.length) && actionCtx.hasAction()) {
        href = '';
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_7__.wrapError)(new Error('Actionable element is forbidden inside other actionable element'), {
          level: 'warn',
          additional: {
            actions
          }
        }));
      }
      hasJSAction = Boolean(customAction);
      if (href && !(0,_utils_url__WEBPACK_IMPORTED_MODULE_5__.isBuiltinSchema)((0,_utils_url__WEBPACK_IMPORTED_MODULE_5__.getUrlSchema)(href), rootCtx.getBuiltinProtocols())) {
        href = '';
        hasJSAction = true;
      } else if (!href && Array.isArray(actions) && (actions === null || actions === void 0 ? void 0 : actions.length)) {
        hasJSAction = true;
        if (!actions.some(action => action.url || action.typed || action.menu_items)) {
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_7__.wrapError)(new Error('The component has a list of actions, but does not have a real action'), {
            level: 'warn',
            additional: {
              actions
            }
          }));
        }
      }
    }
  }
  $: {
    if (node) {
      if (href || hasJSAction) {
        node.addEventListener('click', onClick);
      } else {
        node.removeEventListener('click', onClick);
      }
      if (doubleTapActions === null || doubleTapActions === void 0 ? void 0 : doubleTapActions.length) {
        node.addEventListener('dblclick', onDoubleClick);
      } else {
        node.removeEventListener('dblclick', onDoubleClick);
      }
      if (longTapActions === null || longTapActions === void 0 ? void 0 : longTapActions.length) {
        node.addEventListener('touchstart', onTouchStart, {
          passive: true
        });
        node.addEventListener('touchmove', onTouchMove, {
          passive: true
        });
        node.addEventListener('touchend', onTouchEnd, {
          passive: true
        });
        node.addEventListener('touchcancel', onTouchEnd, {
          passive: true
        });
      } else {
        node.removeEventListener('touchstart', onTouchStart);
        node.removeEventListener('touchmove', onTouchMove);
        node.removeEventListener('touchend', onTouchEnd);
        node.removeEventListener('touchcancel', onTouchEnd);
      }
    }
  }
  return `${href ? `<a${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.spread)([{
    href: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(href)
  }, {
    target: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(target)
  }, {
    style: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(style)
  }, {
    class: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(cls, true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(isNativeActionAnimation ? _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"].root__clickable : _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['root__clickable-no-transition'], true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(longTapActions !== null && longTapActions !== void 0 && longTapActions.length ? _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['root_disabled-context-menu'] : '', true)
  }, (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_object)(attrs)], {})}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", node, 0)}>${slots.default ? slots.default({}) : ``}</a>` : ` <span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.spread)([{
    class: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(cls, true) + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(hasJSAction ? ` ${isNativeActionAnimation ? _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"].root__clickable : _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['root__clickable-no-transition']} ${_Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"].root__unselectable}` : '', true) + " " + (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape)(longTapActions !== null && longTapActions !== void 0 && longTapActions.length ? _Root_module_css__WEBPACK_IMPORTED_MODULE_8__["default"]['root_disabled-context-menu'] : '', true)
  }, {
    style: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(style)
  }, {
    role: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(hasJSAction ? 'button' : null)
  }, {
    tabindex: (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_attribute_value)(hasJSAction ? 0 : null)
  }, (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.escape_object)(attrs)], {})}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", node, 0)}>${slots.default ? slots.default({}) : ``}</span>`}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Actionable);

/***/ }),

/***/ "./src/components/utilities/Outer.svelte":
/*!***********************************************!*\
  !*** ./src/components/utilities/Outer.svelte ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _Outer_module_css__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Outer.module.css */ "./src/components/utilities/Outer.module.css");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils/background */ "./src/utils/background.ts");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _use_visibilityAction__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../use/visibilityAction */ "./src/use/visibilityAction.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* harmony import */ var _use_devtool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../use/devtool */ "./src/use/devtool.ts");
/* harmony import */ var _context_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../context/state */ "./src/context/state.ts");
/* harmony import */ var _utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../utils/correctEdgeInserts */ "./src/utils/correctEdgeInserts.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");
/* harmony import */ var _utils_correctAlpha__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../utils/correctAlpha */ "./src/utils/correctAlpha.ts");
/* harmony import */ var _utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/assignIfDifferent */ "./src/utils/assignIfDifferent.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_correctVisibility__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../utils/correctVisibility */ "./src/utils/correctVisibility.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_correctCSSInterpolator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/correctCSSInterpolator */ "./src/utils/correctCSSInterpolator.ts");
/* harmony import */ var _utils_correctNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctNumber */ "./src/utils/correctNumber.ts");
/* harmony import */ var _utils_flattenAnimation__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils/flattenAnimation */ "./src/utils/flattenAnimation.ts");
/* harmony import */ var _utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/correctEdgeInsertsObject */ "./src/utils/correctEdgeInsertsObject.ts");
/* harmony import */ var _utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../utils/edgeInsertsToCss */ "./src/utils/edgeInsertsToCss.ts");
/* harmony import */ var _utils_sumEdgeInsets__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../utils/sumEdgeInsets */ "./src/utils/sumEdgeInsets.ts");
/* harmony import */ var _utils_correctBorderRadiusObject__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/correctBorderRadiusObject */ "./src/utils/correctBorderRadiusObject.ts");
/* harmony import */ var _utils_borderRadius__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/borderRadius */ "./src/utils/borderRadius.ts");
/* harmony import */ var _utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../utils/isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");
/* harmony import */ var _utils_truthy__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../utils/truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _utils_shadow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/shadow */ "./src/utils/shadow.ts");
/* harmony import */ var _utils_isDeepEqual__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../utils/isDeepEqual */ "./src/utils/isDeepEqual.ts");
/* harmony import */ var _utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/filterEnabledActions */ "./src/utils/filterEnabledActions.ts");
/* harmony import */ var _utils_isPrefersReducedMotion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/isPrefersReducedMotion */ "./src/utils/isPrefersReducedMotion.ts");
/* harmony import */ var _Actionable_svelte__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./Actionable.svelte */ "./src/components/utilities/Actionable.svelte");
/* harmony import */ var _OuterBackground_svelte__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./OuterBackground.svelte */ "./src/components/utilities/OuterBackground.svelte");
/* src\components\utilities\Outer.svelte generated by Svelte v4.2.0 */



































const HORIZONTAL_ALIGN_TO_GENERAL_LTR = {
  left: 'start',
  center: 'center',
  right: 'end',
  start: 'start',
  end: 'end'
};
const HORIZONTAL_ALIGN_TO_GENERAL_RTL = {
  left: 'end',
  center: 'center',
  right: 'start',
  start: 'start',
  end: 'end'
};
const VERTICAL_ALIGN_TO_GENERAL = {
  top: 'start',
  center: 'center',
  bottom: 'end',
  baseline: 'baseline'
};
function hasNativeAnimation(list) {
  return list.some(it => it.name === 'native');
}
const Outer = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let origJson;
  let jsonFocus;
  let jsonBorder;
  let jsonPaddings;
  let jsonMargins;
  let jsonWidth;
  let jsonAlignmentHorizontal;
  let jsonHeight;
  let jsonAlignmentVertical;
  let jsonAlpha;
  let jsonAccessibility;
  let jsonBackground;
  let jsonAction;
  let jsonActions;
  let jsonDoubleTapActions;
  let jsonLongTapActions;
  let jsonActionAnimation;
  let jsonVisibility;
  let jsonTransform;
  let padding;
  let parentOverlapMod;
  let parentOverlapAbsoluteMod;
  let gridArea;
  let mods;
  let flexBasis;
  let stl;
  let $jsonTransform,
    $$unsubscribe_jsonTransform = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonTransform = () => ($$unsubscribe_jsonTransform(), $$unsubscribe_jsonTransform = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonTransform, $$value => $jsonTransform = $$value), jsonTransform);
  let $jsonVisibility,
    $$unsubscribe_jsonVisibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonVisibility = () => ($$unsubscribe_jsonVisibility(), $$unsubscribe_jsonVisibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonVisibility, $$value => $jsonVisibility = $$value), jsonVisibility);
  let $jsonActionAnimation,
    $$unsubscribe_jsonActionAnimation = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonActionAnimation = () => ($$unsubscribe_jsonActionAnimation(), $$unsubscribe_jsonActionAnimation = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonActionAnimation, $$value => $jsonActionAnimation = $$value), jsonActionAnimation);
  let $jsonFocus,
    $$unsubscribe_jsonFocus = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonFocus = () => ($$unsubscribe_jsonFocus(), $$unsubscribe_jsonFocus = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonFocus, $$value => $jsonFocus = $$value), jsonFocus);
  let $jsonLongTapActions,
    $$unsubscribe_jsonLongTapActions = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonLongTapActions = () => ($$unsubscribe_jsonLongTapActions(), $$unsubscribe_jsonLongTapActions = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonLongTapActions, $$value => $jsonLongTapActions = $$value), jsonLongTapActions);
  let $jsonDoubleTapActions,
    $$unsubscribe_jsonDoubleTapActions = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonDoubleTapActions = () => ($$unsubscribe_jsonDoubleTapActions(), $$unsubscribe_jsonDoubleTapActions = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonDoubleTapActions, $$value => $jsonDoubleTapActions = $$value), jsonDoubleTapActions);
  let $jsonAction,
    $$unsubscribe_jsonAction = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAction = () => ($$unsubscribe_jsonAction(), $$unsubscribe_jsonAction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAction, $$value => $jsonAction = $$value), jsonAction);
  let $jsonActions,
    $$unsubscribe_jsonActions = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonActions = () => ($$unsubscribe_jsonActions(), $$unsubscribe_jsonActions = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonActions, $$value => $jsonActions = $$value), jsonActions);
  let $jsonBackground,
    $$unsubscribe_jsonBackground = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonBackground = () => ($$unsubscribe_jsonBackground(), $$unsubscribe_jsonBackground = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonBackground, $$value => $jsonBackground = $$value), jsonBackground);
  let $jsonAccessibility,
    $$unsubscribe_jsonAccessibility = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAccessibility = () => ($$unsubscribe_jsonAccessibility(), $$unsubscribe_jsonAccessibility = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAccessibility, $$value => $jsonAccessibility = $$value), jsonAccessibility);
  let $jsonAlpha,
    $$unsubscribe_jsonAlpha = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAlpha = () => ($$unsubscribe_jsonAlpha(), $$unsubscribe_jsonAlpha = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAlpha, $$value => $jsonAlpha = $$value), jsonAlpha);
  let $jsonHeight,
    $$unsubscribe_jsonHeight = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonHeight = () => ($$unsubscribe_jsonHeight(), $$unsubscribe_jsonHeight = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonHeight, $$value => $jsonHeight = $$value), jsonHeight);
  let $jsonWidth,
    $$unsubscribe_jsonWidth = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonWidth = () => ($$unsubscribe_jsonWidth(), $$unsubscribe_jsonWidth = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonWidth, $$value => $jsonWidth = $$value), jsonWidth);
  let $jsonAlignmentVertical,
    $$unsubscribe_jsonAlignmentVertical = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAlignmentVertical = () => ($$unsubscribe_jsonAlignmentVertical(), $$unsubscribe_jsonAlignmentVertical = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAlignmentVertical, $$value => $jsonAlignmentVertical = $$value), jsonAlignmentVertical);
  let $jsonMargins,
    $$unsubscribe_jsonMargins = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMargins = () => ($$unsubscribe_jsonMargins(), $$unsubscribe_jsonMargins = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMargins, $$value => $jsonMargins = $$value), jsonMargins);
  let $direction, $$unsubscribe_direction;
  let $jsonAlignmentHorizontal,
    $$unsubscribe_jsonAlignmentHorizontal = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAlignmentHorizontal = () => ($$unsubscribe_jsonAlignmentHorizontal(), $$unsubscribe_jsonAlignmentHorizontal = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAlignmentHorizontal, $$value => $jsonAlignmentHorizontal = $$value), jsonAlignmentHorizontal);
  let $jsonPaddings,
    $$unsubscribe_jsonPaddings = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPaddings = () => ($$unsubscribe_jsonPaddings(), $$unsubscribe_jsonPaddings = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPaddings, $$value => $jsonPaddings = $$value), jsonPaddings);
  let $jsonBorder,
    $$unsubscribe_jsonBorder = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonBorder = () => ($$unsubscribe_jsonBorder(), $$unsubscribe_jsonBorder = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonBorder, $$value => $jsonBorder = $$value), jsonBorder);
  let {
    componentContext
  } = $$props;
  let {
    cls = ''
  } = $$props;
  let {
    style = undefined
  } = $$props;
  let {
    layoutParams = {}
  } = $$props;
  let {
    customDescription = false
  } = $$props;
  let {
    customPaddings = false
  } = $$props;
  let {
    customActions = ''
  } = $$props;
  let {
    additionalPaddings = null
  } = $$props;
  let {
    heightByAspect = false
  } = $$props;
  let {
    parentOf = undefined
  } = $$props;
  let {
    parentOfSimpleMode = undefined
  } = $$props;
  let {
    replaceItems = undefined
  } = $$props;
  let {
    hasInnerFocusable = false
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_3__.ROOT_CTX);
  const stateCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_state__WEBPACK_IMPORTED_MODULE_4__.STATE_CTX);
  const direction = rootCtx.direction;
  (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_store)(direction, 'direction');
  $$unsubscribe_direction = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(direction, value => $direction = value);
  let currentNode;
  let attrs;
  let extensions = null;
  let prevChilds = [];
  let borderStyle = {};
  let borderElemStyle = {};
  let hasBorder = false;
  let strokeWidth = 1;
  let strokeColor = 'transparent';
  let cornerRadius = 0;
  let cornersRadius = {
    'top-left': 0,
    'top-right': 0,
    'bottom-right': 0,
    'bottom-left': 0
  };
  let backgroundRadius = '';
  let selfPadding = null;
  let margin = '';
  let widthMods = {};
  let width;
  let widthMin;
  let widthMax;
  let widthNum = 0;
  let widthFlexGrow = 0;
  let widthFlexShrink = 0;
  let widthFill = false;
  let hasWidthError = false;
  let heightMods = {};
  let height;
  let heightMin;
  let heightMax;
  let heightNum = 0;
  let heightFlexGrow = 0;
  let heightFlexShrink = 0;
  let heightFill = false;
  let hasHeightError = false;
  let alpha = 1;
  let opacity;
  let background;
  let backgroundStyle;
  let hasSeparateBg;
  let jsonTransitionTriggers = [];
  let hasStateChangeTrigger = false;
  let hasVisibilityChangeTrigger = false;
  let stateChangingInProgress;
  let visibilityChangingInProgress;
  let transitionChangeInProgress;
  let actions = [];
  let doubleTapActions = [];
  let longTapActions = [];
  let focusActions = [];
  let blurActions = [];
  let actionAnimationList = [];
  let actionAnimationTransition = '';
  let animationOpacityStart = undefined;
  let animationOpacityEnd = undefined;
  let animationScaleStart = undefined;
  let animationScaleEnd = undefined;
  let isVisibilityInited = false;
  let visibility = 'visible';
  let pivotXNum = 0;
  let pivotYNum = 0;
  let transformOrigin;
  let transform;
  let hasCustomFocus = false;
  let prevExtensionsVal = undefined;
  let registred;
  let dev = null;
  function rebind() {
    selfPadding = null;
    margin = '';
    alpha = 1;
    isVisibilityInited = false;
    visibility = 'visible';
    pivotXNum = 0;
    pivotYNum = 0;
    transformOrigin = undefined;
    transform = undefined;
    jsonTransitionTriggers = componentContext.fakeElement ? [] : componentContext.json.transition_triggers || ['state_change', 'visibility_change'];
    hasStateChangeTrigger = Boolean(jsonTransitionTriggers.indexOf('state_change') !== -1 && componentContext.json.id);
    hasVisibilityChangeTrigger = Boolean(jsonTransitionTriggers.indexOf('visibility_change') !== -1 && componentContext.json.id);
    if (currentNode) {
      useAction(currentNode);
    }
  }
  function replaceWith(id, items) {
    if (!Array.isArray(parentOf) || !replaceItems) {
      return;
    }
    if (parentOfSimpleMode) {
      const newItemsLen = Array.isArray(items) && items.length || 0;
      if (newItemsLen !== 1) {
        return;
      }
    }
    const index = parentOf.findIndex(item => (item === null || item === void 0 ? void 0 : item.id) === id);
    const newItems = parentOf.slice();
    newItems.splice(index, 1, ...(items || []));
    parentOf = newItems;
    replaceItems(newItems);
  }
  function parseActionAnimation(animation) {
    const startValue = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_5__.correctNumber)(animation.start_value, 1);
    const endValue = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_5__.correctNumber)(animation.end_value, 1);
    const delay = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)(animation.start_delay, 0);
    const duration = (0,_utils_isPrefersReducedMotion__WEBPACK_IMPORTED_MODULE_7__.isPrefersReducedMotion)() ? 0 : (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)(animation.duration, 300);
    const interpolator = (0,_utils_correctCSSInterpolator__WEBPACK_IMPORTED_MODULE_8__.correctCSSInterpolator)(animation.interpolator, 'ease_in_out').replace(/_/g, '-');
    switch (animation.name) {
      case 'fade':
        animationOpacityStart = startValue;
        animationOpacityEnd = endValue;
        return `opacity ${duration}ms ${interpolator} ${delay}ms`;
      case 'scale':
        animationScaleStart = startValue;
        animationScaleEnd = endValue;
        return `transform ${duration}ms ${interpolator} ${delay}ms`;
      case 'native':
      case 'no_animation':
        return '';
      default:
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Unknown action_animation name'), {
          additional: {
            animation: animation.name
          }
        }));
        return '';
    }
  }
  async function onVisibilityChange(nextVisibility) {
    visibility = nextVisibility;
    const direction = nextVisibility === 'visible' ? 'in' : 'out';
    const transition = direction === 'in' ? componentContext.json.transition_in : componentContext.json.transition_out;
    if (hasVisibilityChangeTrigger && transition) {
      await (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)();
      if (direction === 'in') {
        visibilityChangingInProgress = true;
      }
      stateCtx.runVisibilityTransition(Object.assign(Object.assign({}, componentContext.json), {
        visibility: 'visible'
      }), componentContext, transition, currentNode, direction).then(() => {
        if (direction === 'in') {
          visibilityChangingInProgress = false;
        }
      }).catch(e => {
        if (direction === 'in') {
          visibilityChangingInProgress = false;
        }
        throw e;
      });
    }
  }
  function unmountExtensions() {
    if (extensions && currentNode) {
      const ctx = rootCtx.getExtensionContext();
      extensions.forEach(it => {
        var _a;
        (_a = it.unmountView) === null || _a === void 0 ? void 0 : _a.call(it, currentNode, ctx);
      });
      extensions = null;
    }
  }
  function updateDevtool() {
    if (dev) {
      dev.update(componentContext);
    }
  }
  function useAction(node) {
    var _a;
    registred === null || registred === void 0 ? void 0 : registred.destroy();
    currentNode = node;
    if (hasStateChangeTrigger && componentContext.json.transition_in) {
      stateCtx.registerChildWithTransitionIn(componentContext.json, componentContext, componentContext.json.transition_in, node).then(() => {
        stateChangingInProgress = false;
      }).catch(e => {
        stateChangingInProgress = false;
        throw e;
      });
    }
    if (hasStateChangeTrigger && componentContext.json.transition_out) {
      stateCtx.registerChildWithTransitionOut(componentContext.json, componentContext, componentContext.json.transition_out, node);
    }
    if (hasStateChangeTrigger && componentContext.json.transition_change) {
      stateCtx.registerChildWithTransitionChange(componentContext.json, componentContext, componentContext.json.transition_change, node).then(() => {
        transitionChangeInProgress = false;
      }).catch(e => {
        transitionChangeInProgress = false;
        throw e;
      });
    }
    const visibilityActions = componentContext.fakeElement ? [] : componentContext.json.visibility_actions || componentContext.json.visibility_action && [componentContext.json.visibility_action];
    const disappearActions = componentContext.fakeElement ? [] : componentContext.json.disappear_actions;
    let visAction;
    if (Array.isArray(visibilityActions) && visibilityActions.length || Array.isArray(disappearActions) && disappearActions.length) {
      visAction = (0,_use_visibilityAction__WEBPACK_IMPORTED_MODULE_10__.visibilityAction)(node, {
        visibilityActions,
        disappearActions,
        rootCtx,
        componentContext
      });
    }
    const id = componentContext.json.id;
    if (id) {
      stateCtx.registerChild(id);
    }
    (_a = componentContext.json.tooltips) === null || _a === void 0 ? void 0 : _a.forEach(tooltip => {
      rootCtx.registerTooltip(node, tooltip);
    });
    if (_use_devtool__WEBPACK_IMPORTED_MODULE_11__.devtool && !componentContext.fakeElement) {
      dev = (0,_use_devtool__WEBPACK_IMPORTED_MODULE_11__.devtool)(node, rootCtx, componentContext);
    }
    registred = {
      destroy() {
        if (id) {
          stateCtx.unregisterChild(id);
        }
        if (visAction) {
          visAction.destroy();
        }
        if (dev) {
          dev.destroy();
        }
      }
    };
    return registred;
  }
  function focusHandler() {
    if (!componentContext.json.focus) {
      return;
    }
    if (!(0,svelte_store__WEBPACK_IMPORTED_MODULE_2__.get)(rootCtx.isPointerFocus)) {
      hasCustomFocus = true;
    }
    componentContext.execAnyActions(focusActions);
  }
  function blurHandler() {
    if (!componentContext.json.focus) {
      return;
    }
    hasCustomFocus = false;
    componentContext.execAnyActions(blurActions);
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.afterUpdate)(updateDevtool);
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    var _a;
    prevChilds.forEach(id => {
      rootCtx.unregisterParentOf(id);
    });
    prevChilds = [];
    (_a = componentContext.json.tooltips) === null || _a === void 0 ? void 0 : _a.forEach(tooltip => {
      rootCtx.unregisterTooltip(tooltip);
    });
    unmountExtensions();
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.cls === void 0 && $$bindings.cls && cls !== void 0) $$bindings.cls(cls);
  if ($$props.style === void 0 && $$bindings.style && style !== void 0) $$bindings.style(style);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  if ($$props.customDescription === void 0 && $$bindings.customDescription && customDescription !== void 0) $$bindings.customDescription(customDescription);
  if ($$props.customPaddings === void 0 && $$bindings.customPaddings && customPaddings !== void 0) $$bindings.customPaddings(customPaddings);
  if ($$props.customActions === void 0 && $$bindings.customActions && customActions !== void 0) $$bindings.customActions(customActions);
  if ($$props.additionalPaddings === void 0 && $$bindings.additionalPaddings && additionalPaddings !== void 0) $$bindings.additionalPaddings(additionalPaddings);
  if ($$props.heightByAspect === void 0 && $$bindings.heightByAspect && heightByAspect !== void 0) $$bindings.heightByAspect(heightByAspect);
  if ($$props.parentOf === void 0 && $$bindings.parentOf && parentOf !== void 0) $$bindings.parentOf(parentOf);
  if ($$props.parentOfSimpleMode === void 0 && $$bindings.parentOfSimpleMode && parentOfSimpleMode !== void 0) $$bindings.parentOfSimpleMode(parentOfSimpleMode);
  if ($$props.replaceItems === void 0 && $$bindings.replaceItems && replaceItems !== void 0) $$bindings.replaceItems(replaceItems);
  if ($$props.hasInnerFocusable === void 0 && $$bindings.hasInnerFocusable && hasInnerFocusable !== void 0) $$bindings.hasInnerFocusable(hasInnerFocusable);
  origJson = componentContext.origJson;
  $: {
    if (origJson) {
      rebind();
    }
  }
  $$subscribe_jsonFocus(jsonFocus = componentContext.getDerivedFromVars(componentContext.json.focus));
  $$subscribe_jsonBorder(jsonBorder = componentContext.getDerivedFromVars(componentContext.json.border));
  $$subscribe_jsonPaddings(jsonPaddings = componentContext.getDerivedFromVars(componentContext.json.paddings));
  $$subscribe_jsonMargins(jsonMargins = componentContext.getDerivedFromVars(componentContext.json.margins));
  $$subscribe_jsonWidth(jsonWidth = componentContext.getDerivedFromVars(componentContext.json.width));
  $$subscribe_jsonAlignmentHorizontal(jsonAlignmentHorizontal = componentContext.getDerivedFromVars(componentContext.json.alignment_horizontal));
  $$subscribe_jsonHeight(jsonHeight = componentContext.getDerivedFromVars(componentContext.json.height));
  $$subscribe_jsonAlignmentVertical(jsonAlignmentVertical = componentContext.getDerivedFromVars(componentContext.json.alignment_vertical));
  $$subscribe_jsonAlpha(jsonAlpha = componentContext.getDerivedFromVars(componentContext.json.alpha));
  $$subscribe_jsonAccessibility(jsonAccessibility = componentContext.getDerivedFromVars(componentContext.json.accessibility));
  $$subscribe_jsonBackground(jsonBackground = componentContext.getDerivedFromVars(componentContext.json.background));
  $$subscribe_jsonAction(jsonAction = componentContext.getDerivedFromVars(componentContext.json.action));
  $$subscribe_jsonActions(jsonActions = componentContext.getDerivedFromVars(componentContext.json.actions));
  $$subscribe_jsonDoubleTapActions(jsonDoubleTapActions = componentContext.getDerivedFromVars(componentContext.json.doubletap_actions));
  $$subscribe_jsonLongTapActions(jsonLongTapActions = componentContext.getDerivedFromVars(componentContext.json.longtap_actions));
  $$subscribe_jsonActionAnimation(jsonActionAnimation = componentContext.getDerivedFromVars(componentContext.json.action_animation));
  $$subscribe_jsonVisibility(jsonVisibility = componentContext.getDerivedFromVars(componentContext.json.visibility));
  $$subscribe_jsonTransform(jsonTransform = componentContext.getDerivedFromVars(componentContext.json.transform));
  $: {
    {
      prevChilds.forEach(id => {
        rootCtx.unregisterParentOf(id);
      });
      prevChilds = [];
      if (parentOf) {
        parentOf.forEach(item => {
          if (item === null || item === void 0 ? void 0 : item.id) {
            prevChilds.push(item.id);
            rootCtx.registerParentOf(item.id, {
              replaceWith,
              isSingleMode: Boolean(parentOfSimpleMode)
            });
          }
        });
      }
    }
  }
  $: {
    {
      const border = hasCustomFocus && ($jsonFocus === null || $jsonFocus === void 0 ? void 0 : $jsonFocus.border) ? $jsonFocus.border : $jsonBorder;
      let newBorderStyle = {};
      let newBorderElemStyle = {};
      let newHasBorder = false;
      let newBackgroundRadius = '';
      if (border) {
        if (border.has_shadow) {
          const shadow = border.shadow;
          if (shadow) {
            newBorderStyle['box-shadow'] = (0,_utils_shadow__WEBPACK_IMPORTED_MODULE_12__.shadowToCssBoxShadow)(shadow);
          } else {
            newBorderStyle['box-shadow'] = '0 1px 2px 0 rgba(0,0,0,.18), 0 0 0 1px rgba(0,0,0,.07)';
          }
        }
        if (border.stroke) {
          newHasBorder = true;
          strokeWidth = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)(border.stroke.width, strokeWidth);
          strokeColor = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_13__.correctColor)(border.stroke.color, 1, strokeColor);
          newBorderElemStyle['--divkit-border'] = `${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(strokeWidth + 1)} solid ${strokeColor}`;
        }
        if (border.corners_radius) {
          cornersRadius = (0,_utils_correctBorderRadiusObject__WEBPACK_IMPORTED_MODULE_15__.correctBorderRadiusObject)(border.corners_radius, cornersRadius);
          newBorderStyle['border-radius'] = (0,_utils_borderRadius__WEBPACK_IMPORTED_MODULE_16__.borderRadius)(cornersRadius);
          ['top-left', 'top-right', 'bottom-right', 'bottom-left'].forEach(corner => {
            cornersRadius[corner] = (cornersRadius[corner] || 0) + 1;
          });
          newBorderElemStyle['--divkit-border-radius'] = (0,_utils_borderRadius__WEBPACK_IMPORTED_MODULE_16__.borderRadius)(cornersRadius);
        } else if (border.corner_radius) {
          cornerRadius = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)(border.corner_radius, cornerRadius);
          cornersRadius = {
            'top-left': cornerRadius,
            'top-right': cornerRadius,
            'bottom-right': cornerRadius,
            'bottom-left': cornerRadius
          };
          newBorderStyle['border-radius'] = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(cornerRadius);
          newBorderElemStyle['--divkit-border-radius'] = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(cornerRadius + 1);
        }

        // Clip browser rendering artifacts by border-radius + border-width/2
        if (newHasBorder && strokeWidth && (border.corners_radius || border.corner_radius)) {
          let radius = Object.assign({}, cornersRadius);
          ['top-left', 'top-right', 'bottom-right', 'bottom-left'].forEach(corner => {
            radius[corner] = (radius[corner] || 0) + strokeWidth / 2;
          });
          newBackgroundRadius = (0,_utils_borderRadius__WEBPACK_IMPORTED_MODULE_16__.borderRadius)(radius);
        }
      }
      borderStyle = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_17__.assignIfDifferent)(newBorderStyle, borderStyle);
      borderElemStyle = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_17__.assignIfDifferent)(newBorderElemStyle, borderElemStyle);
      hasBorder = newHasBorder;
      backgroundRadius = newBackgroundRadius;
    }
  }
  $: {
    {
      selfPadding = (0,_utils_correctEdgeInsertsObject__WEBPACK_IMPORTED_MODULE_18__.correctEdgeInsertsObject)($jsonPaddings && !customPaddings ? $jsonPaddings : undefined, selfPadding);
    }
  }
  padding = (0,_utils_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_19__.edgeInsertsToCss)((0,_utils_sumEdgeInsets__WEBPACK_IMPORTED_MODULE_20__.sumEdgeInsets)(selfPadding, additionalPaddings), $direction);
  $: {
    {
      margin = (0,_utils_correctEdgeInserts__WEBPACK_IMPORTED_MODULE_21__.correctEdgeInserts)($jsonMargins, $direction, margin);
    }
  }
  $: {
    {
      let widthType = undefined;
      let newWidth = undefined;
      let newWidthMin = undefined;
      let newWidthMax = undefined;
      let newWidthMods = {};
      let newFlexGrow = 0;
      let newFlexShrink = 0;
      let newWidthFill = false;
      let newWidthError = false;
      const type = $jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.type;
      if (type === 'fixed') {
        widthNum = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.value, widthNum);
        newWidth = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(widthNum);
      } else if (type === 'wrap_content' || (type === 'match_parent' || !type) && layoutParams.parentHorizontalWrapContent) {
        widthType = 'content';
        if (type === 'wrap_content' && ($jsonWidth === null || $jsonWidth === void 0 ? void 0 : $jsonWidth.constrained) || (type === 'match_parent' || !type) && layoutParams.parentHorizontalWrapContent) {
          newWidthMods['width-constrained'] = true;
          if (layoutParams.parentContainerOrientation === 'horizontal') {
            newFlexShrink = 1;
          }
        }
        if (type === 'wrap_content') {
          const width = $jsonWidth;
          if (width.min_size && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_22__.isNonNegativeNumber)(width.min_size.value)) {
            newWidthMin = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(width.min_size.value);
          }
          if (width.max_size && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_22__.isNonNegativeNumber)(width.max_size.value)) {
            newWidthMax = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(width.max_size.value);
          }
        }
        if (type === 'match_parent' || !type) {
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Cannot place child with match_parent size inside wrap_content'), {
            level: 'warn'
          }));
        }
      } else {
        widthType = 'parent';
        if (layoutParams.parentContainerOrientation === 'vertical' && layoutParams.parentContainerWrap) {
          newWidthError = true;
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Cannot place a match_parent items on the cross-axis of wrap'), {
            level: 'error'
          }));
        }
        if (layoutParams.parentLayoutOrientation === 'vertical') {
          newWidth = `calc(100% - ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEmWithUnits)((($jsonMargins === null || $jsonMargins === void 0 ? void 0 : $jsonMargins.left) || 0) + (($jsonMargins === null || $jsonMargins === void 0 ? void 0 : $jsonMargins.right) || 0))})`;
        } else if (layoutParams.parentContainerOrientation === 'horizontal') {
          newFlexGrow = $jsonWidth && 'weight' in $jsonWidth && $jsonWidth.weight || 1;
          if (layoutParams.parentContainerWrap) {
            newWidthFill = true;
          }
        }
      }
      if (widthType === 'parent') {
        newWidthMods['halign-self'] = 'stretch';
      } else {
        const align = $jsonAlignmentHorizontal;
        if (align === 'left' || align === 'center' || align === 'right' || align === 'start' || align === 'end') {
          newWidthMods['halign-self'] = ($direction === 'ltr' ? HORIZONTAL_ALIGN_TO_GENERAL_LTR : HORIZONTAL_ALIGN_TO_GENERAL_RTL)[align];
        } else {
          newWidthMods['halign-self'] = layoutParams.parentHAlign || 'start';
        }
      }
      if (widthType) {
        newWidthMods.width = widthType;
      }
      width = newWidth;
      widthMin = newWidthMin;
      widthMax = newWidthMax;
      widthFlexGrow = newFlexGrow;
      widthFlexShrink = newFlexShrink;
      widthMods = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_17__.assignIfDifferent)(newWidthMods, widthMods);
      widthFill = newWidthFill;
      hasWidthError = newWidthError;
    }
  }
  $: {
    {
      let heightType = undefined;
      let newHeight = undefined;
      let newHeightMin = undefined;
      let newHeightMax = undefined;
      let newHeightMods = {};
      let newFlexGrow = 0;
      let newFlexShrink = 0;
      let newHeightFill = false;
      let newHeightError = false;
      const type = $jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.type;
      if (heightByAspect) {} else
        // no special css needed, so no special heightType
        if (type === 'fixed') {
          heightNum = (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_6__.correctNonNegativeNumber)($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.value, heightNum);
          newHeight = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(heightNum);
        } else if (type === 'match_parent' && !layoutParams.parentVerticalWrapContent) {
          heightType = 'parent';
          if (layoutParams.parentContainerOrientation === 'horizontal' && layoutParams.parentContainerWrap) {
            newHeightError = true;
            componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Cannot place a match_parent items on the cross-axis of wrap'), {
              level: 'error'
            }));
          }
          if (layoutParams.parentLayoutOrientation === 'horizontal') {
            newHeight = `calc(100% - ${(0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEmWithUnits)((($jsonMargins === null || $jsonMargins === void 0 ? void 0 : $jsonMargins.top) || 0) + (($jsonMargins === null || $jsonMargins === void 0 ? void 0 : $jsonMargins.bottom) || 0))})`;
          } else if (layoutParams.parentContainerOrientation === 'vertical') {
            newFlexGrow = ($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.weight) || 1;
            if (layoutParams.parentContainerWrap) {
              newHeightFill = true;
            }
          }
        } else {
          heightType = 'content';
          if (type === 'wrap_content' && ($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.constrained) || type === 'match_parent' && layoutParams.parentVerticalWrapContent) {
            newHeightMods['height-constrained'] = true;
            if (layoutParams.parentContainerOrientation === 'vertical') {
              newFlexShrink = 1;
            }
          }
          if (type === 'wrap_content') {
            const height = $jsonHeight;
            if ((height === null || height === void 0 ? void 0 : height.min_size) && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_22__.isNonNegativeNumber)(height.min_size.value)) {
              newHeightMin = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(height.min_size.value);
            }
            if ((height === null || height === void 0 ? void 0 : height.max_size) && (0,_utils_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_22__.isNonNegativeNumber)(height.max_size.value)) {
              newHeightMax = (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(height.max_size.value);
            }
          }
          if (type === 'match_parent') {
            componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Cannot place child with match_parent size inside wrap_content'), {
              level: 'warn'
            }));
          }
        }
      if (heightType === 'parent') {
        newHeightMods['valign-self'] = 'stretch';
      } else {
        const align = $jsonAlignmentVertical;
        if (align === 'top' || align === 'center' || align === 'bottom' || align === 'baseline' && layoutParams.parentContainerOrientation === 'horizontal') {
          newHeightMods['valign-self'] = VERTICAL_ALIGN_TO_GENERAL[align];
        } else {
          newHeightMods['valign-self'] = layoutParams.parentVAlign || 'start';
        }
      }
      if (heightType) {
        newHeightMods.height = heightType;
      }
      height = newHeight;
      heightMin = newHeightMin;
      heightMax = newHeightMax;
      heightFlexGrow = newFlexGrow;
      heightFlexShrink = newFlexShrink;
      heightMods = (0,_utils_assignIfDifferent__WEBPACK_IMPORTED_MODULE_17__.assignIfDifferent)(newHeightMods, heightMods);
      heightFill = newHeightFill;
      hasHeightError = newHeightError;
    }
  }
  parentOverlapMod = layoutParams.overlapParent ? true : undefined;
  parentOverlapAbsoluteMod = layoutParams.overlapParent && (!$jsonWidth || $jsonWidth.type === 'match_parent') && !layoutParams.parentHorizontalWrapContent && ($jsonHeight === null || $jsonHeight === void 0 ? void 0 : $jsonHeight.type) === 'match_parent' && !layoutParams.parentVerticalWrapContent;
  gridArea = layoutParams.gridArea ? `${layoutParams.gridArea.y + 1}/${layoutParams.gridArea.x + 1}/span ${layoutParams.gridArea.rowSpan}/span ${layoutParams.gridArea.colSpan}` : undefined;
  $: {
    {
      alpha = (0,_utils_correctAlpha__WEBPACK_IMPORTED_MODULE_23__.correctAlpha)($jsonAlpha, alpha);
      opacity = alpha === 1 ? undefined : alpha;
    }
  }
  $: {
    {
      attrs = undefined;
      if ($jsonAccessibility && !customDescription && $jsonAccessibility.description) {
        attrs = {};
        attrs['aria-label'] = $jsonAccessibility.description;
      }
    }
  }
  $: {
    {
      background = hasCustomFocus && ($jsonFocus === null || $jsonFocus === void 0 ? void 0 : $jsonFocus.background) ? $jsonFocus.background : $jsonBackground;
      backgroundStyle = {};
      hasSeparateBg = false;
      if (Array.isArray(background)) {
        hasSeparateBg = background.some(it => it.type === 'image' || it.type === 'nine_patch_image') || Boolean(backgroundRadius);
        if (!hasSeparateBg) {
          const res = (0,_utils_background__WEBPACK_IMPORTED_MODULE_24__.getBackground)(background);
          backgroundStyle['background-color'] = res.color;
          backgroundStyle['background-image'] = res.image;
          backgroundStyle['background-size'] = res.size;
          backgroundStyle['background-position'] = res.position;
          backgroundStyle['background-repeat'] = 'no-repeat';
        }
      }
    }
  }
  $: {
    {
      stateChangingInProgress = undefined;
      if (hasStateChangeTrigger && componentContext.json.transition_in && rootCtx.isRunning('stateChange')) {
        stateChangingInProgress = true;
      }
    }
  }
  $: {
    {
      transitionChangeInProgress = undefined;
      if (hasStateChangeTrigger && componentContext.json.transition_change && rootCtx.isRunning('stateChange') && stateCtx.hasTransitionChange(componentContext.json.id)) {
        transitionChangeInProgress = true;
      }
    }
  }
  $: {
    {
      let newActions = $jsonActions || $jsonAction && [$jsonAction] || [];
      let newDoubleTapActions = $jsonDoubleTapActions || [];
      let newLongTapActions = $jsonLongTapActions || [];
      let newFocusActions = ($jsonFocus === null || $jsonFocus === void 0 ? void 0 : $jsonFocus.on_focus) || [];
      let newBlurActions = ($jsonFocus === null || $jsonFocus === void 0 ? void 0 : $jsonFocus.on_blur) || [];
      if (componentContext.fakeElement) {
        newActions = [];
        newDoubleTapActions = [];
        newLongTapActions = [];
        newFocusActions = [];
        newBlurActions = [];
      } else {
        if (!Array.isArray(newActions)) {
          newActions = [];
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('Actions should be array')));
        }
        if (!Array.isArray(newDoubleTapActions)) {
          newDoubleTapActions = [];
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('DoubleTapActions should be array')));
        }
        if (!Array.isArray(newLongTapActions)) {
          newLongTapActions = [];
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('LongTapActions should be array')));
        }
        if (!Array.isArray(newFocusActions)) {
          newFocusActions = [];
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('FocusActions should be array')));
        }
        if (!Array.isArray(newBlurActions)) {
          newBlurActions = [];
          componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error('BlurActions should be array')));
        }
      }
      if ((newActions.length || newDoubleTapActions.length || newLongTapActions.length) && customActions) {
        newActions = [];
        newDoubleTapActions = [];
        newLongTapActions = [];
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_9__.wrapError)(new Error(`Cannot use action on component "${customActions}"`)));
      }

      // todo check parent actions with customActions
      actions = newActions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions);
      doubleTapActions = newDoubleTapActions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions);
      longTapActions = newLongTapActions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions);
      focusActions = newFocusActions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions);
      blurActions = newBlurActions.filter(_utils_filterEnabledActions__WEBPACK_IMPORTED_MODULE_25__.filterEnabledActions);
    }
  }
  $: {
    {
      if ($jsonActionAnimation) {
        actionAnimationList = (0,_utils_flattenAnimation__WEBPACK_IMPORTED_MODULE_26__.flattenAnimation)($jsonActionAnimation);
        actionAnimationTransition = actionAnimationList.map(parseActionAnimation).filter(Boolean).join(', ');
      }
    }
  }
  $: {
    {
      const prevVisibility = visibility;
      const nextVisibility = (0,_utils_correctVisibility__WEBPACK_IMPORTED_MODULE_27__.correctVisibility)($jsonVisibility, visibility);
      if (prevVisibility !== nextVisibility) {
        if (isVisibilityInited && (visibility === 'visible' || nextVisibility === 'visible')) {
          onVisibilityChange(nextVisibility);
        } else {
          visibility = nextVisibility;
        }
      }
      if (!isVisibilityInited) {
        isVisibilityInited = true;
      }
    }
  }
  $: {
    if (componentContext.json && currentNode && !(0,_utils_isDeepEqual__WEBPACK_IMPORTED_MODULE_28__.isDeepEqual)(componentContext.json.extensions, prevExtensionsVal)) {
      let exts = prevExtensionsVal = componentContext.json.extensions;
      (0,svelte__WEBPACK_IMPORTED_MODULE_1__.tick)().then(() => {
        if (exts !== prevExtensionsVal || !currentNode) {
          return;
        }
        unmountExtensions();
        if (Array.isArray(componentContext.json.extensions)) {
          const ctx = rootCtx.getExtensionContext();
          extensions = componentContext.json.extensions.map(it => {
            var _a;
            const id = it.id;
            if (!id) {
              return;
            }
            const instance = rootCtx.getExtension(id, it.params);
            if (instance) {
              (_a = instance.mountView) === null || _a === void 0 ? void 0 : _a.call(instance, currentNode, ctx);
            }
            return instance;
          }).filter(_utils_truthy__WEBPACK_IMPORTED_MODULE_29__.Truthy);
        }
      });
    }
  }
  mods = Object.assign(Object.assign(Object.assign({}, widthMods), heightMods), {
    'parent-overlap': parentOverlapMod,
    'parent-overlap-absolute': parentOverlapAbsoluteMod,
    'scroll-snap': layoutParams.scrollSnap,
    'hide-on-transition-in': stateChangingInProgress || visibilityChangingInProgress || transitionChangeInProgress,
    visibility,
    'has-action-animation': Boolean(actionAnimationTransition),
    'parent-flex': layoutParams.parentContainerOrientation || undefined,
    'parent-grid': Boolean(layoutParams.gridArea) || undefined,
    'has-custom-focus': Boolean(hasCustomFocus && componentContext.json.focus)
  });
  $: {
    {
      if ($jsonTransform && $jsonTransform.rotation !== undefined) {
        const pivotX = $jsonTransform.pivot_x || {
          type: 'pivot-percentage',
          value: 50
        };
        pivotXNum = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_5__.correctNumber)(pivotX.value, pivotXNum);
        const pivotXCSSValue = pivotX.type === 'pivot-fixed' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(pivotXNum) : `${pivotXNum}%`;
        const pivotY = $jsonTransform.pivot_y || {
          type: 'pivot-percentage',
          value: 50
        };
        pivotYNum = (0,_utils_correctNumber__WEBPACK_IMPORTED_MODULE_5__.correctNumber)(pivotY.value, pivotYNum);
        const pivotYCSSValue = pivotY.type === 'pivot-fixed' ? (0,_utils_pxToEm__WEBPACK_IMPORTED_MODULE_14__.pxToEm)(pivotYNum) : `${pivotYNum}%`;
        transformOrigin = `${pivotXCSSValue} ${pivotYCSSValue}`;
        transform = `rotate(${$jsonTransform.rotation}deg)`;
      }
    }
  }
  flexBasis = widthFill || heightFill ? '100%' : widthFlexGrow || heightFlexGrow ? 0 : undefined;
  stl = Object.assign(Object.assign(Object.assign(Object.assign({}, style), backgroundStyle), borderStyle), {
    width,
    'min-width': widthMin,
    'max-width': widthMax,
    height,
    'min-height': heightMin,
    // input max-height
    'max-height': heightMax || (style === null || style === void 0 ? void 0 : style['max-height']),
    'grid-area': gridArea,
    padding,
    margin,
    opacity,
    transition: actionAnimationTransition,
    'transform-origin': transformOrigin,
    transform,
    'flex-grow': widthFlexGrow || heightFlexGrow || undefined,
    'flex-shrink': widthFlexShrink || heightFlexShrink ? 1 : undefined,
    'flex-basis': flexBasis,
    '--divkit-animation-opacity-start': animationOpacityStart,
    '--divkit-animation-opacity-end': animationOpacityEnd,
    '--divkit-animation-scale-start': animationScaleStart,
    '--divkit-animation-scale-end': animationScaleEnd
  });
  $$unsubscribe_jsonTransform();
  $$unsubscribe_jsonVisibility();
  $$unsubscribe_jsonActionAnimation();
  $$unsubscribe_jsonFocus();
  $$unsubscribe_jsonLongTapActions();
  $$unsubscribe_jsonDoubleTapActions();
  $$unsubscribe_jsonAction();
  $$unsubscribe_jsonActions();
  $$unsubscribe_jsonBackground();
  $$unsubscribe_jsonAccessibility();
  $$unsubscribe_jsonAlpha();
  $$unsubscribe_jsonHeight();
  $$unsubscribe_jsonWidth();
  $$unsubscribe_jsonAlignmentVertical();
  $$unsubscribe_jsonMargins();
  $$unsubscribe_direction();
  $$unsubscribe_jsonAlignmentHorizontal();
  $$unsubscribe_jsonPaddings();
  $$unsubscribe_jsonBorder();
  return `${!hasWidthError && !hasHeightError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_Actionable_svelte__WEBPACK_IMPORTED_MODULE_30__["default"], "Actionable").$$render($$result, {
    componentContext,
    id: componentContext.json.id,
    use: useAction,
    cls: cls + " " + (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_31__.genClassName)('outer', _Outer_module_css__WEBPACK_IMPORTED_MODULE_32__["default"], mods),
    style: (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_33__.makeStyle)(stl),
    actions,
    doubleTapActions,
    longTapActions,
    attrs,
    hasInnerFocusable,
    isNativeActionAnimation: !actionAnimationList.length || hasNativeAnimation(actionAnimationList)
  }, {}, {
    default: () => {
      return ` ${hasSeparateBg ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_OuterBackground_svelte__WEBPACK_IMPORTED_MODULE_34__["default"], "OuterBackground").$$render($$result, {
        componentContext,
        direction: $direction,
        background,
        radius: backgroundRadius
      }, {}, {})}` : ``}${slots.default ? slots.default({
        focusHandler,
        blurHandler,
        hasCustomFocus
      }) : ``}${hasBorder ? `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Outer_module_css__WEBPACK_IMPORTED_MODULE_32__["default"].outer__border, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_33__.makeStyle)(borderElemStyle), 0)}></span>` : ``}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Outer);

/***/ }),

/***/ "./src/components/utilities/OuterBackground.svelte":
/*!*********************************************************!*\
  !*** ./src/components/utilities/OuterBackground.svelte ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var _OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OuterBackground.module.css */ "./src/components/utilities/OuterBackground.module.css");
/* harmony import */ var _utils_background__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/background */ "./src/utils/background.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_filters__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/filters */ "./src/utils/filters.ts");
/* src\components\utilities\OuterBackground.svelte generated by Svelte v4.2.0 */





const OuterBackground = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let styles;
  let {
    direction
  } = $$props;
  let {
    componentContext
  } = $$props;
  let {
    background = []
  } = $$props;
  let {
    radius = ''
  } = $$props;
  function onImgError(event) {
    if (event.target && 'classList' in event.target) {
      event.target.classList.add(_OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['outer-background__item_hidden']);
    }
  }
  if ($$props.direction === void 0 && $$bindings.direction && direction !== void 0) $$bindings.direction(direction);
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.background === void 0 && $$bindings.background && background !== void 0) $$bindings.background(background);
  if ($$props.radius === void 0 && $$bindings.radius && radius !== void 0) $$bindings.radius(radius);
  styles = background.map(bg => {
    const stl = {};
    const obj = {
      style: stl
    };
    if (bg.type === 'nine_patch_image' && bg.insets) {
      stl['border-image'] = `url("${bg.image_url}") ${bg.insets.top || 0} ${bg.insets.right || 0} ${bg.insets.bottom || 0} ${bg.insets.left || 0} fill`;
      stl['border-image-width'] = 'auto';
    } else {
      const res = (0,_utils_background__WEBPACK_IMPORTED_MODULE_2__.getBackground)([bg]);
      if (bg.type === 'solid') {
        stl['background-color'] = res.color;
      }
      if (bg.type === 'gradient') {
        stl['background-image'] = res.image;
      }
      if (bg.type === 'image') {
        stl.opacity = Number(bg.alpha);
        obj.image_url = bg.image_url;
        stl['object-fit'] = res.size;
        stl['object-position'] = res.position;
        if (Array.isArray(bg.filters) && bg.filters.length) {
          stl.filter = (0,_utils_filters__WEBPACK_IMPORTED_MODULE_3__.getCssFilter)(bg.filters, componentContext.logError);
          if (direction === 'rtl' && bg.filters.some(it => it.type === 'rtl_mirror')) {
            stl.transform = 'scale(-1,1)';
          }
        }
      }
    }
    return obj;
  });
  return `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['outer-background'] + (radius ? ' ' + _OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['outer-background_clip'] : ''), 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
    "border-radius": radius
  })}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(styles, item => {
    return `${item.image_url ? `<img${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", item.image_url, 0)} alt="" aria-hidden="true" loading="lazy" decoding="async"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['outer-background__item'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_4__.makeStyle)(item.style), 0)}>` : `<span${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _OuterBackground_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['outer-background__item'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_4__.makeStyle)(item.style), 0)}></span>`}`;
  })}</span>`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OuterBackground);

/***/ }),

/***/ "./src/components/utilities/RootSvgFilters.svelte":
/*!********************************************************!*\
  !*** ./src/components/utilities/RootSvgFilters.svelte ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var _RootSvgFilters_module_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RootSvgFilters.module.css */ "./src/components/utilities/RootSvgFilters.module.css");
/* src\components\utilities\RootSvgFilters.svelte generated by Svelte v4.2.0 */


const RootSvgFilters = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let {
    svgFiltersMap
  } = $$props;
  if ($$props.svgFiltersMap === void 0 && $$bindings.svgFiltersMap && svgFiltersMap !== void 0) $$bindings.svgFiltersMap(svgFiltersMap);
  return `${Object.keys(svgFiltersMap).length ? `<svg${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _RootSvgFilters_module_css__WEBPACK_IMPORTED_MODULE_1__["default"]['root-svg-filters'], 0)} aria-hidden="true"><defs>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)([...Object.keys(svgFiltersMap)], filterKey => {
    let [filterColor, filterMode] = filterKey.split(':');
    return ` <filter${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("id", svgFiltersMap[filterKey], 0)}><feFlood${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("flood-color", filterColor, 0)}></feFlood>${filterMode === 'source_in' || filterMode === 'source_atop' ? `<feComposite in2="SourceGraphic"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("operator", filterMode.split('_')[1], 0)}></feComposite>` : `${filterMode === 'multiply' ? `<feComposite in2="SourceGraphic" operator="arithmetic" k1="1" k2="0" k3="0" k4="0"></feComposite>` : `<feBlend in2="SourceGraphic"${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("mode", filterMode, 0)}></feBlend>`}`}</filter>`;
  })}</defs></svg>` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RootSvgFilters);

/***/ }),

/***/ "./src/components/utilities/Unknown.svelte":
/*!*************************************************!*\
  !*** ./src/components/utilities/Unknown.svelte ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _typeMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../typeMap */ "./src/components/typeMap.ts");
/* src\components\utilities\Unknown.svelte generated by Svelte v4.2.0 */





const Unknown = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  let component;
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  $: {
    {
      const childJson = componentContext.json;
      component = (childJson === null || childJson === void 0 ? void 0 : childJson.type) && _typeMap__WEBPACK_IMPORTED_MODULE_3__.TYPE_MAP[childJson.type] || undefined;
      if (!component) {
        let errorText;
        if ((childJson === null || childJson === void 0 ? void 0 : childJson.type) && rootCtx.hasTemplate(childJson.type)) {
          errorText = 'Recursive template';
        } else {
          errorText = 'Unknown component';
        }
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_4__.wrapError)(new Error(errorText), {
          additional: {
            component: (childJson === null || childJson === void 0 ? void 0 : childJson.type) || '<missing>'
          }
        }));
      }
    }
  }
  return `${component ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(component || svelte_internal__WEBPACK_IMPORTED_MODULE_0__.missing_component, "svelte:component").$$render($$result, {
    componentContext,
    layoutParams
  }, {}, {})}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Unknown);

/***/ }),

/***/ "./src/components/video/Video.svelte":
/*!*******************************************!*\
  !*** ./src/components/video/Video.svelte ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var svelte_internal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/internal */ "./node_modules/svelte/src/runtime/internal/index.js");
/* harmony import */ var svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! svelte */ "./node_modules/svelte/src/runtime/ssr.js");
/* harmony import */ var _Video_module_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Video.module.css */ "./src/components/video/Video.module.css");
/* harmony import */ var _context_root__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../context/root */ "./src/context/root.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../expressions/variable */ "./src/expressions/variable.ts");
/* harmony import */ var _utils_correctVideoSource__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/correctVideoSource */ "./src/utils/correctVideoSource.ts");
/* harmony import */ var _utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/correctBooleanInt */ "./src/utils/correctBooleanInt.ts");
/* harmony import */ var _utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utilities/Outer.svelte */ "./src/components/utilities/Outer.svelte");
/* harmony import */ var _utils_prepareBase64__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/prepareBase64 */ "./src/utils/prepareBase64.ts");
/* harmony import */ var _utils_video__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/video */ "./src/utils/video.ts");
/* harmony import */ var _utils_makeStyle__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/makeStyle */ "./src/utils/makeStyle.ts");
/* harmony import */ var _utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _utils_genClassName__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/genClassName */ "./src/utils/genClassName.ts");
/* src\components\video\Video.svelte generated by Svelte v4.2.0 */














const Video = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.create_ssr_component)(($$result, $$props, $$bindings, slots) => {
  let elapsedVariableName;
  let elapsedVariable;
  let jsonSource;
  let jsonRepeatable;
  let jsonAutostart;
  let jsonMuted;
  let jsonPreload;
  let jsonPreview;
  let jsonScale;
  let jsonAspect;
  let mods;
  let style;
  let $jsonAutostart,
    $$unsubscribe_jsonAutostart = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAutostart = () => ($$unsubscribe_jsonAutostart(), $$unsubscribe_jsonAutostart = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAutostart, $$value => $jsonAutostart = $$value), jsonAutostart);
  let $jsonAspect,
    $$unsubscribe_jsonAspect = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonAspect = () => ($$unsubscribe_jsonAspect(), $$unsubscribe_jsonAspect = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonAspect, $$value => $jsonAspect = $$value), jsonAspect);
  let $jsonScale,
    $$unsubscribe_jsonScale = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonScale = () => ($$unsubscribe_jsonScale(), $$unsubscribe_jsonScale = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonScale, $$value => $jsonScale = $$value), jsonScale);
  let $jsonPreview,
    $$unsubscribe_jsonPreview = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPreview = () => ($$unsubscribe_jsonPreview(), $$unsubscribe_jsonPreview = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPreview, $$value => $jsonPreview = $$value), jsonPreview);
  let $jsonPreload,
    $$unsubscribe_jsonPreload = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonPreload = () => ($$unsubscribe_jsonPreload(), $$unsubscribe_jsonPreload = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonPreload, $$value => $jsonPreload = $$value), jsonPreload);
  let $jsonMuted,
    $$unsubscribe_jsonMuted = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonMuted = () => ($$unsubscribe_jsonMuted(), $$unsubscribe_jsonMuted = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonMuted, $$value => $jsonMuted = $$value), jsonMuted);
  let $jsonRepeatable,
    $$unsubscribe_jsonRepeatable = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonRepeatable = () => ($$unsubscribe_jsonRepeatable(), $$unsubscribe_jsonRepeatable = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonRepeatable, $$value => $jsonRepeatable = $$value), jsonRepeatable);
  let $jsonSource,
    $$unsubscribe_jsonSource = svelte_internal__WEBPACK_IMPORTED_MODULE_0__.noop,
    $$subscribe_jsonSource = () => ($$unsubscribe_jsonSource(), $$unsubscribe_jsonSource = (0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.subscribe)(jsonSource, $$value => $jsonSource = $$value), jsonSource);
  let {
    componentContext
  } = $$props;
  let {
    layoutParams = undefined
  } = $$props;
  const rootCtx = (0,svelte__WEBPACK_IMPORTED_MODULE_1__.getContext)(_context_root__WEBPACK_IMPORTED_MODULE_2__.ROOT_CTX);
  let prevId;
  let hasError = false;
  let isSelfVariableSet = false;
  let videoElem;
  let sources = [];
  let loop = false;
  let autoplay = false;
  let muted = false;
  let preload = false;
  let poster = undefined;
  let scale = 'fit';
  let aspectPaddingBottom = '0';
  let elapsedVariableUnsubscriber;
  function variableListener(val) {
    if (isSelfVariableSet) {
      isSelfVariableSet = false;
      return;
    }
    if (videoElem) {
      videoElem.currentTime = Number(val) / 1000;
    }
  }
  function pause() {
    videoElem === null || videoElem === void 0 ? void 0 : videoElem.pause();
  }
  function start() {
    const res = videoElem === null || videoElem === void 0 ? void 0 : videoElem.play();
    if (res) {
      res.catch(err => {
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_3__.wrapError)(new Error('Video playing error'), {
          level: 'error',
          additional: {
            originalText: String(err)
          }
        }));
      });
    }
  }
  function onTimeUpdate() {
    if (videoElem) {
      isSelfVariableSet = true;
      elapsedVariable.setValue(Math.floor(videoElem.currentTime * 1000));
    }
  }
  function onEnd() {
    const actions = componentContext.getJsonWithVars(componentContext.json.end_actions);
    componentContext.execAnyActions(actions);
  }
  function onPlaying() {
    const actions = componentContext.getJsonWithVars(componentContext.json.resume_actions);
    componentContext.execAnyActions(actions);
  }
  function onPause() {
    const actions = componentContext.getJsonWithVars(componentContext.json.pause_actions);
    componentContext.execAnyActions(actions);
  }
  function onWaiting() {
    const actions = componentContext.getJsonWithVars(componentContext.json.buffering_actions);
    componentContext.execAnyActions(actions);
  }
  function onError() {
    const actions = componentContext.getJsonWithVars(componentContext.json.fatal_actions);
    componentContext.execAnyActions(actions);
  }
  (0,svelte__WEBPACK_IMPORTED_MODULE_1__.onDestroy)(() => {
    if (prevId) {
      rootCtx.unregisterInstance(prevId);
      prevId = undefined;
    }
    if (elapsedVariableUnsubscriber) {
      elapsedVariableUnsubscriber();
      elapsedVariableUnsubscriber = undefined;
    }
  });
  if ($$props.componentContext === void 0 && $$bindings.componentContext && componentContext !== void 0) $$bindings.componentContext(componentContext);
  if ($$props.layoutParams === void 0 && $$bindings.layoutParams && layoutParams !== void 0) $$bindings.layoutParams(layoutParams);
  $: {
    if (componentContext.json) {
      loop = false;
      autoplay = false;
      muted = false;
      preload = false;
      poster = undefined;
      scale = 'fit';
    }
  }
  elapsedVariableName = componentContext.json.elapsed_time_variable;
  elapsedVariable = elapsedVariableName && componentContext.getVariable(elapsedVariableName, 'integer') || (0,_expressions_variable__WEBPACK_IMPORTED_MODULE_4__.createVariable)('temp', 'integer', 0);
  $: {
    if (elapsedVariable) {
      if (elapsedVariableUnsubscriber) {
        elapsedVariableUnsubscriber();
      }
      elapsedVariableUnsubscriber = elapsedVariable.subscribe(variableListener);
    }
  }
  $$subscribe_jsonSource(jsonSource = componentContext.getDerivedFromVars(componentContext.json.video_sources));
  $$subscribe_jsonRepeatable(jsonRepeatable = componentContext.getDerivedFromVars(componentContext.json.repeatable));
  $$subscribe_jsonAutostart(jsonAutostart = componentContext.getDerivedFromVars(componentContext.json.autostart));
  $$subscribe_jsonMuted(jsonMuted = componentContext.getDerivedFromVars(componentContext.json.muted));
  $$subscribe_jsonPreload(jsonPreload = componentContext.getDerivedFromVars(componentContext.json.preload_required));
  $$subscribe_jsonPreview(jsonPreview = componentContext.getDerivedFromVars(componentContext.json.preview));
  $$subscribe_jsonScale(jsonScale = componentContext.getDerivedFromVars(componentContext.json.scale));
  $$subscribe_jsonAspect(jsonAspect = componentContext.getDerivedFromVars(componentContext.json.aspect));
  $: {
    {
      sources = (0,_utils_correctVideoSource__WEBPACK_IMPORTED_MODULE_5__.correctVideoSource)($jsonSource, sources);
      if (sources.length) {
        hasError = false;
      } else {
        hasError = true;
        componentContext.logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_3__.wrapError)(new Error('Missing "video_sources" in "video"')));
      }
    }
  }
  loop = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_6__.correctBooleanInt)($jsonRepeatable, loop);
  autoplay = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_6__.correctBooleanInt)($jsonAutostart, autoplay);
  muted = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_6__.correctBooleanInt)($jsonMuted, muted);
  preload = (0,_utils_correctBooleanInt__WEBPACK_IMPORTED_MODULE_6__.correctBooleanInt)($jsonPreload, preload);
  poster = typeof $jsonPreview === 'string' ? (0,_utils_prepareBase64__WEBPACK_IMPORTED_MODULE_7__.prepareBase64)($jsonPreview) : poster;
  $: {
    {
      scale = (0,_utils_video__WEBPACK_IMPORTED_MODULE_8__.videoSize)($jsonScale) || scale;
    }
  }
  $: {
    {
      const newRatio = $jsonAspect === null || $jsonAspect === void 0 ? void 0 : $jsonAspect.ratio;
      if (newRatio && (0,_utils_isPositiveNumber__WEBPACK_IMPORTED_MODULE_9__.isPositiveNumber)(newRatio)) {
        aspectPaddingBottom = (100 / Number(newRatio)).toFixed(2);
      } else {
        aspectPaddingBottom = '0';
      }
    }
  }
  $: {
    if (componentContext.json) {
      if (prevId) {
        rootCtx.unregisterInstance(prevId);
        prevId = undefined;
      }
      if (componentContext.json.id && !hasError && !componentContext.fakeElement) {
        prevId = componentContext.json.id;
        rootCtx.registerInstance(prevId, {
          pause,
          start
        });
      }
    }
  }
  $: {
    if (componentContext.json && $jsonAutostart && videoElem) {
      start();
    }
  }
  mods = {
    aspect: aspectPaddingBottom !== '0'
  };
  style = {
    'object-fit': scale
  };
  $$unsubscribe_jsonAutostart();
  $$unsubscribe_jsonAspect();
  $$unsubscribe_jsonScale();
  $$unsubscribe_jsonPreview();
  $$unsubscribe_jsonPreload();
  $$unsubscribe_jsonMuted();
  $$unsubscribe_jsonRepeatable();
  $$unsubscribe_jsonSource();
  return `${!hasError ? `${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.validate_component)(_utilities_Outer_svelte__WEBPACK_IMPORTED_MODULE_10__["default"], "Outer").$$render($$result, {
    cls: (0,_utils_genClassName__WEBPACK_IMPORTED_MODULE_11__.genClassName)('video', _Video_module_css__WEBPACK_IMPORTED_MODULE_12__["default"], mods),
    customActions: 'video',
    componentContext,
    layoutParams
  }, {}, {
    default: () => {
      return `${mods.aspect ? `<div${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Video_module_css__WEBPACK_IMPORTED_MODULE_12__["default"]['video__aspect-wrapper'], 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_styles)({
        "padding-bottom": `${aspectPaddingBottom}%`
      })}><video${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Video_module_css__WEBPACK_IMPORTED_MODULE_12__["default"].video__video, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_13__.makeStyle)(style), 0)} playsinline ${loop ? "loop" : ""} ${autoplay ? "autoplay" : ""} ${muted ? "muted" : ""}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("poster", poster, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("preload", preload ? 'metadata' : 'auto', 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", videoElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(sources, source => {
        return `<source${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", source.src, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("type", source.type, 0)}>`;
      })}</video></div>` : `<video${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("class", _Video_module_css__WEBPACK_IMPORTED_MODULE_12__["default"].video__video, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("style", (0,_utils_makeStyle__WEBPACK_IMPORTED_MODULE_13__.makeStyle)(style), 0)} playsinline ${loop ? "loop" : ""} ${autoplay ? "autoplay" : ""} ${muted ? "muted" : ""}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("poster", poster, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("preload", preload ? 'metadata' : 'auto', 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("this", videoElem, 0)}>${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.each)(sources, source => {
        return `<source${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("src", source.src, 0)}${(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.add_attribute)("type", source.type, 0)}>`;
      })}</video>`}`;
    }
  })}` : ``}`;
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Video);

/***/ }),

/***/ "./src/actions/array.ts":
/*!******************************!*\
  !*** ./src/actions/array.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arrayInsert: () => (/* binding */ arrayInsert),
/* harmony export */   arrayRemove: () => (/* binding */ arrayRemove)
/* harmony export */ });
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/wrapError */ "./src/utils/wrapError.ts");

function arrayInsert(variables, logError, actionTyped) {
  const {
    variable_name: name,
    index,
    value
  } = actionTyped;
  if (!value || typeof index !== 'number' && index !== undefined) {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect array_insert_value action'), {
      additional: {
        name
      }
    }));
    return;
  }
  handle(variables, logError, actionTyped, variableInstance => {
    const list = variableInstance.getValue();
    if (typeof index === 'number' && (index < 0 || index > list.length)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error(`Index out of bound for mutation ${actionTyped.type}`), {
        additional: {
          name,
          index,
          length: list.length
        }
      }));
    } else {
      const newList = list.slice();
      if (typeof index === 'number') {
        newList.splice(index, 0, value.value);
      } else {
        newList.push(value.value);
      }
      variableInstance.setValue(newList);
    }
  });
}
function arrayRemove(variables, logError, actionTyped) {
  const {
    variable_name: name,
    index
  } = actionTyped;
  if (typeof index !== 'number') {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect array_remove_value action'), {
      additional: {
        name
      }
    }));
    return;
  }
  handle(variables, logError, actionTyped, variableInstance => {
    const list = variableInstance.getValue();
    if (typeof index === 'number' && (index < 0 || index >= list.length)) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error(`Index out of bound for mutation ${actionTyped.type}`), {
        additional: {
          name,
          index,
          length: list.length
        }
      }));
    } else {
      const newList = list.slice();
      newList.splice(index, 1);
      variableInstance.setValue(newList);
    }
  });
}
function handle(variables, logError, actionTyped, cb) {
  const {
    variable_name: name
  } = actionTyped;
  if (!name) {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error(`Incorrect ${actionTyped.type} action`), {
      additional: {
        name
      }
    }));
    return;
  }
  const variableInstance = variables.get(name);
  if (!variableInstance) {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Cannot find variable'), {
      additional: {
        name
      }
    }));
    return;
  }
  const type = variableInstance.getType();
  if (type === 'array') {
    cb(variableInstance);
  } else {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Trying to insert value into the non-array'), {
      additional: {
        name,
        type
      }
    }));
  }
}

/***/ }),

/***/ "./src/actions/copyToClipboard.ts":
/*!****************************************!*\
  !*** ./src/actions/copyToClipboard.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   copyToClipboard: () => (/* binding */ copyToClipboard)
/* harmony export */ });
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/wrapError */ "./src/utils/wrapError.ts");

function copyToClipboard(logError, actionTyped) {
  if (!(actionTyped.content && (actionTyped.content.type === 'text' || actionTyped.content.type === 'url') && typeof actionTyped.content.value === 'string')) {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect action'), {
      additional: {
        action: actionTyped
      }
    }));
    return;
  }
  if (!(typeof navigator !== 'undefined' && 'clipboard' in navigator && navigator.clipboard && 'writeText' in navigator.clipboard && typeof navigator.clipboard.writeText === 'function')) {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Clipboard is unavailable'), {
      additional: {
        action: actionTyped
      }
    }));
    return;
  }
  navigator.clipboard.writeText(actionTyped.content.value).catch(err => {
    logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Failed to copy to the clipboard'), {
      additional: {
        originalError: String(err)
      }
    }));
  });
}

/***/ }),

/***/ "./src/components/typeMap.ts":
/*!***********************************!*\
  !*** ./src/components/typeMap.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TYPE_MAP: () => (/* binding */ TYPE_MAP)
/* harmony export */ });
/* harmony import */ var _text_Text_svelte__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text/Text.svelte */ "./src/components/text/Text.svelte");
/* harmony import */ var _container_Container_svelte__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./container/Container.svelte */ "./src/components/container/Container.svelte");
/* harmony import */ var _separator_Separator_svelte__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./separator/Separator.svelte */ "./src/components/separator/Separator.svelte");
/* harmony import */ var _image_Image_svelte__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./image/Image.svelte */ "./src/components/image/Image.svelte");
/* harmony import */ var _grid_Grid_svelte__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid/Grid.svelte */ "./src/components/grid/Grid.svelte");
/* harmony import */ var _gallery_Gallery_svelte__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gallery/Gallery.svelte */ "./src/components/gallery/Gallery.svelte");
/* harmony import */ var _tabs_Tabs_svelte__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tabs/Tabs.svelte */ "./src/components/tabs/Tabs.svelte");
/* harmony import */ var _state_State_svelte__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./state/State.svelte */ "./src/components/state/State.svelte");
/* harmony import */ var _pager_Pager_svelte__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pager/Pager.svelte */ "./src/components/pager/Pager.svelte");
/* harmony import */ var _indicator_Indicator_svelte__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./indicator/Indicator.svelte */ "./src/components/indicator/Indicator.svelte");
/* harmony import */ var _slider_Slider_svelte__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./slider/Slider.svelte */ "./src/components/slider/Slider.svelte");
/* harmony import */ var _input_Input_svelte__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./input/Input.svelte */ "./src/components/input/Input.svelte");
/* harmony import */ var _select_Select_svelte__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./select/Select.svelte */ "./src/components/select/Select.svelte");
/* harmony import */ var _video_Video_svelte__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./video/Video.svelte */ "./src/components/video/Video.svelte");
/* harmony import */ var _custom_Custom_svelte__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./custom/Custom.svelte */ "./src/components/custom/Custom.svelte");















const TYPE_MAP = {};
if (true) {
  TYPE_MAP.text = _text_Text_svelte__WEBPACK_IMPORTED_MODULE_0__["default"];
}
if (true) {
  TYPE_MAP.container = _container_Container_svelte__WEBPACK_IMPORTED_MODULE_1__["default"];
}
if (true) {
  TYPE_MAP.separator = _separator_Separator_svelte__WEBPACK_IMPORTED_MODULE_2__["default"];
}
if (true) {
  TYPE_MAP.image = _image_Image_svelte__WEBPACK_IMPORTED_MODULE_3__["default"];
}
if (true) {
  TYPE_MAP.gif = _image_Image_svelte__WEBPACK_IMPORTED_MODULE_3__["default"];
}
if (true) {
  TYPE_MAP.grid = _grid_Grid_svelte__WEBPACK_IMPORTED_MODULE_4__["default"];
}
if (true) {
  TYPE_MAP.gallery = _gallery_Gallery_svelte__WEBPACK_IMPORTED_MODULE_5__["default"];
}
if (true) {
  TYPE_MAP.tabs = _tabs_Tabs_svelte__WEBPACK_IMPORTED_MODULE_6__["default"];
}
if (true) {
  TYPE_MAP.state = _state_State_svelte__WEBPACK_IMPORTED_MODULE_7__["default"];
}
if (true) {
  TYPE_MAP.pager = _pager_Pager_svelte__WEBPACK_IMPORTED_MODULE_8__["default"];
}
if (true) {
  TYPE_MAP.indicator = _indicator_Indicator_svelte__WEBPACK_IMPORTED_MODULE_9__["default"];
}
if (true) {
  TYPE_MAP.slider = _slider_Slider_svelte__WEBPACK_IMPORTED_MODULE_10__["default"];
}
if (true) {
  TYPE_MAP.input = _input_Input_svelte__WEBPACK_IMPORTED_MODULE_11__["default"];
}
if (true) {
  TYPE_MAP.select = _select_Select_svelte__WEBPACK_IMPORTED_MODULE_12__["default"];
}
if (true) {
  TYPE_MAP.video = _video_Video_svelte__WEBPACK_IMPORTED_MODULE_13__["default"];
}
if (true) {
  TYPE_MAP.custom = _custom_Custom_svelte__WEBPACK_IMPORTED_MODULE_14__["default"];
}

/***/ }),

/***/ "./src/context/action.ts":
/*!*******************************!*\
  !*** ./src/context/action.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACTION_CTX: () => (/* binding */ ACTION_CTX)
/* harmony export */ });
const ACTION_CTX = Symbol('action');

/***/ }),

/***/ "./src/context/root.ts":
/*!*****************************!*\
  !*** ./src/context/root.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ROOT_CTX: () => (/* binding */ ROOT_CTX)
/* harmony export */ });
const ROOT_CTX = Symbol('root');

/***/ }),

/***/ "./src/context/state.ts":
/*!******************************!*\
  !*** ./src/context/state.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STATE_CTX: () => (/* binding */ STATE_CTX)
/* harmony export */ });
const STATE_CTX = Symbol('state');

/***/ }),

/***/ "./src/expressions/bigint.ts":
/*!***********************************!*\
  !*** ./src/expressions/bigint.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MAX_INT: () => (/* binding */ MAX_INT),
/* harmony export */   MIN_INT: () => (/* binding */ MIN_INT),
/* harmony export */   absBigInt: () => (/* binding */ absBigInt),
/* harmony export */   bigIntZero: () => (/* binding */ bigIntZero),
/* harmony export */   hasBigInt: () => (/* binding */ hasBigInt),
/* harmony export */   signBigInt: () => (/* binding */ signBigInt),
/* harmony export */   toBigInt: () => (/* binding */ toBigInt),
/* harmony export */   toBigIntNoCheck: () => (/* binding */ toBigIntNoCheck)
/* harmony export */ });
const hasBigInt = typeof BigInt === 'function';
function toBigIntNoCheck(val) {
  if (hasBigInt) {
    return BigInt(val);
  }
  return Number(val);
}
const MAX_INT = toBigIntNoCheck('9223372036854775807');
const MIN_INT = toBigIntNoCheck('-9223372036854775808');
function toBigInt(val) {
  const res = toBigIntNoCheck(val);
  if (res > MAX_INT || res < MIN_INT) {
    throw new Error('Integer overflow.');
  }
  if (typeof res === 'number' && (Number.isNaN(res) || res !== Math.round(res))) {
    throw new Error('Incorrect integer value.');
  }
  return res;
}
const bigIntZero = toBigInt(0);
function absBigInt(val) {
  let res = val;
  if (res < 0) {
    res = -res;
  }
  return res;
}
function signBigInt(val) {
  let res = 0;
  if (val > 0) {
    res = 1;
  } else if (val < 0) {
    res = -1;
  }
  return toBigInt(res);
}

/***/ }),

/***/ "./src/expressions/const.ts":
/*!**********************************!*\
  !*** ./src/expressions/const.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ARRAY: () => (/* binding */ ARRAY),
/* harmony export */   BOOLEAN: () => (/* binding */ BOOLEAN),
/* harmony export */   COLOR: () => (/* binding */ COLOR),
/* harmony export */   DATETIME: () => (/* binding */ DATETIME),
/* harmony export */   DICT: () => (/* binding */ DICT),
/* harmony export */   INTEGER: () => (/* binding */ INTEGER),
/* harmony export */   MAX_INT32: () => (/* binding */ MAX_INT32),
/* harmony export */   MAX_NUMBER: () => (/* binding */ MAX_NUMBER),
/* harmony export */   MIN_INT32: () => (/* binding */ MIN_INT32),
/* harmony export */   MIN_NUMBER: () => (/* binding */ MIN_NUMBER),
/* harmony export */   NUMBER: () => (/* binding */ NUMBER),
/* harmony export */   STRING: () => (/* binding */ STRING),
/* harmony export */   URL: () => (/* binding */ URL)
/* harmony export */ });
const MAX_INT32 = 2147483647;
const MIN_INT32 = -2147483648;
const MAX_NUMBER = Number.MAX_VALUE;
const MIN_NUMBER = Number.MIN_VALUE;
const STRING = 'string';
const INTEGER = 'integer';
const NUMBER = 'number';
const BOOLEAN = 'boolean';
const COLOR = 'color';
const URL = 'url';
const DATETIME = 'datetime';
const DICT = 'dict';
const ARRAY = 'array';

/***/ }),

/***/ "./src/expressions/eval.ts":
/*!*********************************!*\
  !*** ./src/expressions/eval.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   evalAny: () => (/* binding */ evalAny),
/* harmony export */   evalExpression: () => (/* binding */ evalExpression)
/* harmony export */ });
/* harmony import */ var _funcs_funcs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./funcs/funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/expressions/utils.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./const */ "./src/expressions/const.ts");
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/index.ts");
/* harmony import */ var _variable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./variable */ "./src/expressions/variable.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bigint */ "./src/expressions/bigint.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/wrapError */ "./src/utils/wrapError.ts");
/* eslint-disable no-else-return */








(0,_funcs__WEBPACK_IMPORTED_MODULE_0__.register)();
function evalStringLiteral(ctx, expr) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.STRING,
    value: expr.value
  };
}
function evalNumberLiteral(ctx, expr) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER,
    value: expr.value
  };
}
function evalIntegerLiteral(ctx, expr) {
  (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIntegerOverflow)(ctx, expr.value);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER,
    value: expr.value
  };
}
function evalBooleanLiteral(ctx, expr) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
    value: expr.value ? 1 : 0
  };
}
function evalUnary(ctx, expr) {
  const val = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToInternal)(evalAny(ctx, expr.argument));
  switch (expr.operator) {
    case '!':
      if (val.type === _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN) {
        return {
          type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
          value: val.value ? 0 : 1
        };
      } else {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${expr.operator}${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(val)}`, 'A Boolean is expected after a unary not.');
      }
    case '+':
    case '-':
      const mul = expr.operator === '+' ? 1 : -1;
      if (val.type === _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER) {
        const value = val.value * (0,_bigint__WEBPACK_IMPORTED_MODULE_3__.toBigInt)(mul);
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIntegerOverflow)(ctx, value);
        return {
          type: _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER,
          value
        };
      } else if (val.type === _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER) {
        return {
          type: _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER,
          value: val.value * mul
        };
      } else {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${expr.operator}${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(val)}`, `A Number is expected after a unary ${expr.operator === '+' ? 'plus' : 'minus'}.`);
      }
  }
}
function evalConditional(ctx, expr) {
  const test = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToInternal)(evalAny(ctx, expr.test));
  if (test.type === _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN) {
    if (test.value) {
      return evalAny(ctx, expr.consequent);
    } else {
      return evalAny(ctx, expr.alternate);
    }
  } else {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(test)} ? ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(evalAny(ctx, expr.consequent))} : ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(evalAny(ctx, expr.alternate))}`, 'Ternary must be called with a Boolean value as a condition.');
  }
}
function evalTry(ctx, expr) {
  try {
    return evalAny(ctx, expr.test);
  } catch (_err) {
    return evalAny(ctx, expr.alternate);
  }
}
function evalTemplateLiteral(ctx, expr) {
  let result = '';
  if (expr.quasis.length === 2 && expr.quasis[0].value === '' && expr.quasis[1].value === '') {
    return evalAny(ctx, expr.expressions[0]);
  }
  for (let i = 0; i < expr.expressions.length; ++i) {
    result += expr.quasis[i].value;
    result += (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToString)(evalAny(ctx, expr.expressions[i]));
  }
  result += expr.quasis[expr.quasis.length - 1].value;
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.STRING,
    value: result
  };
}
function evalLogicalExpression(ctx, expr) {
  const left = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToInternal)(evalAny(ctx, expr.left));
  if (left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${expr.operator} ...`, `'${expr.operator}' must be called with boolean operands.`);
  }
  if (expr.operator === '||' && left.value) {
    return left;
  }
  if (expr.operator === '&&' && !left.value) {
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
      value: 0
    };
  }
  const right = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToInternal)(evalAny(ctx, expr.right));
  if (right.type !== _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${expr.operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${expr.operator}' cannot be applied to different types: Boolean and ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(right.type)}.`);
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
    value: right.value
  };
}
function evalBinaryEquality(operator, left, right) {
  let res;
  if (left.type === _const__WEBPACK_IMPORTED_MODULE_1__.DATETIME && right.type === _const__WEBPACK_IMPORTED_MODULE_1__.DATETIME) {
    res = left.value.getTime() === right.value.getTime();
  } else {
    res = left.value === right.value;
  }
  if (operator === '!=') {
    res = !res;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
    value: res ? 1 : 0
  };
}
function evalBinaryCompare(operator, left, right) {
  if (left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER && left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER && left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.DATETIME) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${operator}' cannot be applied to ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(left.type)} type.`);
  }
  let res;
  const leftVal = left.type === _const__WEBPACK_IMPORTED_MODULE_1__.DATETIME ? left.value.getTime() : left.value;
  const rightVal = right.type === _const__WEBPACK_IMPORTED_MODULE_1__.DATETIME ? right.value.getTime() : right.value;
  if (operator === '>') {
    res = leftVal > rightVal;
  } else if (operator === '>=') {
    res = leftVal >= rightVal;
  } else if (operator === '<') {
    res = leftVal < rightVal;
  } else {
    res = leftVal <= rightVal;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN,
    value: res ? 1 : 0
  };
}
function evalBinarySum(ctx, operator, left, right) {
  if (left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.STRING && left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER && left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${operator}' cannot be applied to ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(left.type)} type.`);
  }
  if (left.type === _const__WEBPACK_IMPORTED_MODULE_1__.STRING) {
    if (operator === '-') {
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} - ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${operator}' cannot be applied to ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(left.type)} type.`);
    }
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.STRING,
      value: left.value + right.value
    };
  }
  let res = operator === '+' ? left.value + right.value : left.value - right.value;

  // integer
  if (left.type === _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER) {
    try {
      res = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.roundInteger)(ctx, res);
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIntegerOverflow)(ctx, res);
    } catch (err) {
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, err.message);
    }
  }
  return {
    type: left.type,
    value: res
  };
}
function evalBinaryFactor(ctx, operator, left, right) {
  if (left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER && left.type !== _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${operator}' cannot be applied to ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(left.type)} type.`);
  }
  let res;
  if (operator === '*') {
    // bigint | number actually
    res = left.value * right.value;
  } else if (operator === '/' || operator === '%') {
    if (Number(right.value) === 0) {
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, 'Division by zero is not supported.');
    }
    if (operator === '/') {
      // bigint | number actually
      res = left.value / right.value;
    } else {
      // bigint | number actually
      res = left.value % right.value;
    }
  } else {
    throw new Error(`Unsupported operation ${operator}`);
  }
  if (left.type === _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER) {
    try {
      res = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.roundInteger)(ctx, res);
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIntegerOverflow)(ctx, res);
    } catch (err) {
      (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, err.message);
    }
  }
  return {
    type: left.type,
    value: res
  };
}
function evalBinaryExpression(ctx, expr) {
  const operator = expr.operator;
  let left = evalAny(ctx, expr.left);
  let right = evalAny(ctx, expr.right);
  if (left.type === 'number' && right.type === 'integer' || left.type === 'integer' && right.type === 'number') {
    if (left.type === 'integer') {
      left = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.integerToNumber)(left);
    } else if (right.type === 'integer') {
      right = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.integerToNumber)(right);
    }
  }
  if (left.type !== right.type) {
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(`${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(left)} ${expr.operator} ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview)(right)}`, `Operator '${operator}' cannot be applied to different types: ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(left.type)} and ${(0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(right.type)}.`);
  }
  if (operator === '==' || operator === '!=') {
    return evalBinaryEquality(operator, left, right);
  } else if (operator === '>' || operator === '>=' || operator === '<' || operator === '<=') {
    return evalBinaryCompare(operator, left, right);
  } else if (operator === '+' || operator === '-') {
    return evalBinarySum(ctx, operator, left, right);
  } else if (operator === '/' || operator === '*' || operator === '%') {
    return evalBinaryFactor(ctx, operator, left, right);
  }
  throw new Error(`Unsupported operation ${operator}`);
}
function argsToStr(args) {
  return args.map(_utils__WEBPACK_IMPORTED_MODULE_2__.valToPreview).join(', ');
}
function evalCallExpression(ctx, expr) {
  const funcName = expr.callee.name;
  let func;
  let args = expr.arguments.map(arg => evalAny(ctx, arg));
  const funcKey = funcName + ':' + args.map(arg => arg.type).join('#');
  if (!_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.funcByArgs.has(funcKey)) {
    const findRes = (0,_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.findBestMatchedFunc)('function', funcName, args);
    if ('expected' in findRes || 'type' in findRes && findRes.type === 'missing') {
      const argsType = args.map(arg => (0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(arg.type)).join(', ');
      const prefix = `${funcName}(${argsToStr(args)})`;
      if (findRes.type === 'few' && args.length === 0) {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Non empty argument list is required for function '${funcName}'.`);
      } else if (findRes.type === 'many') {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Function '${funcName}' has no matching override for given argument types: ${argsType}.`);
      } else if (findRes.type === 'few' || findRes.type === 'mismatch') {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Function '${funcName}' has no matching override for given argument types: ${argsType}.`);
      } else {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Unknown function name: ${funcName}.`);
      }
    }
    func = findRes.func;
    if (findRes.conversions) {
      args = (0,_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.convertArgs)(func, args);
    }
  } else {
    func = _funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.funcByArgs.get(funcKey);
  }
  if (!func) {
    throw new Error('Function not found');
  }
  try {
    return func.cb(ctx, ...args);
  } catch (err) {
    const prefix = `${funcName}(${argsToStr(args)})`;
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, err.message);
  }
}
function evalMethodExpression(ctx, expr) {
  const methodName = expr.method.name;
  let func;
  expr.arguments.unshift(expr.object);
  let args = expr.arguments.map(arg => evalAny(ctx, arg));
  const methodKey = methodName + ':' + args.map(arg => arg.type).join('#');
  if (!_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.methodByArgs.has(methodKey)) {
    const findRes = (0,_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.findBestMatchedFunc)('method', methodName, args);
    if ('expected' in findRes || 'type' in findRes && findRes.type === 'missing') {
      const argsType = args.slice(1).map(arg => (0,_utils__WEBPACK_IMPORTED_MODULE_2__.typeToString)(arg.type)).join(', ');
      const prefix = `${methodName}(${argsToStr(args.slice(1))})`;
      if (findRes.type === 'few' && args.length === 1) {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Non empty argument list is required for method '${methodName}'.`);
      } else if (findRes.type === 'many') {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Method '${methodName}' has no matching override for given argument types: ${argsType}.`);
      } else if (findRes.type === 'few' || findRes.type === 'mismatch') {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Method '${methodName}' has no matching override for given argument types: ${argsType}.`);
      } else {
        (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, `Unknown method name: ${methodName}.`);
      }
    }
    func = findRes.func;
    if (findRes.conversions) {
      args = (0,_funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.convertArgs)(func, args);
    }
  } else {
    func = _funcs_funcs__WEBPACK_IMPORTED_MODULE_4__.methodByArgs.get(methodKey);
  }
  if (!func) {
    throw new Error('Method not found');
  }
  try {
    return func.cb(ctx, ...args);
  } catch (err) {
    const prefix = `${methodName}(${argsToStr(args.slice(1))})`;
    (0,_utils__WEBPACK_IMPORTED_MODULE_2__.evalError)(prefix, err.message);
  }
}
function evalVariable(ctx, expr) {
  const varName = expr.id.name;
  const variable = ctx.variables.get(varName);
  if (variable) {
    return (0,_variable__WEBPACK_IMPORTED_MODULE_5__.variableToValue)(variable);
  }
  throw new Error(`Variable '${varName}' is missing.`);
}
const EVAL_MAP = {
  StringLiteral: evalStringLiteral,
  NumberLiteral: evalNumberLiteral,
  IntegerLiteral: evalIntegerLiteral,
  BooleanLiteral: evalBooleanLiteral,
  UnaryExpression: evalUnary,
  ConditionalExpression: evalConditional,
  TryExpression: evalTry,
  TemplateLiteral: evalTemplateLiteral,
  LogicalExpression: evalLogicalExpression,
  BinaryExpression: evalBinaryExpression,
  CallExpression: evalCallExpression,
  MethodExpression: evalMethodExpression,
  Variable: evalVariable
};
function evalAny(ctx, expr) {
  if (expr.type in EVAL_MAP) {
    return EVAL_MAP[expr.type](ctx, expr);
  }
  throw new Error('Unsupported expression');
}
function evalExpression(vars, store, expr) {
  try {
    const ctx = {
      variables: vars,
      warnings: [],
      safeIntegerOverflow: false,
      store
    };
    const result = evalAny(ctx, expr);
    if (ctx.safeIntegerOverflow) {
      ctx.warnings.push((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_6__.wrapError)(new Error('Safe integer overflow, values may lose accuracy.'), {
        level: 'warn'
      }));
    }
    return {
      result,
      warnings: ctx.warnings
    };
  } catch (err) {
    return {
      result: {
        type: 'error',
        value: err.message
      },
      warnings: []
    };
  }
}

/***/ }),

/***/ "./src/expressions/expressions.js":
/*!****************************************!*\
  !*** ./src/expressions/expressions.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SyntaxError: () => (/* binding */ peg$SyntaxError),
/* harmony export */   parse: () => (/* binding */ peg$parse)
/* harmony export */ });
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bigint */ "./src/expressions/bigint.ts");
// Generated by Peggy 3.0.2.
//
// https://peggyjs.org/



function buildBinaryExpression(head, tail) {
  if (!tail.length) {
    return head;
  }
  return tail.reduce((result, element) => {
    return {
      type: 'BinaryExpression',
      operator: element[1],
      left: result,
      right: element[3]
    };
  }, head);
}
function buildLogicalExpression(head, tail) {
  if (!tail.length) {
    return head;
  }
  return tail.reduce((result, element) => {
    return {
      type: 'LogicalExpression',
      operator: element[1],
      left: result,
      right: element[3]
    };
  }, head);
}
function buildMethodCall(head, tail) {
  if (!tail.length) {
    return head;
  }
  return tail.reduce((result, element) => {
    if (!element[5]) {
      throw new Error('Method expected after .');
    }
    return {
      type: 'MethodExpression',
      object: result,
      method: element[3],
      arguments: element[5][2]
    };
  }, head);
}
function buildVariableOrBoolean(txt) {
  if (txt === 'true' || txt === 'false') {
    return {
      type: 'BooleanLiteral',
      value: txt === 'true'
    };
  }
  return {
    type: 'Variable',
    id: {
      type: 'Identifier',
      name: txt
    }
  };
}
function buildString(list) {
  if (list.every(it => typeof it === 'string')) {
    return {
      type: 'StringLiteral',
      value: list.join('')
    };
  }
  let res = list.reduce((result, element) => {
    if (typeof element === 'string' && typeof result[result.length - 1] === 'string') {
      result[result.length - 1] += element;
    } else {
      result.push(element);
    }
    return result;
  }, []).reduce((result, element) => {
    if (typeof element === 'string') {
      result.quasis.push({
        type: 'StringLiteral',
        value: element
      });
    } else {
      if (result.quasis.length === result.expressions.length) {
        result.quasis.push({
          type: 'StringLiteral',
          value: ''
        });
      }
      result.expressions.push(element);
    }
    return result;
  }, {
    type: 'TemplateLiteral',
    quasis: [],
    expressions: []
  });
  if (res.quasis.length === res.expressions.length) {
    res.quasis.push({
      type: 'StringLiteral',
      value: ''
    });
  }
  return res;
}
function convertToInt64(str) {
  try {
    return (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(str);
  } catch (_err) {
    throw new Error(`Value ${str} can't be converted to Integer type.`);
  }
}
function escapeChar(char) {
  if (char === "'" || char === '\\') {
    return char;
  }
  throw new Error('Incorrect string escape');
}
function peg$subclass(child, parent) {
  function C() {
    this.constructor = child;
  }
  C.prototype = parent.prototype;
  child.prototype = new C();
}
function peg$SyntaxError(message, expected, found, location) {
  var self = Error.call(this, message);
  // istanbul ignore next Check is a necessary evil to support older environments
  if (Object.setPrototypeOf) {
    Object.setPrototypeOf(self, peg$SyntaxError.prototype);
  }
  self.expected = expected;
  self.found = found;
  self.location = location;
  self.name = "SyntaxError";
  return self;
}
peg$subclass(peg$SyntaxError, Error);
function peg$padEnd(str, targetLength, padString) {
  padString = padString || " ";
  if (str.length > targetLength) {
    return str;
  }
  targetLength -= str.length;
  padString += padString.repeat(targetLength);
  return str + padString.slice(0, targetLength);
}
peg$SyntaxError.prototype.format = function (sources) {
  var str = "Error: " + this.message;
  if (this.location) {
    var src = null;
    var k;
    for (k = 0; k < sources.length; k++) {
      if (sources[k].source === this.location.source) {
        src = sources[k].text.split(/\r\n|\n|\r/g);
        break;
      }
    }
    var s = this.location.start;
    var offset_s = this.location.source && typeof this.location.source.offset === "function" ? this.location.source.offset(s) : s;
    var loc = this.location.source + ":" + offset_s.line + ":" + offset_s.column;
    if (src) {
      var e = this.location.end;
      var filler = peg$padEnd("", offset_s.line.toString().length, ' ');
      var line = src[s.line - 1];
      var last = s.line === e.line ? e.column : line.length + 1;
      var hatLen = last - s.column || 1;
      str += "\n --> " + loc + "\n" + filler + " |\n" + offset_s.line + " | " + line + "\n" + filler + " | " + peg$padEnd("", s.column - 1, ' ') + peg$padEnd("", hatLen, "^");
    } else {
      str += "\n at " + loc;
    }
  }
  return str;
};
peg$SyntaxError.buildMessage = function (expected, found) {
  var DESCRIBE_EXPECTATION_FNS = {
    literal: function (expectation) {
      return "\"" + literalEscape(expectation.text) + "\"";
    },
    class: function (expectation) {
      var escapedParts = expectation.parts.map(function (part) {
        return Array.isArray(part) ? classEscape(part[0]) + "-" + classEscape(part[1]) : classEscape(part);
      });
      return "[" + (expectation.inverted ? "^" : "") + escapedParts.join("") + "]";
    },
    any: function () {
      return "any character";
    },
    end: function () {
      return "end of input";
    },
    other: function (expectation) {
      return expectation.description;
    }
  };
  function hex(ch) {
    return ch.charCodeAt(0).toString(16).toUpperCase();
  }
  function literalEscape(s) {
    return s.replace(/\\/g, "\\\\").replace(/"/g, "\\\"").replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function (ch) {
      return "\\x0" + hex(ch);
    }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
      return "\\x" + hex(ch);
    });
  }
  function classEscape(s) {
    return s.replace(/\\/g, "\\\\").replace(/\]/g, "\\]").replace(/\^/g, "\\^").replace(/-/g, "\\-").replace(/\0/g, "\\0").replace(/\t/g, "\\t").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/[\x00-\x0F]/g, function (ch) {
      return "\\x0" + hex(ch);
    }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
      return "\\x" + hex(ch);
    });
  }
  function describeExpectation(expectation) {
    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
  }
  function describeExpected(expected) {
    var descriptions = expected.map(describeExpectation);
    var i, j;
    descriptions.sort();
    if (descriptions.length > 0) {
      for (i = 1, j = 1; i < descriptions.length; i++) {
        if (descriptions[i - 1] !== descriptions[i]) {
          descriptions[j] = descriptions[i];
          j++;
        }
      }
      descriptions.length = j;
    }
    switch (descriptions.length) {
      case 1:
        return descriptions[0];
      case 2:
        return descriptions[0] + " or " + descriptions[1];
      default:
        return descriptions.slice(0, -1).join(", ") + ", or " + descriptions[descriptions.length - 1];
    }
  }
  function describeFound(found) {
    return found ? "\"" + literalEscape(found) + "\"" : "end of input";
  }
  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
};
function peg$parse(input, options) {
  options = options !== undefined ? options : {};
  var peg$FAILED = {};
  var peg$source = options.grammarSource;
  var peg$startRuleFunctions = {
    start: peg$parsestart,
    JsonStringContents: peg$parseJsonStringContents
  };
  var peg$startRuleFunction = peg$parsestart;
  var peg$c0 = "@{";
  var peg$c1 = "}";
  var peg$c2 = "@{}";
  var peg$c3 = "\\";
  var peg$c4 = "?";
  var peg$c5 = ":";
  var peg$c6 = "!:";
  var peg$c7 = "||";
  var peg$c8 = "&&";
  var peg$c9 = "==";
  var peg$c10 = "!=";
  var peg$c11 = ">=";
  var peg$c12 = ">";
  var peg$c13 = "<=";
  var peg$c14 = "<";
  var peg$c15 = "+";
  var peg$c16 = "-";
  var peg$c17 = "/";
  var peg$c18 = "*";
  var peg$c19 = "%";
  var peg$c20 = "!";
  var peg$c21 = ".";
  var peg$c22 = "(";
  var peg$c23 = ")";
  var peg$c24 = ",";
  var peg$c25 = "'";
  var peg$c26 = "e";
  var peg$c27 = "E";
  var peg$r0 = /^[^}]/;
  var peg$r1 = /^[^'}]/;
  var peg$r2 = /^[0-9]/;
  var peg$r3 = /^[a-zA-Z_]/;
  var peg$r4 = /^[a-zA-Z_0-9]/;
  var peg$r5 = /^[ \t\r\n]/;
  var peg$e0 = peg$literalExpectation("@{", false);
  var peg$e1 = peg$literalExpectation("}", false);
  var peg$e2 = peg$literalExpectation("@{}", false);
  var peg$e3 = peg$literalExpectation("\\", false);
  var peg$e4 = peg$anyExpectation();
  var peg$e5 = peg$classExpectation(["}"], true, false);
  var peg$e6 = peg$literalExpectation("?", false);
  var peg$e7 = peg$literalExpectation(":", false);
  var peg$e8 = peg$literalExpectation("!:", false);
  var peg$e9 = peg$literalExpectation("||", false);
  var peg$e10 = peg$literalExpectation("&&", false);
  var peg$e11 = peg$literalExpectation("==", false);
  var peg$e12 = peg$literalExpectation("!=", false);
  var peg$e13 = peg$literalExpectation(">=", false);
  var peg$e14 = peg$literalExpectation(">", false);
  var peg$e15 = peg$literalExpectation("<=", false);
  var peg$e16 = peg$literalExpectation("<", false);
  var peg$e17 = peg$literalExpectation("+", false);
  var peg$e18 = peg$literalExpectation("-", false);
  var peg$e19 = peg$literalExpectation("/", false);
  var peg$e20 = peg$literalExpectation("*", false);
  var peg$e21 = peg$literalExpectation("%", false);
  var peg$e22 = peg$literalExpectation("!", false);
  var peg$e23 = peg$literalExpectation(".", false);
  var peg$e24 = peg$literalExpectation("(", false);
  var peg$e25 = peg$literalExpectation(")", false);
  var peg$e26 = peg$literalExpectation(",", false);
  var peg$e27 = peg$otherExpectation("string");
  var peg$e28 = peg$literalExpectation("'", false);
  var peg$e29 = peg$classExpectation(["'", "}"], true, false);
  var peg$e30 = peg$otherExpectation("integer");
  var peg$e31 = peg$classExpectation([["0", "9"]], false, false);
  var peg$e32 = peg$otherExpectation("number");
  var peg$e33 = peg$literalExpectation("e", false);
  var peg$e34 = peg$literalExpectation("E", false);
  var peg$e35 = peg$classExpectation([["a", "z"], ["A", "Z"], "_"], false, false);
  var peg$e36 = peg$classExpectation([["a", "z"], ["A", "Z"], "_", ["0", "9"]], false, false);
  var peg$e37 = peg$otherExpectation("whitespace");
  var peg$e38 = peg$classExpectation([" ", "\t", "\r", "\n"], false, false);
  var peg$f0 = function (expr) {
    return expr;
  };
  var peg$f1 = function (list) {
    return buildString(list);
  };
  var peg$f2 = function (expr) {
    return expr;
  };
  var peg$f3 = function () {
    return '';
  };
  var peg$f4 = function () {
    return text();
  };
  var peg$f5 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f6 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f7 = function (str) {
    return str;
  };
  var peg$f8 = function (char) {
    return escapeChar(char);
  };
  var peg$f9 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f10 = function (expr, first, second) {
    return {
      type: 'ConditionalExpression',
      test: expr,
      consequent: first,
      alternate: second
    };
  };
  var peg$f11 = function (expr, second) {
    return {
      type: 'TryExpression',
      test: expr,
      alternate: second
    };
  };
  var peg$f12 = function (head, tail) {
    return buildLogicalExpression(head, tail);
  };
  var peg$f13 = function (head, tail) {
    return buildLogicalExpression(head, tail);
  };
  var peg$f14 = function (head, tail) {
    return buildBinaryExpression(head, tail);
  };
  var peg$f15 = function (head, tail) {
    return buildBinaryExpression(head, tail);
  };
  var peg$f16 = function (head, tail) {
    return buildBinaryExpression(head, tail);
  };
  var peg$f17 = function (head, tail) {
    return buildBinaryExpression(head, tail);
  };
  var peg$f18 = function (val) {
    return val;
  };
  var peg$f19 = function (val) {
    return val;
  };
  var peg$f20 = function (op, expr) {
    return {
      type: 'UnaryExpression',
      operator: op,
      argument: expr
    };
  };
  var peg$f21 = function (head, tail) {
    return buildMethodCall(head, tail);
  };
  var peg$f22 = function (id, args) {
    return {
      type: 'CallExpression',
      callee: id,
      arguments: args
    };
  };
  var peg$f23 = function (expr, list) {
    return [expr, ...list];
  };
  var peg$f24 = function (expr) {
    return expr;
  };
  var peg$f25 = function (str) {
    return str;
  };
  var peg$f26 = function (list) {
    return buildString(list);
  };
  var peg$f27 = function (expr) {
    return expr;
  };
  var peg$f28 = function () {
    return '';
  };
  var peg$f29 = function () {
    return text();
  };
  var peg$f30 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f31 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f32 = function (str) {
    return str;
  };
  var peg$f33 = function (char) {
    return escapeChar(char);
  };
  var peg$f34 = function () {
    throw new Error("Error tokenizing '" + input + "'.");
  };
  var peg$f35 = function () {
    return {
      type: 'IntegerLiteral',
      value: convertToInt64(text())
    };
  };
  var peg$f36 = function () {
    return {
      type: 'NumberLiteral',
      value: parseFloat(text())
    };
  };
  var peg$f37 = function () {
    return {
      type: 'NumberLiteral',
      value: parseFloat(text())
    };
  };
  var peg$f38 = function () {
    const txt = text();
    if (/\.\./.test(txt) || /\.$/.test(txt)) {
      throw new Error('Unexpected token: .');
    }
    return buildVariableOrBoolean(txt);
  };
  var peg$f39 = function () {
    return {
      type: 'Identifier',
      name: text()
    };
  };
  var peg$currPos = 0;
  var peg$savedPos = 0;
  var peg$posDetailsCache = [{
    line: 1,
    column: 1
  }];
  var peg$maxFailPos = 0;
  var peg$maxFailExpected = [];
  var peg$silentFails = 0;
  var peg$result;
  if ("startRule" in options) {
    if (!(options.startRule in peg$startRuleFunctions)) {
      throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
    }
    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
  }
  function text() {
    return input.substring(peg$savedPos, peg$currPos);
  }
  function offset() {
    return peg$savedPos;
  }
  function range() {
    return {
      source: peg$source,
      start: peg$savedPos,
      end: peg$currPos
    };
  }
  function location() {
    return peg$computeLocation(peg$savedPos, peg$currPos);
  }
  function expected(description, location) {
    location = location !== undefined ? location : peg$computeLocation(peg$savedPos, peg$currPos);
    throw peg$buildStructuredError([peg$otherExpectation(description)], input.substring(peg$savedPos, peg$currPos), location);
  }
  function error(message, location) {
    location = location !== undefined ? location : peg$computeLocation(peg$savedPos, peg$currPos);
    throw peg$buildSimpleError(message, location);
  }
  function peg$literalExpectation(text, ignoreCase) {
    return {
      type: "literal",
      text: text,
      ignoreCase: ignoreCase
    };
  }
  function peg$classExpectation(parts, inverted, ignoreCase) {
    return {
      type: "class",
      parts: parts,
      inverted: inverted,
      ignoreCase: ignoreCase
    };
  }
  function peg$anyExpectation() {
    return {
      type: "any"
    };
  }
  function peg$endExpectation() {
    return {
      type: "end"
    };
  }
  function peg$otherExpectation(description) {
    return {
      type: "other",
      description: description
    };
  }
  function peg$computePosDetails(pos) {
    var details = peg$posDetailsCache[pos];
    var p;
    if (details) {
      return details;
    } else {
      p = pos - 1;
      while (!peg$posDetailsCache[p]) {
        p--;
      }
      details = peg$posDetailsCache[p];
      details = {
        line: details.line,
        column: details.column
      };
      while (p < pos) {
        if (input.charCodeAt(p) === 10) {
          details.line++;
          details.column = 1;
        } else {
          details.column++;
        }
        p++;
      }
      peg$posDetailsCache[pos] = details;
      return details;
    }
  }
  function peg$computeLocation(startPos, endPos, offset) {
    var startPosDetails = peg$computePosDetails(startPos);
    var endPosDetails = peg$computePosDetails(endPos);
    var res = {
      source: peg$source,
      start: {
        offset: startPos,
        line: startPosDetails.line,
        column: startPosDetails.column
      },
      end: {
        offset: endPos,
        line: endPosDetails.line,
        column: endPosDetails.column
      }
    };
    if (offset && peg$source && typeof peg$source.offset === "function") {
      res.start = peg$source.offset(res.start);
      res.end = peg$source.offset(res.end);
    }
    return res;
  }
  function peg$fail(expected) {
    if (peg$currPos < peg$maxFailPos) {
      return;
    }
    if (peg$currPos > peg$maxFailPos) {
      peg$maxFailPos = peg$currPos;
      peg$maxFailExpected = [];
    }
    peg$maxFailExpected.push(expected);
  }
  function peg$buildSimpleError(message, location) {
    return new peg$SyntaxError(message, null, null, location);
  }
  function peg$buildStructuredError(expected, found, location) {
    return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected, found), expected, found, location);
  }
  function peg$parsestart() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = peg$parse_();
    s2 = peg$parseExpression();
    if (s2 !== peg$FAILED) {
      s3 = peg$parse_();
      peg$savedPos = s0;
      s0 = peg$f0(s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseJsonStringContents() {
    var s0, s1, s2;
    s0 = peg$currPos;
    s1 = [];
    s2 = peg$parseJsonStringChar();
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      s2 = peg$parseJsonStringChar();
    }
    peg$savedPos = s0;
    s1 = peg$f1(s1);
    s0 = s1;
    return s0;
  }
  function peg$parseJsonStringChar() {
    var s0, s1, s2, s3, s4, s5;
    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c0) {
      s1 = peg$c0;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e0);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      s3 = peg$parseExpression();
      if (s3 !== peg$FAILED) {
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 125) {
          s5 = peg$c1;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e1);
          }
        }
        if (s5 !== peg$FAILED) {
          peg$savedPos = s0;
          s0 = peg$f2(s3);
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.substr(peg$currPos, 3) === peg$c2) {
        s1 = peg$c2;
        peg$currPos += 3;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e2);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$f3();
      }
      s0 = s1;
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        s1 = peg$currPos;
        peg$silentFails++;
        if (input.charCodeAt(peg$currPos) === 92) {
          s2 = peg$c3;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e3);
          }
        }
        if (s2 === peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c0) {
            s2 = peg$c0;
            peg$currPos += 2;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e0);
            }
          }
        }
        peg$silentFails--;
        if (s2 === peg$FAILED) {
          s1 = undefined;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
          if (input.length > peg$currPos) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e4);
            }
          }
          if (s2 !== peg$FAILED) {
            peg$savedPos = s0;
            s0 = peg$f4();
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$currPos;
          if (input.substr(peg$currPos, 2) === peg$c0) {
            s1 = peg$c0;
            peg$currPos += 2;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e0);
            }
          }
          if (s1 !== peg$FAILED) {
            s2 = [];
            if (peg$r0.test(input.charAt(peg$currPos))) {
              s3 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s3 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e5);
              }
            }
            if (s3 !== peg$FAILED) {
              while (s3 !== peg$FAILED) {
                s2.push(s3);
                if (peg$r0.test(input.charAt(peg$currPos))) {
                  s3 = input.charAt(peg$currPos);
                  peg$currPos++;
                } else {
                  s3 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e5);
                  }
                }
              }
            } else {
              s2 = peg$FAILED;
            }
            if (s2 !== peg$FAILED) {
              if (input.charCodeAt(peg$currPos) === 125) {
                s3 = peg$c1;
                peg$currPos++;
              } else {
                s3 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e1);
                }
              }
              if (s3 !== peg$FAILED) {
                peg$savedPos = s0;
                s0 = peg$f5();
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
          if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            if (input.substr(peg$currPos, 2) === peg$c0) {
              s1 = peg$c0;
              peg$currPos += 2;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e0);
              }
            }
            if (s1 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$f6();
            }
            s0 = s1;
            if (s0 === peg$FAILED) {
              s0 = peg$currPos;
              if (input.charCodeAt(peg$currPos) === 92) {
                s1 = peg$c3;
                peg$currPos++;
              } else {
                s1 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e3);
                }
              }
              if (s1 !== peg$FAILED) {
                if (input.substr(peg$currPos, 2) === peg$c0) {
                  s2 = peg$c0;
                  peg$currPos += 2;
                } else {
                  s2 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e0);
                  }
                }
                if (s2 !== peg$FAILED) {
                  peg$savedPos = s0;
                  s0 = peg$f7(s2);
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
              if (s0 === peg$FAILED) {
                s0 = peg$currPos;
                if (input.charCodeAt(peg$currPos) === 92) {
                  s1 = peg$c3;
                  peg$currPos++;
                } else {
                  s1 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e3);
                  }
                }
                if (s1 !== peg$FAILED) {
                  if (input.length > peg$currPos) {
                    s2 = input.charAt(peg$currPos);
                    peg$currPos++;
                  } else {
                    s2 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$e4);
                    }
                  }
                  if (s2 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s0 = peg$f8(s2);
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
                if (s0 === peg$FAILED) {
                  s0 = peg$currPos;
                  if (input.charCodeAt(peg$currPos) === 92) {
                    s1 = peg$c3;
                    peg$currPos++;
                  } else {
                    s1 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$e3);
                    }
                  }
                  if (s1 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$f9();
                  }
                  s0 = s1;
                }
              }
            }
          }
        }
      }
    }
    return s0;
  }
  function peg$parseExpression() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
    s0 = peg$currPos;
    s1 = peg$parseTry();
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 63) {
        s3 = peg$c4;
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e6);
        }
      }
      if (s3 !== peg$FAILED) {
        s4 = peg$parse_();
        s5 = peg$parseExpression();
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          if (input.charCodeAt(peg$currPos) === 58) {
            s7 = peg$c5;
            peg$currPos++;
          } else {
            s7 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e7);
            }
          }
          if (s7 !== peg$FAILED) {
            s8 = peg$parse_();
            s9 = peg$parseExpression();
            if (s9 !== peg$FAILED) {
              peg$savedPos = s0;
              s0 = peg$f10(s1, s5, s9);
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$parseTry();
    }
    return s0;
  }
  function peg$parseTry() {
    var s0, s1, s2, s3, s4, s5;
    s0 = peg$currPos;
    s1 = peg$parseOr();
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (input.substr(peg$currPos, 2) === peg$c6) {
        s3 = peg$c6;
        peg$currPos += 2;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e8);
        }
      }
      if (s3 !== peg$FAILED) {
        s4 = peg$parse_();
        s5 = peg$parseExpression();
        if (s5 !== peg$FAILED) {
          peg$savedPos = s0;
          s0 = peg$f11(s1, s5);
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$parseOr();
    }
    return s0;
  }
  function peg$parseOr() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseAnd();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.substr(peg$currPos, 2) === peg$c7) {
        s5 = peg$c7;
        peg$currPos += 2;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e9);
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseAnd();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.substr(peg$currPos, 2) === peg$c7) {
          s5 = peg$c7;
          peg$currPos += 2;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e9);
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseAnd();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f12(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseAnd() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseEqual();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.substr(peg$currPos, 2) === peg$c8) {
        s5 = peg$c8;
        peg$currPos += 2;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e10);
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseEqual();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.substr(peg$currPos, 2) === peg$c8) {
          s5 = peg$c8;
          peg$currPos += 2;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e10);
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseEqual();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f13(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseEqual() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseComparison();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.substr(peg$currPos, 2) === peg$c9) {
        s5 = peg$c9;
        peg$currPos += 2;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e11);
        }
      }
      if (s5 === peg$FAILED) {
        if (input.substr(peg$currPos, 2) === peg$c10) {
          s5 = peg$c10;
          peg$currPos += 2;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e12);
          }
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseComparison();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.substr(peg$currPos, 2) === peg$c9) {
          s5 = peg$c9;
          peg$currPos += 2;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e11);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c10) {
            s5 = peg$c10;
            peg$currPos += 2;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e12);
            }
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseComparison();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f14(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseComparison() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseSum();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.substr(peg$currPos, 2) === peg$c11) {
        s5 = peg$c11;
        peg$currPos += 2;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e13);
        }
      }
      if (s5 === peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 62) {
          s5 = peg$c12;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e14);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c13) {
            s5 = peg$c13;
            peg$currPos += 2;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e15);
            }
          }
          if (s5 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 60) {
              s5 = peg$c14;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e16);
              }
            }
          }
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseSum();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.substr(peg$currPos, 2) === peg$c11) {
          s5 = peg$c11;
          peg$currPos += 2;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e13);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 62) {
            s5 = peg$c12;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e14);
            }
          }
          if (s5 === peg$FAILED) {
            if (input.substr(peg$currPos, 2) === peg$c13) {
              s5 = peg$c13;
              peg$currPos += 2;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e15);
              }
            }
            if (s5 === peg$FAILED) {
              if (input.charCodeAt(peg$currPos) === 60) {
                s5 = peg$c14;
                peg$currPos++;
              } else {
                s5 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e16);
                }
              }
            }
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseSum();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f15(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseSum() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseFactor();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 43) {
        s5 = peg$c15;
        peg$currPos++;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e17);
        }
      }
      if (s5 === peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 45) {
          s5 = peg$c16;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e18);
          }
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseFactor();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 43) {
          s5 = peg$c15;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e17);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 45) {
            s5 = peg$c16;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e18);
            }
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseFactor();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f16(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseFactor() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseUnaryExpression();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 47) {
        s5 = peg$c17;
        peg$currPos++;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e19);
        }
      }
      if (s5 === peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 42) {
          s5 = peg$c18;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e20);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 37) {
            s5 = peg$c19;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e21);
            }
          }
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseUnaryExpression();
        if (s7 !== peg$FAILED) {
          s4 = [s4, s5, s6, s7];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 47) {
          s5 = peg$c17;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e19);
          }
        }
        if (s5 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 42) {
            s5 = peg$c18;
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e20);
            }
          }
          if (s5 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 37) {
              s5 = peg$c19;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e21);
              }
            }
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseUnaryExpression();
          if (s7 !== peg$FAILED) {
            s4 = [s4, s5, s6, s7];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f17(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseUnaryExpression() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    s1 = peg$currPos;
    peg$silentFails++;
    if (input.charCodeAt(peg$currPos) === 45) {
      s2 = peg$c16;
      peg$currPos++;
    } else {
      s2 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e18);
      }
    }
    peg$silentFails--;
    if (s2 !== peg$FAILED) {
      peg$currPos = s1;
      s1 = undefined;
    } else {
      s1 = peg$FAILED;
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parseNumber();
      if (s2 !== peg$FAILED) {
        peg$savedPos = s0;
        s0 = peg$f18(s2);
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      s1 = peg$currPos;
      peg$silentFails++;
      if (input.charCodeAt(peg$currPos) === 45) {
        s2 = peg$c16;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e18);
        }
      }
      peg$silentFails--;
      if (s2 !== peg$FAILED) {
        peg$currPos = s1;
        s1 = undefined;
      } else {
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        s2 = peg$parseInteger();
        if (s2 !== peg$FAILED) {
          peg$savedPos = s0;
          s0 = peg$f19(s2);
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 33) {
          s1 = peg$c20;
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e22);
          }
        }
        if (s1 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 43) {
            s1 = peg$c15;
            peg$currPos++;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e17);
            }
          }
          if (s1 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 45) {
              s1 = peg$c16;
              peg$currPos++;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e18);
              }
            }
          }
        }
        if (s1 !== peg$FAILED) {
          s2 = peg$parse_();
          s3 = peg$parseMethod();
          if (s3 !== peg$FAILED) {
            peg$savedPos = s0;
            s0 = peg$f20(s1, s3);
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$parseMethod();
        }
      }
    }
    return s0;
  }
  function peg$parseMethod() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14;
    s0 = peg$currPos;
    s1 = peg$parseCall();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 46) {
        s5 = peg$c21;
        peg$currPos++;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e23);
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseStrictIdentifier();
        if (s7 !== peg$FAILED) {
          s8 = peg$parse_();
          s9 = peg$currPos;
          if (input.charCodeAt(peg$currPos) === 40) {
            s10 = peg$c22;
            peg$currPos++;
          } else {
            s10 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e24);
            }
          }
          if (s10 !== peg$FAILED) {
            s11 = peg$parse_();
            s12 = peg$parseArguments();
            if (s12 !== peg$FAILED) {
              s13 = peg$parse_();
              if (input.charCodeAt(peg$currPos) === 41) {
                s14 = peg$c23;
                peg$currPos++;
              } else {
                s14 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e25);
                }
              }
              if (s14 !== peg$FAILED) {
                s10 = [s10, s11, s12, s13, s14];
                s9 = s10;
              } else {
                peg$currPos = s9;
                s9 = peg$FAILED;
              }
            } else {
              peg$currPos = s9;
              s9 = peg$FAILED;
            }
          } else {
            peg$currPos = s9;
            s9 = peg$FAILED;
          }
          if (s9 === peg$FAILED) {
            s9 = null;
          }
          s4 = [s4, s5, s6, s7, s8, s9];
          s3 = s4;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 46) {
          s5 = peg$c21;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e23);
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseStrictIdentifier();
          if (s7 !== peg$FAILED) {
            s8 = peg$parse_();
            s9 = peg$currPos;
            if (input.charCodeAt(peg$currPos) === 40) {
              s10 = peg$c22;
              peg$currPos++;
            } else {
              s10 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e24);
              }
            }
            if (s10 !== peg$FAILED) {
              s11 = peg$parse_();
              s12 = peg$parseArguments();
              if (s12 !== peg$FAILED) {
                s13 = peg$parse_();
                if (input.charCodeAt(peg$currPos) === 41) {
                  s14 = peg$c23;
                  peg$currPos++;
                } else {
                  s14 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e25);
                  }
                }
                if (s14 !== peg$FAILED) {
                  s10 = [s10, s11, s12, s13, s14];
                  s9 = s10;
                } else {
                  peg$currPos = s9;
                  s9 = peg$FAILED;
                }
              } else {
                peg$currPos = s9;
                s9 = peg$FAILED;
              }
            } else {
              peg$currPos = s9;
              s9 = peg$FAILED;
            }
            if (s9 === peg$FAILED) {
              s9 = null;
            }
            s4 = [s4, s5, s6, s7, s8, s9];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f21(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseCall() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseStrictIdentifier();
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 40) {
        s3 = peg$c22;
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e24);
        }
      }
      if (s3 !== peg$FAILED) {
        s4 = peg$parse_();
        s5 = peg$parseArguments();
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          if (input.charCodeAt(peg$currPos) === 41) {
            s7 = peg$c23;
            peg$currPos++;
          } else {
            s7 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e25);
            }
          }
          if (s7 !== peg$FAILED) {
            peg$savedPos = s0;
            s0 = peg$f22(s1, s5);
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$parsePrimaryExpression();
    }
    return s0;
  }
  function peg$parseArguments() {
    var s0, s1, s2, s3, s4, s5, s6, s7;
    s0 = peg$currPos;
    s1 = peg$parseExpression();
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = peg$currPos;
      s4 = peg$parse_();
      if (input.charCodeAt(peg$currPos) === 44) {
        s5 = peg$c24;
        peg$currPos++;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e26);
        }
      }
      if (s5 !== peg$FAILED) {
        s6 = peg$parse_();
        s7 = peg$parseExpression();
        if (s7 !== peg$FAILED) {
          s3 = s7;
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      } else {
        peg$currPos = s3;
        s3 = peg$FAILED;
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = peg$currPos;
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 44) {
          s5 = peg$c24;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e26);
          }
        }
        if (s5 !== peg$FAILED) {
          s6 = peg$parse_();
          s7 = peg$parseExpression();
          if (s7 !== peg$FAILED) {
            s3 = s7;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      peg$savedPos = s0;
      s0 = peg$f23(s1, s2);
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$parse_();
    }
    return s0;
  }
  function peg$parsePrimaryExpression() {
    var s0, s1, s2, s3, s4, s5;
    s0 = peg$parseIdentifierOrBoolean();
    if (s0 === peg$FAILED) {
      s0 = peg$parseString();
      if (s0 === peg$FAILED) {
        s0 = peg$parseNumber();
        if (s0 === peg$FAILED) {
          s0 = peg$parseInteger();
          if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            if (input.charCodeAt(peg$currPos) === 40) {
              s1 = peg$c22;
              peg$currPos++;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e24);
              }
            }
            if (s1 !== peg$FAILED) {
              s2 = peg$parse_();
              s3 = peg$parseExpression();
              if (s3 !== peg$FAILED) {
                s4 = peg$parse_();
                if (input.charCodeAt(peg$currPos) === 41) {
                  s5 = peg$c23;
                  peg$currPos++;
                } else {
                  s5 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e25);
                  }
                }
                if (s5 !== peg$FAILED) {
                  peg$savedPos = s0;
                  s0 = peg$f24(s3);
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          }
        }
      }
    }
    return s0;
  }
  function peg$parseString() {
    var s0, s1, s2, s3;
    peg$silentFails++;
    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 39) {
      s1 = peg$c25;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e28);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parseStringContents();
      if (input.charCodeAt(peg$currPos) === 39) {
        s3 = peg$c25;
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e28);
        }
      }
      if (s3 !== peg$FAILED) {
        peg$savedPos = s0;
        s0 = peg$f25(s2);
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e27);
      }
    }
    return s0;
  }
  function peg$parseStringContents() {
    var s0, s1, s2;
    s0 = peg$currPos;
    s1 = [];
    s2 = peg$parseStringChar();
    while (s2 !== peg$FAILED) {
      s1.push(s2);
      s2 = peg$parseStringChar();
    }
    peg$savedPos = s0;
    s1 = peg$f26(s1);
    s0 = s1;
    return s0;
  }
  function peg$parseStringChar() {
    var s0, s1, s2, s3, s4, s5;
    s0 = peg$currPos;
    if (input.substr(peg$currPos, 2) === peg$c0) {
      s1 = peg$c0;
      peg$currPos += 2;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e0);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = peg$parse_();
      s3 = peg$parseExpression();
      if (s3 !== peg$FAILED) {
        s4 = peg$parse_();
        if (input.charCodeAt(peg$currPos) === 125) {
          s5 = peg$c1;
          peg$currPos++;
        } else {
          s5 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e1);
          }
        }
        if (s5 !== peg$FAILED) {
          peg$savedPos = s0;
          s0 = peg$f27(s3);
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.substr(peg$currPos, 3) === peg$c2) {
        s1 = peg$c2;
        peg$currPos += 3;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e2);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$f28();
      }
      s0 = s1;
      if (s0 === peg$FAILED) {
        s0 = peg$currPos;
        s1 = peg$currPos;
        peg$silentFails++;
        if (input.charCodeAt(peg$currPos) === 92) {
          s2 = peg$c3;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e3);
          }
        }
        if (s2 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 39) {
            s2 = peg$c25;
            peg$currPos++;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e28);
            }
          }
          if (s2 === peg$FAILED) {
            if (input.substr(peg$currPos, 2) === peg$c0) {
              s2 = peg$c0;
              peg$currPos += 2;
            } else {
              s2 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e0);
              }
            }
          }
        }
        peg$silentFails--;
        if (s2 === peg$FAILED) {
          s1 = undefined;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
        if (s1 !== peg$FAILED) {
          if (input.length > peg$currPos) {
            s2 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s2 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e4);
            }
          }
          if (s2 !== peg$FAILED) {
            peg$savedPos = s0;
            s0 = peg$f29();
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
        if (s0 === peg$FAILED) {
          s0 = peg$currPos;
          if (input.substr(peg$currPos, 2) === peg$c0) {
            s1 = peg$c0;
            peg$currPos += 2;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e0);
            }
          }
          if (s1 !== peg$FAILED) {
            s2 = [];
            if (peg$r1.test(input.charAt(peg$currPos))) {
              s3 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s3 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e29);
              }
            }
            if (s3 !== peg$FAILED) {
              while (s3 !== peg$FAILED) {
                s2.push(s3);
                if (peg$r1.test(input.charAt(peg$currPos))) {
                  s3 = input.charAt(peg$currPos);
                  peg$currPos++;
                } else {
                  s3 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e29);
                  }
                }
              }
            } else {
              s2 = peg$FAILED;
            }
            if (s2 !== peg$FAILED) {
              if (input.charCodeAt(peg$currPos) === 125) {
                s3 = peg$c1;
                peg$currPos++;
              } else {
                s3 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e1);
                }
              }
              if (s3 !== peg$FAILED) {
                peg$savedPos = s0;
                s0 = peg$f30();
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
            } else {
              peg$currPos = s0;
              s0 = peg$FAILED;
            }
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
          if (s0 === peg$FAILED) {
            s0 = peg$currPos;
            if (input.substr(peg$currPos, 2) === peg$c0) {
              s1 = peg$c0;
              peg$currPos += 2;
            } else {
              s1 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e0);
              }
            }
            if (s1 !== peg$FAILED) {
              peg$savedPos = s0;
              s1 = peg$f31();
            }
            s0 = s1;
            if (s0 === peg$FAILED) {
              s0 = peg$currPos;
              if (input.charCodeAt(peg$currPos) === 92) {
                s1 = peg$c3;
                peg$currPos++;
              } else {
                s1 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e3);
                }
              }
              if (s1 !== peg$FAILED) {
                if (input.substr(peg$currPos, 2) === peg$c0) {
                  s2 = peg$c0;
                  peg$currPos += 2;
                } else {
                  s2 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e0);
                  }
                }
                if (s2 !== peg$FAILED) {
                  peg$savedPos = s0;
                  s0 = peg$f32(s2);
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
              } else {
                peg$currPos = s0;
                s0 = peg$FAILED;
              }
              if (s0 === peg$FAILED) {
                s0 = peg$currPos;
                if (input.charCodeAt(peg$currPos) === 92) {
                  s1 = peg$c3;
                  peg$currPos++;
                } else {
                  s1 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$e3);
                  }
                }
                if (s1 !== peg$FAILED) {
                  if (input.length > peg$currPos) {
                    s2 = input.charAt(peg$currPos);
                    peg$currPos++;
                  } else {
                    s2 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$e4);
                    }
                  }
                  if (s2 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s0 = peg$f33(s2);
                  } else {
                    peg$currPos = s0;
                    s0 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s0;
                  s0 = peg$FAILED;
                }
                if (s0 === peg$FAILED) {
                  s0 = peg$currPos;
                  if (input.charCodeAt(peg$currPos) === 92) {
                    s1 = peg$c3;
                    peg$currPos++;
                  } else {
                    s1 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$e3);
                    }
                  }
                  if (s1 !== peg$FAILED) {
                    peg$savedPos = s0;
                    s1 = peg$f34();
                  }
                  s0 = s1;
                }
              }
            }
          }
        }
      }
    }
    return s0;
  }
  function peg$parseInteger() {
    var s0, s1, s2, s3;
    peg$silentFails++;
    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 45) {
      s1 = peg$c16;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e18);
      }
    }
    if (s1 === peg$FAILED) {
      s1 = null;
    }
    s2 = [];
    if (peg$r2.test(input.charAt(peg$currPos))) {
      s3 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s3 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e31);
      }
    }
    if (s3 !== peg$FAILED) {
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        if (peg$r2.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e31);
          }
        }
      }
    } else {
      s2 = peg$FAILED;
    }
    if (s2 !== peg$FAILED) {
      peg$savedPos = s0;
      s0 = peg$f35();
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e30);
      }
    }
    return s0;
  }
  function peg$parseNumber() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
    peg$silentFails++;
    s0 = peg$currPos;
    if (input.charCodeAt(peg$currPos) === 45) {
      s1 = peg$c16;
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e18);
      }
    }
    if (s1 === peg$FAILED) {
      s1 = null;
    }
    s2 = [];
    if (peg$r2.test(input.charAt(peg$currPos))) {
      s3 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s3 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e31);
      }
    }
    while (s3 !== peg$FAILED) {
      s2.push(s3);
      if (peg$r2.test(input.charAt(peg$currPos))) {
        s3 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e31);
        }
      }
    }
    if (input.charCodeAt(peg$currPos) === 46) {
      s3 = peg$c21;
      peg$currPos++;
    } else {
      s3 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e23);
      }
    }
    if (s3 !== peg$FAILED) {
      s4 = [];
      if (peg$r2.test(input.charAt(peg$currPos))) {
        s5 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s5 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e31);
        }
      }
      if (s5 !== peg$FAILED) {
        while (s5 !== peg$FAILED) {
          s4.push(s5);
          if (peg$r2.test(input.charAt(peg$currPos))) {
            s5 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s5 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e31);
            }
          }
        }
      } else {
        s4 = peg$FAILED;
      }
      if (s4 !== peg$FAILED) {
        s5 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 101) {
          s6 = peg$c26;
          peg$currPos++;
        } else {
          s6 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e33);
          }
        }
        if (s6 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 69) {
            s6 = peg$c27;
            peg$currPos++;
          } else {
            s6 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e34);
            }
          }
        }
        if (s6 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 43) {
            s7 = peg$c15;
            peg$currPos++;
          } else {
            s7 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e17);
            }
          }
          if (s7 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 45) {
              s7 = peg$c16;
              peg$currPos++;
            } else {
              s7 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e18);
              }
            }
          }
          if (s7 === peg$FAILED) {
            s7 = null;
          }
          s8 = [];
          if (peg$r2.test(input.charAt(peg$currPos))) {
            s9 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s9 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e31);
            }
          }
          if (s9 !== peg$FAILED) {
            while (s9 !== peg$FAILED) {
              s8.push(s9);
              if (peg$r2.test(input.charAt(peg$currPos))) {
                s9 = input.charAt(peg$currPos);
                peg$currPos++;
              } else {
                s9 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e31);
                }
              }
            }
          } else {
            s8 = peg$FAILED;
          }
          if (s8 !== peg$FAILED) {
            s6 = [s6, s7, s8];
            s5 = s6;
          } else {
            peg$currPos = s5;
            s5 = peg$FAILED;
          }
        } else {
          peg$currPos = s5;
          s5 = peg$FAILED;
        }
        if (s5 === peg$FAILED) {
          s5 = null;
        }
        peg$savedPos = s0;
        s0 = peg$f36();
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    if (s0 === peg$FAILED) {
      s0 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 45) {
        s1 = peg$c16;
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e18);
        }
      }
      if (s1 === peg$FAILED) {
        s1 = null;
      }
      s2 = [];
      if (peg$r2.test(input.charAt(peg$currPos))) {
        s3 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e31);
        }
      }
      if (s3 !== peg$FAILED) {
        while (s3 !== peg$FAILED) {
          s2.push(s3);
          if (peg$r2.test(input.charAt(peg$currPos))) {
            s3 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e31);
            }
          }
        }
      } else {
        s2 = peg$FAILED;
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 101) {
          s3 = peg$c26;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e33);
          }
        }
        if (s3 === peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 69) {
            s3 = peg$c27;
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e34);
            }
          }
        }
        if (s3 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 43) {
            s4 = peg$c15;
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e17);
            }
          }
          if (s4 === peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 45) {
              s4 = peg$c16;
              peg$currPos++;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e18);
              }
            }
          }
          if (s4 === peg$FAILED) {
            s4 = null;
          }
          s5 = [];
          if (peg$r2.test(input.charAt(peg$currPos))) {
            s6 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s6 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e31);
            }
          }
          if (s6 !== peg$FAILED) {
            while (s6 !== peg$FAILED) {
              s5.push(s6);
              if (peg$r2.test(input.charAt(peg$currPos))) {
                s6 = input.charAt(peg$currPos);
                peg$currPos++;
              } else {
                s6 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e31);
                }
              }
            }
          } else {
            s5 = peg$FAILED;
          }
          if (s5 !== peg$FAILED) {
            peg$savedPos = s0;
            s0 = peg$f37();
          } else {
            peg$currPos = s0;
            s0 = peg$FAILED;
          }
        } else {
          peg$currPos = s0;
          s0 = peg$FAILED;
        }
      } else {
        peg$currPos = s0;
        s0 = peg$FAILED;
      }
    }
    peg$silentFails--;
    if (s0 === peg$FAILED) {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e32);
      }
    }
    return s0;
  }
  function peg$parseIdentifierOrBoolean() {
    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;
    s0 = peg$currPos;
    if (peg$r3.test(input.charAt(peg$currPos))) {
      s1 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e35);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = [];
      s3 = [];
      if (peg$r4.test(input.charAt(peg$currPos))) {
        s4 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s4 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e36);
        }
      }
      if (s4 !== peg$FAILED) {
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          if (peg$r4.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e36);
            }
          }
        }
      } else {
        s3 = peg$FAILED;
      }
      if (s3 === peg$FAILED) {
        s3 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 46) {
          s4 = peg$c21;
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e23);
          }
        }
        if (s4 !== peg$FAILED) {
          s5 = peg$currPos;
          peg$silentFails++;
          s6 = peg$currPos;
          s7 = peg$parse_();
          s8 = peg$parseStrictIdentifier();
          if (s8 !== peg$FAILED) {
            s9 = peg$parse_();
            if (input.charCodeAt(peg$currPos) === 40) {
              s10 = peg$c22;
              peg$currPos++;
            } else {
              s10 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e24);
              }
            }
            if (s10 !== peg$FAILED) {
              s7 = [s7, s8, s9, s10];
              s6 = s7;
            } else {
              peg$currPos = s6;
              s6 = peg$FAILED;
            }
          } else {
            peg$currPos = s6;
            s6 = peg$FAILED;
          }
          peg$silentFails--;
          if (s6 === peg$FAILED) {
            s5 = undefined;
          } else {
            peg$currPos = s5;
            s5 = peg$FAILED;
          }
          if (s5 !== peg$FAILED) {
            s4 = [s4, s5];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        s3 = [];
        if (peg$r4.test(input.charAt(peg$currPos))) {
          s4 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e36);
          }
        }
        if (s4 !== peg$FAILED) {
          while (s4 !== peg$FAILED) {
            s3.push(s4);
            if (peg$r4.test(input.charAt(peg$currPos))) {
              s4 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$e36);
              }
            }
          }
        } else {
          s3 = peg$FAILED;
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (input.charCodeAt(peg$currPos) === 46) {
            s4 = peg$c21;
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$e23);
            }
          }
          if (s4 !== peg$FAILED) {
            s5 = peg$currPos;
            peg$silentFails++;
            s6 = peg$currPos;
            s7 = peg$parse_();
            s8 = peg$parseStrictIdentifier();
            if (s8 !== peg$FAILED) {
              s9 = peg$parse_();
              if (input.charCodeAt(peg$currPos) === 40) {
                s10 = peg$c22;
                peg$currPos++;
              } else {
                s10 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$e24);
                }
              }
              if (s10 !== peg$FAILED) {
                s7 = [s7, s8, s9, s10];
                s6 = s7;
              } else {
                peg$currPos = s6;
                s6 = peg$FAILED;
              }
            } else {
              peg$currPos = s6;
              s6 = peg$FAILED;
            }
            peg$silentFails--;
            if (s6 === peg$FAILED) {
              s5 = undefined;
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        }
      }
      peg$savedPos = s0;
      s0 = peg$f38();
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parseStrictIdentifier() {
    var s0, s1, s2, s3;
    s0 = peg$currPos;
    if (peg$r3.test(input.charAt(peg$currPos))) {
      s1 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e35);
      }
    }
    if (s1 !== peg$FAILED) {
      s2 = [];
      if (peg$r4.test(input.charAt(peg$currPos))) {
        s3 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s3 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e36);
        }
      }
      while (s3 !== peg$FAILED) {
        s2.push(s3);
        if (peg$r4.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$e36);
          }
        }
      }
      peg$savedPos = s0;
      s0 = peg$f39();
    } else {
      peg$currPos = s0;
      s0 = peg$FAILED;
    }
    return s0;
  }
  function peg$parse_() {
    var s0, s1;
    peg$silentFails++;
    s0 = [];
    if (peg$r5.test(input.charAt(peg$currPos))) {
      s1 = input.charAt(peg$currPos);
      peg$currPos++;
    } else {
      s1 = peg$FAILED;
      if (peg$silentFails === 0) {
        peg$fail(peg$e38);
      }
    }
    while (s1 !== peg$FAILED) {
      s0.push(s1);
      if (peg$r5.test(input.charAt(peg$currPos))) {
        s1 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$e38);
        }
      }
    }
    peg$silentFails--;
    s1 = peg$FAILED;
    if (peg$silentFails === 0) {
      peg$fail(peg$e37);
    }
    return s0;
  }
  peg$result = peg$startRuleFunction();
  if (peg$result !== peg$FAILED && peg$currPos === input.length) {
    return peg$result;
  } else {
    if (peg$result !== peg$FAILED && peg$currPos < input.length) {
      peg$fail(peg$endExpectation());
    }
    throw peg$buildStructuredError(peg$maxFailExpected, peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null, peg$maxFailPos < input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));
  }
}


/***/ }),

/***/ "./src/expressions/funcs/array.ts":
/*!****************************************!*\
  !*** ./src/expressions/funcs/array.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerArray: () => (/* binding */ registerArray)
/* harmony export */ });
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");




function arrayGetter(jsType, runtimeType) {
  return (ctx, array, index) => {
    if (index.value < 0 || index.value >= array.value.length) {
      throw new Error(`Requested index (${index.value}) out of bounds array size (${array.value.length}).`);
    }
    let val = array.value[Number(index.value)];
    let type = typeof val;
    if (jsType === 'array' && !Array.isArray(val) || jsType !== 'array' && type !== jsType || type === 'object' && val === null) {
      if (type === 'object') {
        if (Array.isArray(val)) {
          type = 'array';
        } else if (val === null) {
          type = 'null';
        } else {
          type = 'dict';
        }
      }
      throw new Error(`Incorrect value type: expected "${runtimeType}", got "${type}".`);
    }
    if (jsType === 'number' && runtimeType === 'integer') {
      (0,_utils__WEBPACK_IMPORTED_MODULE_0__.checkIntegerOverflow)(ctx, val);
      try {
        val = (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(val);
      } catch (_err) {
        throw new Error('Cannot convert value to integer.');
      }
    }
    if (jsType === 'string' && runtimeType === 'color') {
      val = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.transformColorValue)(val);
    }
    return {
      type: runtimeType,
      value: val
    };
  };
}
function optWrapper(func, fallbackType) {
  return (ctx, array, index, fallback) => {
    try {
      return func(ctx, array, index);
    } catch (_err) {
      // ignore error

      let value = fallback.value;
      if (fallbackType === 'color') {
        value = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.transformColorValue)(value);
      }
      return {
        type: fallbackType,
        value
      };
    }
  };
}
const getArrayString = arrayGetter('string', 'string');
const getArrayNumber = arrayGetter('number', 'number');
const getArrayInteger = arrayGetter('number', 'integer');
const getArrayBoolean = arrayGetter('boolean', 'boolean');
const getArrayColor = arrayGetter('string', 'color');
const getArrayUrl = arrayGetter('string', 'url');
const getArrayArray = arrayGetter('array', 'array');
const getArrayDict = arrayGetter('object', 'dict');
const getArrayOptString = optWrapper(getArrayString, 'string');
const getArrayOptNumber = optWrapper(getArrayNumber, 'number');
const getArrayOptInteger = optWrapper(getArrayInteger, 'integer');
const getArrayOptBoolean = optWrapper(getArrayBoolean, 'boolean');
const getArrayOptColor = optWrapper(getArrayColor, 'color');
const getArrayOptUrl = optWrapper(getArrayUrl, 'url');
function getArrayOptArray(ctx, array, index) {
  try {
    return getArrayArray(ctx, array, index);
  } catch (_err) {
    // ignore error
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_2__.ARRAY,
      value: []
    };
  }
}
function getArrayOptDict(ctx, array, index) {
  try {
    return getArrayDict(ctx, array, index);
  } catch (_err) {
    // ignore error
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_2__.DICT,
      value: {}
    };
  }
}
function len(_ctx, array) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(array.value.length)
  };
}
function registerArray() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayString', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getStringFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayNumber', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getNumberFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayInteger', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntegerFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayBoolean', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getBooleanFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayColor', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getColorFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayUrl', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getUrlFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getDictFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayDict);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptString', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptStringFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptNumber', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], getArrayOptNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptNumberFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], getArrayOptNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptInteger', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayOptInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptIntegerFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayOptInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptBoolean', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.BOOLEAN], getArrayOptBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptBooleanFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.BOOLEAN], getArrayOptBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptColor', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.COLOR], getArrayOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptColorFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.COLOR], getArrayOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptColor', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptColorFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptUrl', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.URL], getArrayOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptUrlFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.URL], getArrayOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getArrayOptUrl', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptUrlFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getArrayOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptArrayFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayOptArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getOptDictFromArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayOptDict);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('len', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY], len);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getString', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getInteger', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getNumber', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getBoolean', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getUrl', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getColor', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getArray', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('getDict', [_const__WEBPACK_IMPORTED_MODULE_2__.ARRAY, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getArrayDict);
}

/***/ }),

/***/ "./src/expressions/funcs/colors.ts":
/*!*****************************************!*\
  !*** ./src/expressions/funcs/colors.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerColors: () => (/* binding */ registerColors)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");



function colorGetter(field) {
  return (_vars, color) => {
    const parsed = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.safeConvertColor)(color.value);
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER,
      value: parsed[field] / 255
    };
  };
}
function colorSetter(field) {
  return (_vars, color, val) => {
    const parsed = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.safeConvertColor)(color.value);
    parsed[field] = val.value * 255;
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.COLOR,
      value: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.stringifyColor)(parsed)
    };
  };
}
const getColorAlpha = colorGetter('a');
const getColorRed = colorGetter('r');
const getColorGreen = colorGetter('g');
const getColorBlue = colorGetter('b');
const setColorAlpha = colorSetter('a');
const setColorRed = colorSetter('r');
const setColorGreen = colorSetter('g');
const setColorBlue = colorSetter('b');
function rgb(_ctx, red, green, blue) {
  const parsed = {
    a: 255,
    r: red.value * 255,
    g: green.value * 255,
    b: blue.value * 255
  };
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.COLOR,
    value: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.stringifyColor)(parsed)
  };
}
function argb(_ctx, alpha, red, green, blue) {
  const parsed = {
    a: alpha.value * 255,
    r: red.value * 255,
    g: green.value * 255,
    b: blue.value * 255
  };
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.COLOR,
    value: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.stringifyColor)(parsed)
  };
}
function registerColors() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorAlpha', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING], getColorAlpha);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorAlpha', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR], getColorAlpha);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorRed', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING], getColorRed);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorRed', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR], getColorRed);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorGreen', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING], getColorGreen);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorGreen', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR], getColorGreen);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorBlue', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING], getColorBlue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorBlue', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR], getColorBlue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorAlpha', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorAlpha);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorAlpha', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorAlpha);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorRed', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorRed);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorRed', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorRed);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorGreen', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorGreen);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorGreen', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorGreen);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorBlue', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorBlue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('setColorBlue', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], setColorBlue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('rgb', [_const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], rgb);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('argb', [_const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER], argb);
}

/***/ }),

/***/ "./src/expressions/funcs/datetime.ts":
/*!*******************************************!*\
  !*** ./src/expressions/funcs/datetime.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerDatetime: () => (/* binding */ registerDatetime)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");




function getMaxDate(date) {
  const copy = new Date(date);
  copy.setUTCMonth(copy.getUTCMonth() + 1);
  copy.setUTCDate(0);
  return copy.getUTCDate();
}
function parseUnixTime(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: new Date(Number(arg.value) * 1000)
  };
}
function nowLocal() {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: new Date()
  };
}
function addMillis(_ctx, datetime, milliseconds) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: new Date(datetime.value.getTime() + Number(milliseconds.value))
  };
}
function setYear(_ctx, datetime, year) {
  const copy = new Date(datetime.value);
  copy.setUTCFullYear(Number(year.value));
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setMonth(_ctx, datetime, month) {
  const intVal = Number(month.value);
  if (intVal < 1 || intVal > 12) {
    throw new Error(`Expecting month in [1..12], instead got ${intVal}.`);
  }
  const copy = new Date(datetime.value);
  copy.setUTCMonth(intVal - 1);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setDay(_ctx, datetime, day) {
  const copy = new Date(datetime.value);
  const intVal = Number(day.value);
  if (intVal <= 0 && intVal !== -1 || intVal > getMaxDate(copy)) {
    throw new Error(`Unable to set day ${intVal} for date ${(0,_utils__WEBPACK_IMPORTED_MODULE_1__.valToString)(datetime)}.`);
  }
  copy.setUTCDate(intVal === -1 ? 0 : intVal);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setHours(_ctx, datetime, hours) {
  const intVal = Number(hours.value);
  if (intVal < 0 || intVal > 23) {
    throw new Error(`Expecting hours in [0..23], instead got ${intVal}.`);
  }
  const copy = new Date(datetime.value);
  copy.setUTCHours(intVal);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setMinutes(_ctx, datetime, minutes) {
  const intVal = Number(minutes.value);
  if (intVal < 0 || intVal > 59) {
    throw new Error(`Expecting minutes in [0..59], instead got ${intVal}.`);
  }
  const copy = new Date(datetime.value);
  copy.setUTCMinutes(intVal);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setSeconds(_ctx, datetime, seconds) {
  const intVal = Number(seconds.value);
  if (intVal < 0 || intVal > 59) {
    throw new Error(`Expecting seconds in [0..59], instead got ${intVal}.`);
  }
  const copy = new Date(datetime.value);
  copy.setUTCSeconds(intVal);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
function setMillis(_ctx, datetime, millis) {
  const intVal = Number(millis.value);
  if (intVal < 0 || intVal > 999) {
    throw new Error(`Expecting millis in [0..999], instead got ${intVal}.`);
  }
  const copy = new Date(datetime.value);
  copy.setUTCMilliseconds(intVal);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.DATETIME,
    value: copy
  };
}
const getter = method => {
  return (_ctx, datetime) => {
    const copy = new Date(datetime.value.getTime());
    let value = copy[method]();
    if (method === 'getUTCMonth') {
      ++value;
    } else if (method === 'getUTCDay' && value === 0) {
      value = 7;
    }
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
      value: (0,_bigint__WEBPACK_IMPORTED_MODULE_2__.toBigInt)(value)
    };
  };
};
const getYear = getter('getUTCFullYear');
const getMonth = getter('getUTCMonth');
const getDay = getter('getUTCDate');
const getDayOfWeek = getter('getUTCDay');
const getHours = getter('getUTCHours');
const getMinutes = getter('getUTCMinutes');
const getSeconds = getter('getUTCSeconds');
const getMillis = getter('getUTCMilliseconds');
function registerDatetime() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('parseUnixTime', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], parseUnixTime);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('nowLocal', [], nowLocal);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('addMillis', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], addMillis);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setYear', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setYear);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setMonth', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setMonth);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setDay', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setDay);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setHours', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setHours);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setMinutes', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setMinutes);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setSeconds', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setSeconds);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('setMillis', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], setMillis);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getYear', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getYear);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getMonth', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getMonth);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getDay', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getDay);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getDayOfWeek', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getDayOfWeek);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getHours', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getHours);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getMinutes', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getMinutes);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getSeconds', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getSeconds);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getMillis', [_const__WEBPACK_IMPORTED_MODULE_0__.DATETIME], getMillis);
}

/***/ }),

/***/ "./src/expressions/funcs/dict.ts":
/*!***************************************!*\
  !*** ./src/expressions/funcs/dict.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerDict: () => (/* binding */ registerDict)
/* harmony export */ });
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");



function getProp(obj, path) {
  let current = obj;
  for (let i = 0; i < path.length; ++i) {
    if (!current) {
      throw new Error(`Missing property "${path[i]}" in the dict.`);
    }
    const val = current[path[i]];
    if (val === undefined) {
      throw new Error(`Missing property "${path[i]}" in the dict.`);
    }
    current = val;
  }
  return current;
}
function dictGetter(evalType) {
  return (ctx, dict, ...path) => {
    if (path.length === 0) {
      throw new Error('Non empty argument list is required.');
    }
    const val = getProp(dict.value, path.map(it => it.value));
    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.convertJsValueToDivKit)(ctx, val, evalType);
  };
}
function optWrapper(func, fallbackType) {
  return (ctx, fallback, dict, ...path) => {
    try {
      return func(ctx, dict, ...path);
    } catch (_err) {
      // ignore error

      let value = fallback.value;
      if (fallbackType === 'color') {
        value = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.transformColorValue)(value);
      }
      return {
        type: fallbackType,
        value
      };
    }
  };
}
const getDictString = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.STRING);
const getDictNumber = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.NUMBER);
const getDictInteger = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.INTEGER);
const getDictBoolean = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN);
const getDictColor = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.COLOR);
const getDictUrl = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.URL);
const getDictArray = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.ARRAY);
const getDictDict = dictGetter(_const__WEBPACK_IMPORTED_MODULE_1__.DICT);
const getDictOptString = optWrapper(getDictString, _const__WEBPACK_IMPORTED_MODULE_1__.STRING);
const getDictOptNumber = optWrapper(getDictNumber, _const__WEBPACK_IMPORTED_MODULE_1__.NUMBER);
const getDictOptInteger = optWrapper(getDictInteger, _const__WEBPACK_IMPORTED_MODULE_1__.INTEGER);
const getDictOptBoolean = optWrapper(getDictBoolean, _const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN);
const getDictOptColor = optWrapper(getDictColor, _const__WEBPACK_IMPORTED_MODULE_1__.COLOR);
const getDictOptUrl = optWrapper(getDictUrl, _const__WEBPACK_IMPORTED_MODULE_1__.URL);
function getDictOptArray(ctx, dict, ...path) {
  try {
    return getDictArray(ctx, dict, ...path);
  } catch (_err) {
    // ignore error
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.ARRAY,
      value: []
    };
  }
}
function getDictOptDict(ctx, dict, ...path) {
  try {
    return getDictDict(ctx, dict, ...path);
  } catch (_err) {
    // ignore error
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_1__.DICT,
      value: {}
    };
  }
}
function registerDict() {
  const STRING_VARARG = {
    type: _const__WEBPACK_IMPORTED_MODULE_1__.STRING,
    isVararg: true
  };
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictString', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getStringFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictNumber', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getNumberFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictInteger', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getIntegerFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictBoolean', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getBooleanFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictColor', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getColorFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictUrl', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getUrlFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptString', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptStringFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptNumber', [_const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptNumberFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptInteger', [_const__WEBPACK_IMPORTED_MODULE_1__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptIntegerFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptBoolean', [_const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptBooleanFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.BOOLEAN, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptColor', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptColorFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.COLOR, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptColor', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptColorFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptUrl', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptUrlFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.STRING, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictOptUrl', [_const__WEBPACK_IMPORTED_MODULE_1__.URL, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptUrlFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.URL, _const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getDictFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictDict);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getArrayFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptArrayFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerFunc)('getOptDictFromDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictOptDict);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getString', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getBoolean', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getInteger', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getNumber', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getUrl', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getColor', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getArray', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictArray);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_2__.registerMethod)('getDict', [_const__WEBPACK_IMPORTED_MODULE_1__.DICT, STRING_VARARG], getDictDict);
}

/***/ }),

/***/ "./src/expressions/funcs/funcs.ts":
/*!****************************************!*\
  !*** ./src/expressions/funcs/funcs.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertArgs: () => (/* binding */ convertArgs),
/* harmony export */   findBestMatchedFunc: () => (/* binding */ findBestMatchedFunc),
/* harmony export */   funcByArgs: () => (/* binding */ funcByArgs),
/* harmony export */   funcs: () => (/* binding */ funcs),
/* harmony export */   methodByArgs: () => (/* binding */ methodByArgs),
/* harmony export */   methods: () => (/* binding */ methods),
/* harmony export */   registerFunc: () => (/* binding */ registerFunc),
/* harmony export */   registerMethod: () => (/* binding */ registerMethod)
/* harmony export */ });
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");


const funcs = new Map();
const funcByArgs = new Map();
const methods = new Map();
const methodByArgs = new Map();

// no args

// one specific arg

// two specific args

// three specific args

// any args

function registerFunc(name, args, cb) {
  const desc = {
    args,
    cb
  };
  const arr = funcs.get(name) || [];
  if (!funcs.has(name)) {
    funcs.set(name, arr);
  }
  arr.push(desc);
  const funcKey = name + ':' + args.map(it => {
    if (typeof it === 'object') {
      return it.type;
    }
    return it;
  }).join('#');
  funcByArgs.set(funcKey, desc);
}

// no args

// one specific arg

// two specific args

// three specific args

// any args

function registerMethod(name, args, cb) {
  const desc = {
    args,
    cb
  };
  const arr = methods.get(name) || [];
  if (!methods.has(name)) {
    methods.set(name, arr);
  }
  arr.push(desc);
  const funcKey = name + ':' + args.map(it => {
    if (typeof it === 'object') {
      return it.type;
    }
    return it;
  }).join('#');
  methodByArgs.set(funcKey, desc);
}
function matchFuncArgs(func, args) {
  const minArgs = func.args.length;
  let maxArgs = func.args.length;
  let conversions = 0;
  const lastArg = func.args[func.args.length - 1];
  if (typeof lastArg === 'object' && lastArg.isVararg) {
    maxArgs = Infinity;
  }
  if (args.length < minArgs) {
    return {
      type: 'few',
      expected: minArgs,
      found: args.length
    };
  } else if (args.length > maxArgs) {
    return {
      type: 'many',
      expected: maxArgs,
      found: args.length
    };
  }
  for (let i = 0; i < args.length; ++i) {
    let funcArg = i >= func.args.length ? func.args[func.args.length - 1] : func.args[i];
    if (typeof funcArg !== 'object') {
      funcArg = {
        type: funcArg
      };
    }
    if (funcArg.type === _const__WEBPACK_IMPORTED_MODULE_0__.NUMBER && args[i].type === _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER) {
      ++conversions;
      continue;
    }
    if (funcArg.type !== args[i].type) {
      return {
        type: 'mismatch',
        expected: funcArg.type,
        found: args[i].type
      };
    }
  }
  return {
    type: 'match',
    conversions
  };
}
function findBestMatchedFunc(type, funcName, args) {
  const list = (type === 'function' ? funcs : methods).get(funcName);
  if (!list) {
    return {
      type: 'missing'
    };
  }
  let firstError = null;
  let bestFunc = null;
  for (let i = 0; i < list.length; ++i) {
    const match = matchFuncArgs(list[i], args);
    if (match.type === 'match') {
      if (!bestFunc || bestFunc.conversions > match.conversions) {
        bestFunc = {
          func: list[i],
          conversions: match.conversions
        };
      }
      continue;
    }
    if (!firstError) {
      firstError = match;
    }
  }
  if (!bestFunc) {
    if (firstError) {
      return firstError;
    }
    throw new Error('Missing function');
  }
  return bestFunc;
}
function convertArgs(func, args) {
  return args.map((arg, i) => {
    let funcArg = i >= func.args.length ? func.args[func.args.length - 1] : func.args[i];
    if (typeof funcArg !== 'object') {
      funcArg = {
        type: funcArg
      };
    }
    if (funcArg.type === _const__WEBPACK_IMPORTED_MODULE_0__.NUMBER && arg.type === _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER) {
      return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.integerToNumber)(arg);
    }
    return arg;
  });
}

/***/ }),

/***/ "./src/expressions/funcs/index.ts":
/*!****************************************!*\
  !*** ./src/expressions/funcs/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   register: () => (/* binding */ register)
/* harmony export */ });
/* harmony import */ var _std__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./std */ "./src/expressions/funcs/std.ts");
/* harmony import */ var _datetime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./datetime */ "./src/expressions/funcs/datetime.ts");
/* harmony import */ var _strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./strings */ "./src/expressions/funcs/strings.ts");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./math */ "./src/expressions/funcs/math.ts");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./colors */ "./src/expressions/funcs/colors.ts");
/* harmony import */ var _interval__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./interval */ "./src/expressions/funcs/interval.ts");
/* harmony import */ var _dict__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dict */ "./src/expressions/funcs/dict.ts");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./array */ "./src/expressions/funcs/array.ts");
/* harmony import */ var _stored__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./stored */ "./src/expressions/funcs/stored.ts");









function register() {
  (0,_std__WEBPACK_IMPORTED_MODULE_0__.registerStd)();
  (0,_datetime__WEBPACK_IMPORTED_MODULE_1__.registerDatetime)();
  (0,_interval__WEBPACK_IMPORTED_MODULE_2__.registerInterval)();
  (0,_strings__WEBPACK_IMPORTED_MODULE_3__.registerStrings)();
  (0,_math__WEBPACK_IMPORTED_MODULE_4__.registerMath)();
  (0,_colors__WEBPACK_IMPORTED_MODULE_5__.registerColors)();
  (0,_dict__WEBPACK_IMPORTED_MODULE_6__.registerDict)();
  (0,_array__WEBPACK_IMPORTED_MODULE_7__.registerArray)();
  (0,_stored__WEBPACK_IMPORTED_MODULE_8__.registerStored)();
}

/***/ }),

/***/ "./src/expressions/funcs/interval.ts":
/*!*******************************************!*\
  !*** ./src/expressions/funcs/interval.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerInterval: () => (/* binding */ registerInterval)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");




function getDuration(ctx, milliseconds, delimiter, whole) {
  if (milliseconds.value < 0) {
    throw new Error('Expecting non-negative number of milliseconds.');
  }
  let val = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(milliseconds.value) / (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(delimiter);
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, val);
  if (typeof val === 'number') {
    val = Math.floor(val);
  }
  if (whole) {
    val = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(val) % (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(whole);
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: val
  };
}
const MS_IN_SECOND = 1000;
const SECONDS_IN_MINUTE = 60;
const MS_IN_MINUTE = 1000 * 60;
const MINUTES_IN_HOUR = 60;
const MS_IN_HOUR = 1000 * 60 * 60;
const HOURS_IN_DAY = 24;
const MS_IN_DAY = 1000 * 60 * 60 * 24;
const MS_IN_WEEK = 1000 * 60 * 60 * 24 * 7;
function getIntervalSeconds(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_SECOND, SECONDS_IN_MINUTE);
}
function getIntervalTotalSeconds(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_SECOND);
}
function getIntervalMinutes(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_MINUTE, MINUTES_IN_HOUR);
}
function getIntervalTotalMinutes(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_MINUTE);
}
function getIntervalHours(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_HOUR, HOURS_IN_DAY);
}
function getIntervalTotalHours(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_HOUR);
}
function getIntervalTotalDays(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_DAY);
}
function getIntervalTotalWeeks(ctx, milliseconds) {
  return getDuration(ctx, milliseconds, MS_IN_WEEK);
}
function registerInterval() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalSeconds', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalSeconds);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalTotalSeconds', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalTotalSeconds);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalMinutes', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalMinutes);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalTotalMinutes', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalTotalMinutes);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalHours', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalHours);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalTotalHours', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalTotalHours);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalTotalDays', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalTotalDays);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntervalTotalWeeks', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getIntervalTotalWeeks);
}

/***/ }),

/***/ "./src/expressions/funcs/math.ts":
/*!***************************************!*\
  !*** ./src/expressions/funcs/math.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerMath: () => (/* binding */ registerMath)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");




function divInteger(ctx, arg0, arg1) {
  if (arg1.value === _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero) {
    throw new Error('Division by zero is not supported.');
  }

  // bigint | number actually
  let res = arg0.value / arg1.value;
  res = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.roundInteger)(ctx, res);
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function divNumber(_ctx, arg0, arg1) {
  if (arg1.value === 0) {
    throw new Error('Division by zero is not supported.');
  }
  const res = arg0.value / arg1.value;
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function modInteger(ctx, arg0, arg1) {
  if (arg1.value === _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero) {
    throw new Error('Division by zero is not supported.');
  }

  // bigint | number actually
  let res = arg0.value % arg1.value;
  res = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.roundInteger)(ctx, res);
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function modNumber(_ctx, arg0, arg1) {
  if (arg1.value === 0) {
    throw new Error('Division by zero is not supported.');
  }
  const res = arg0.value % arg1.value;
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function mulInteger(ctx, ...args) {
  // number | bigint actually
  let res = args.length ? args[0].value : _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero;
  for (let i = 1; i < args.length; ++i) {
    res *= args[i].value;
    res = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.roundInteger)(ctx, res);
    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function mulNumber(_ctx, ...args) {
  let res = args.length ? args[0].value : 0;
  for (let i = 1; i < args.length; ++i) {
    res *= args[i].value;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function subInteger(ctx, ...args) {
  // number | bigint actually
  let res = args.length ? args[0].value : _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero;
  for (let i = 1; i < args.length; ++i) {
    res -= args[i].value;
    res = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.roundInteger)(ctx, res);
    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function subNumber(_ctx, ...args) {
  let res = args.length ? args[0].value : 0;
  for (let i = 1; i < args.length; ++i) {
    res -= args[i].value;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function sumInteger(ctx, ...args) {
  // number | bigint actually
  let res = _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero;
  for (let i = 0; i < args.length; ++i) {
    res += args[i].value;
    res = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.roundInteger)(ctx, res);
    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function sumNumber(_ctx, ...args) {
  let res = 0;
  for (let i = 0; i < args.length; ++i) {
    res += args[i].value;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function absInteger(ctx, arg) {
  const res = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.absBigInt)(arg.value);
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  return {
    type: arg.type,
    value: res
  };
}
function absNumber(_ctx, arg) {
  const res = Math.abs(arg.value);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function maxInt(_ctx, ...args) {
  if (!args.length) {
    throw new Error('Non empty argument list is required for function \'max\'.');
  }
  let max = args[0].value;
  for (let i = 1; i < args.length; ++i) {
    if (args[i].value > max) {
      max = args[i].value;
    }
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: max
  };
}
function maxNum(_ctx, ...args) {
  if (!args.length) {
    throw new Error('Non empty argument list is required for function \'max\'.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: Math.max(...args.map(arg => arg.value))
  };
}
function minInt(_ctx, ...args) {
  if (!args.length) {
    throw new Error('Non empty argument list is required for function \'min\'.');
  }
  let min = args[0].value;
  for (let i = 1; i < args.length; ++i) {
    if (args[i].value < min) {
      min = args[i].value;
    }
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: min
  };
}
function minNum(_ctx, ...args) {
  if (!args.length) {
    throw new Error('Non empty argument list is required for function \'min\'.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: Math.min(...args.map(arg => arg.value))
  };
}
function maxNumber() {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: _const__WEBPACK_IMPORTED_MODULE_2__.MAX_NUMBER
  };
}
function minNumber() {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: _const__WEBPACK_IMPORTED_MODULE_2__.MIN_NUMBER
  };
}
function maxInteger(ctx) {
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, _bigint__WEBPACK_IMPORTED_MODULE_0__.MAX_INT);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: _bigint__WEBPACK_IMPORTED_MODULE_0__.MAX_INT
  };
}
function minInteger(ctx) {
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, _bigint__WEBPACK_IMPORTED_MODULE_0__.MIN_INT);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: _bigint__WEBPACK_IMPORTED_MODULE_0__.MIN_INT
  };
}
function round(_ctx, arg) {
  const sign = Math.sign(arg.value);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    // js treats Math.round(-0.5) as 0, which is different to other platforms
    value: sign * Math.round(Math.abs(arg.value))
  };
}
function floor(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: Math.floor(arg.value)
  };
}
function ceil(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: Math.ceil(arg.value)
  };
}
function signumInteger(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.signBigInt)(arg.value)
  };
}
function signumNumber(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: Math.sign(arg.value)
  };
}
function copySignInteger(ctx, arg0, arg1) {
  let res;
  if (arg1.value === _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero) {
    res = arg0.value;
  } else if (arg0.value === _bigint__WEBPACK_IMPORTED_MODULE_0__.bigIntZero) {
    res = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(0);
  } else {
    const sign = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.signBigInt)(arg1.value);

    // number | bigint actually
    res = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.absBigInt)(arg0.value) * sign;
  }
  (0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIntegerOverflow)(ctx, res);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    value: res
  };
}
function copySignNumber(_ctx, arg0, arg1) {
  let sign = Math.sign(arg1.value);
  if (sign === 0) {
    sign = Object.is(sign, 0) ? 1 : -1;
  }
  const res = Math.abs(arg0.value) * sign;
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    value: res
  };
}
function registerMath() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('div', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], divInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('div', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], divNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('mod', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], modInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('mod', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], modNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('mul', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    isVararg: true
  }], mulInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('mul', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    isVararg: true
  }], mulNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('sub', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    isVararg: true
  }], subInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('sub', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    isVararg: true
  }], subNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('sum', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    isVararg: true
  }], sumInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('sum', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    isVararg: true
  }], sumNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('abs', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], absInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('abs', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], absNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('max', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    isVararg: true
  }], maxInt);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('max', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    isVararg: true
  }], maxNum);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('min', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER,
    isVararg: true
  }], minInt);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('min', [{
    type: _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER,
    isVararg: true
  }], minNum);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('maxNumber', [], maxNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('minNumber', [], minNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('maxInteger', [], maxInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('minInteger', [], minInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('round', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], round);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('floor', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], floor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('ceil', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], ceil);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('signum', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], signumInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('signum', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], signumNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('copySign', [_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], copySignInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('copySign', [_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], copySignNumber);
}

/***/ }),

/***/ "./src/expressions/funcs/std.ts":
/*!**************************************!*\
  !*** ./src/expressions/funcs/std.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerStd: () => (/* binding */ registerStd)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");




function toString(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.valToString)(arg)
  };
}
function toNumber(_ctx, arg) {
  const num = Number(arg.value);
  if (Number.isNaN(num) || !Number.isFinite(num)) {
    throw new Error('Unable to convert value to Number.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.NUMBER,
    value: num
  };
}
function toIntegerNumber(_ctx, arg) {
  if (arg.value > _bigint__WEBPACK_IMPORTED_MODULE_2__.MAX_INT || arg.value < _bigint__WEBPACK_IMPORTED_MODULE_2__.MIN_INT) {
    throw new Error('Unable to convert value to Integer.');
  }
  const num = arg.value - arg.value % 1;
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_2__.toBigInt)(num)
  };
}
function toIntegerString(_ctx, arg) {
  let num;
  try {
    num = (0,_bigint__WEBPACK_IMPORTED_MODULE_2__.toBigInt)(arg.value);
  } catch (err) {
    throw new Error('Unable to convert value to Integer.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: num
  };
}
function toIntegerBoolean(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_2__.toBigInt)(arg.value ? 1 : 0)
  };
}
function toBooleanInteger(_ctx, arg) {
  const intVal = Number(arg.value);
  if (intVal !== 1 && intVal !== 0) {
    throw new Error('Unable to convert value to Boolean.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN,
    value: intVal
  };
}
function toBooleanString(_ctx, arg) {
  if (arg.value !== 'true' && arg.value !== 'false') {
    throw new Error('Unable to convert value to Boolean.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN,
    value: arg.value === 'true' ? 1 : 0
  };
}
function toColor(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.COLOR,
    value: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.transformColorValue)(arg.value)
  };
}
function toUrl(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.URL,
    value: arg.value
  };
}
function encodeUri(_ctx, str) {
  try {
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
      value: encodeURIComponent(str.value)
    };
  } catch (_err) {
    throw new Error('Unable to encodeUri string.');
  }
}
function decodeUri(_ctx, str) {
  try {
    return {
      type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
      value: decodeURIComponent(str.value)
    };
  } catch (_err) {
    throw new Error('Unable to decodeUri string.');
  }
}
function getValueForced(ctx, varName, fallback, type) {
  const variable = ctx.variables.get(varName.value);
  let value;
  if (variable && variable.getType() === type) {
    value = variable.getValue();
  } else {
    value = fallback.value;
  }
  if (type === 'color') {
    value = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.transformColorValue)(value);
  }
  return {
    type,
    // value is synced with type by params
    value: value
  };
}
function getValue(ctx, varName, fallback) {
  return getValueForced(ctx, varName, fallback, fallback.type);
}
function getColorValue(ctx, varName, fallback) {
  return getValueForced(ctx, varName, fallback, 'color');
}
function getUrlValue(ctx, varName, fallback) {
  return getValueForced(ctx, varName, fallback, 'url');
}
function registerStd() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.NUMBER], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.COLOR], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.URL], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toNumber', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], toNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toNumber', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toInteger', [_const__WEBPACK_IMPORTED_MODULE_0__.NUMBER], toIntegerNumber);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toInteger', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toIntegerString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toInteger', [_const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN], toIntegerBoolean);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toBoolean', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], toBooleanInteger);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toBoolean', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toBooleanString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toColor', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toColor);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('toUrl', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toUrl);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('encodeUri', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], encodeUri);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('decodeUri', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], decodeUri);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getIntegerValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], getValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getNumberValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.NUMBER], getValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getBooleanValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN], getValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getStringValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], getValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getColorValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.COLOR], getColorValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getColorValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], getColorValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getUrlValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.URL], getUrlValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerFunc)('getUrlValue', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], getUrlValue);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.NUMBER], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.COLOR], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.URL], toString);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_3__.registerMethod)('toString', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toString);
}

/***/ }),

/***/ "./src/expressions/funcs/stored.ts":
/*!*****************************************!*\
  !*** ./src/expressions/funcs/stored.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getStored: () => (/* binding */ getStored),
/* harmony export */   registerStored: () => (/* binding */ registerStored)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");



function getStored(evalType) {
  return (ctx, name, fallback) => {
    if (!ctx.store) {
      return {
        type: evalType,
        value: fallback.value
      };
    }
    let expectedType;
    if (evalType === 'boolean') {
      expectedType = 'boolean';
    } else if (evalType === 'number' || evalType === 'integer') {
      expectedType = 'number';
    } else {
      expectedType = 'string';
    }
    const val = ctx.store.getValue(name.value, expectedType);
    if (val === undefined) {
      return {
        type: evalType,
        value: fallback.value
      };
    }
    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.convertJsValueToDivKit)(ctx, val, evalType);
  };
}
function registerStored() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredIntegerValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.INTEGER], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.INTEGER));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredNumberValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.NUMBER], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.NUMBER));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredStringValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.STRING));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredUrlValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.URL], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.URL));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredUrlValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.URL));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredColorValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.COLOR], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.COLOR));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredColorValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.STRING], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.COLOR));
  (0,_funcs__WEBPACK_IMPORTED_MODULE_1__.registerFunc)('getStoredBooleanValue', [_const__WEBPACK_IMPORTED_MODULE_2__.STRING, _const__WEBPACK_IMPORTED_MODULE_2__.BOOLEAN], getStored(_const__WEBPACK_IMPORTED_MODULE_2__.BOOLEAN));
}

/***/ }),

/***/ "./src/expressions/funcs/strings.ts":
/*!******************************************!*\
  !*** ./src/expressions/funcs/strings.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   registerStrings: () => (/* binding */ registerStrings)
/* harmony export */ });
/* harmony import */ var _funcs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./funcs */ "./src/expressions/funcs/funcs.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../const */ "./src/expressions/const.ts");
/* harmony import */ var _utils_escapeRegExp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/escapeRegExp */ "./src/utils/escapeRegExp.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./src/expressions/utils.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bigint */ "./src/expressions/bigint.ts");






function len(_ctx, arg) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(arg.value.length)
  };
}
function contains(_ctx, wholeStr, partStr) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN,
    value: wholeStr.value.includes(partStr.value) ? 1 : 0
  };
}
function substring(_ctx, str, start, end) {
  if (end.value < start.value) {
    throw new Error('Indexes should be in ascending order.');
  }
  if (start.value < 0 || start.value > str.value.length || end.value < 0 || end.value > str.value.length) {
    throw new Error('Indexes are out of bounds.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.substring(Number(start.value), Number(end.value))
  };
}
function replaceAll(_ctx, str, what, replacer) {
  let res;
  if (what.value) {
    res = str.value.replace(new RegExp((0,_utils_escapeRegExp__WEBPACK_IMPORTED_MODULE_2__.escapeRegExp)(what.value), 'g'), replacer.value);
  } else {
    // empty str
    res = str.value;
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: res
  };
}
function index(_ctx, str, what) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(str.value.indexOf(what.value))
  };
}
function lastIndex(_ctx, str, what) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER,
    value: (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(str.value.lastIndexOf(what.value))
  };
}
function trim(_ctx, str) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.trim()
  };
}
function trimLeft(_ctx, str) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.replace(/^\s+/, '')
  };
}
function trimRight(_ctx, str) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.replace(/\s+$/, '')
  };
}
function toUpperCase(_ctx, str) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.toUpperCase()
  };
}
function toLowerCase(_ctx, str) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: str.value.toLowerCase()
  };
}
function calcPad(ctx, val, len, pad) {
  if (!pad.value.length) {
    ctx.warnings.push((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_3__.wrapError)(new Error('String for padding is empty.'), {
      level: 'warn'
    }));
    return '';
  }
  let part = '';
  const str = val.type === _const__WEBPACK_IMPORTED_MODULE_0__.STRING ? val.value : (0,_utils__WEBPACK_IMPORTED_MODULE_4__.valToString)(val);
  while (part.length + str.length < len.value) {
    part += pad.value;
  }
  if (part.length > 0 && part.length + str.length > len.value) {
    part = part.substring(0, Number(len.value) - Number(str.length));
  }
  return part;
}
function padStart(ctx, val, len, pad) {
  const prefix = calcPad(ctx, val, len, pad);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: prefix + (0,_utils__WEBPACK_IMPORTED_MODULE_4__.valToString)(val)
  };
}
function padEnd(ctx, val, len, pad) {
  const suffix = calcPad(ctx, val, len, pad);
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.STRING,
    value: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.valToString)(val) + suffix
  };
}
function testRegex(_ctx, str, regex) {
  let re;
  try {
    re = new RegExp(regex.value);
  } catch (err) {
    throw new Error('Invalid regular expression.');
  }
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_0__.BOOLEAN,
    value: re.test(str.value) ? 1 : 0
  };
}
function registerStrings() {
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('len', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], len);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('contains', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], contains);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('substring', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER], substring);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('replaceAll', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], replaceAll);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('index', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], index);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('lastIndex', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], lastIndex);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('trim', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], trim);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('trimLeft', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], trimLeft);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('trimRight', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], trimRight);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('toUpperCase', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toUpperCase);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('toLowerCase', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING], toLowerCase);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('padStart', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], padStart);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('padStart', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], padStart);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('padEnd', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], padEnd);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('padEnd', [_const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.INTEGER, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], padEnd);
  (0,_funcs__WEBPACK_IMPORTED_MODULE_5__.registerFunc)('testRegex', [_const__WEBPACK_IMPORTED_MODULE_0__.STRING, _const__WEBPACK_IMPORTED_MODULE_0__.STRING], testRegex);
}

/***/ }),

/***/ "./src/expressions/globalVariablesController.ts":
/*!******************************************************!*\
  !*** ./src/expressions/globalVariablesController.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalVariablesController: () => (/* binding */ GlobalVariablesController),
/* harmony export */   createGlobalVariablesController: () => (/* binding */ createGlobalVariablesController),
/* harmony export */   getControllerStore: () => (/* binding */ getControllerStore),
/* harmony export */   getControllerVars: () => (/* binding */ getControllerVars)
/* harmony export */ });
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");

const controllerToStore = new Map();
const controllerToVars = new Map();
function getControllerStore(controller) {
  const store = controllerToStore.get(controller) || (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)('');
  if (!controllerToStore.has(controller)) {
    controllerToStore.set(controller, store);
  }
  return store;
}
function getControllerVars(controller) {
  const map = controllerToVars.get(controller) || new Map();
  if (!controllerToVars.has(controller)) {
    controllerToVars.set(controller, map);
  }
  return map;
}
class GlobalVariablesController {
  setVariable(variable) {
    const name = variable.getName();
    const vars = getControllerVars(this);
    if (vars.has(name)) {
      throw new Error('Variable with the same name already exist');
    } else {
      vars.set(name, variable);
      const store = getControllerStore(this);
      store.set(name);
    }
  }
  getVariable(variableName) {
    const vars = getControllerVars(this);
    return vars.get(variableName);
  }
  list() {
    const vars = getControllerVars(this);
    return vars.values();
  }
}
function createGlobalVariablesController() {
  return new GlobalVariablesController();
}

/***/ }),

/***/ "./src/expressions/json.ts":
/*!*********************************!*\
  !*** ./src/expressions/json.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   prepareVars: () => (/* binding */ prepareVars)
/* harmony export */ });
/* harmony import */ var _utils_uniq__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/uniq */ "./src/utils/uniq.ts");
/* harmony import */ var _expressions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./expressions */ "./src/expressions/expressions.js");
/* harmony import */ var _eval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eval */ "./src/expressions/eval.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/expressions/utils.ts");
/* harmony import */ var _utils_wrapError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./const */ "./src/expressions/const.ts");








class ExpressionBinding {
  constructor(ast) {
    this.ast = ast;
  }

  /**
   * Applies variables into ast
   * @param variables
   * @param logError
   */
  apply(variables, logError, store, keepComplex = false) {
    try {
      const res = (0,_eval__WEBPACK_IMPORTED_MODULE_0__.evalExpression)(variables, store, this.ast);
      res.warnings.forEach(logError);
      const result = res.result;
      if (result.type === 'error') {
        logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error('Expression execution error'), {
          additional: {
            message: result.value
          }
        }));
        return undefined;
      }
      const value = result.value;
      if (value instanceof Date) {
        return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.dateToString)(value);
      }
      if (result.type === 'boolean') {
        return Boolean(value);
      }
      if (result.type === 'color') {
        const parsed = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_3__.parseColor)(String(value));
        if (parsed) {
          return (0,_utils__WEBPACK_IMPORTED_MODULE_2__.stringifyColor)(parsed);
        }
        logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error('Expression execution error')));
      }
      if (result.type === 'integer') {
        if (value > _const__WEBPACK_IMPORTED_MODULE_4__.MAX_INT32 || value < _const__WEBPACK_IMPORTED_MODULE_4__.MIN_INT32) {
          logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error('Expression result is out of 32-bit int range')));
          return undefined;
        }
        return Number(value);
      }
      if (!keepComplex && (result.type === 'array' || result.type === 'dict')) {
        try {
          return JSON.stringify(value);
        } catch (err) {
          logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error(`Failed to stringify ${result.type}`)));
          return `<${result.type}>`;
        }
      }
      return value;
    } catch (err) {
      logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error('Expression execution error')));
      return undefined;
    }
  }
}
class VariableBinding {
  constructor(variable) {
    this.variable = variable;
  }

  /**
   * Applies variables into ast
   * @param variables
   * @param logError
   */
  apply(variables, logError) {
    const varInstance = variables.get(this.variable);
    if (varInstance) {
      return varInstance.getValue();
    }
    return undefined;
  }
}
function hasExpressions(str) {
  return str.indexOf('@{') > -1 || str.indexOf('\\') > -1;
}
function prepareVarsObj(jsonProp, store, logError) {
  if (jsonProp) {
    if (typeof jsonProp === 'string') {
      if (hasExpressions(jsonProp)) {
        store.hasExpression = true;
        if (true) {
          try {
            const ast = (0,_expressions__WEBPACK_IMPORTED_MODULE_5__.parse)(jsonProp, {
              startRule: 'JsonStringContents'
            });
            const propVars = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.gatherVarsFromAst)(ast);
            store.vars.push(...propVars);
            return new ExpressionBinding(ast);
          } catch (err) {
            logError((0,_utils_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(new Error('Unable to parse expression'), {
              additional: {
                expression: jsonProp
              }
            }));
            return undefined;
          }
        } else {}
      }
    } else if (Array.isArray(jsonProp)) {
      return jsonProp.map(item => prepareVarsObj(item, store, logError));
    } else if (typeof jsonProp === 'object') {
      const res = {};
      for (const key in jsonProp) {
        res[key] = prepareVarsObj(jsonProp[key], store, logError);
      }
      return res;
    }
  }
  return jsonProp;
}
function applyVars(jsonProp, variables, logError, store, keepComplex = false) {
  if (jsonProp) {
    if (( true) && jsonProp instanceof ExpressionBinding) {
      return jsonProp.apply(variables, logError, store, keepComplex);
    } else if (false) {} else if (Array.isArray(jsonProp)) {
      return jsonProp.map(it => applyVars(it, variables, logError, store));
    } else if (typeof jsonProp === 'object') {
      const res = {};
      for (const key in jsonProp) {
        res[key] = applyVars(jsonProp[key], variables, logError, store);
      }
      return res;
    }
  }
  return jsonProp;
}
function prepareVars(jsonProp, logError, store) {
  const result = {
    vars: [],
    hasExpression: false
  };
  const root = prepareVarsObj(jsonProp, result, logError);
  const vars = (0,_utils_uniq__WEBPACK_IMPORTED_MODULE_6__.uniq)(result.vars);
  return {
    vars,
    hasExpression: result.hasExpression,
    applyVars(variables, keepComplex) {
      return applyVars(root, variables, logError, store, keepComplex);
    }
  };
}

/***/ }),

/***/ "./src/expressions/utils.ts":
/*!**********************************!*\
  !*** ./src/expressions/utils.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   checkIntegerOverflow: () => (/* binding */ checkIntegerOverflow),
/* harmony export */   containsUnsetVariables: () => (/* binding */ containsUnsetVariables),
/* harmony export */   convertJsValueToDivKit: () => (/* binding */ convertJsValueToDivKit),
/* harmony export */   dateToString: () => (/* binding */ dateToString),
/* harmony export */   evalError: () => (/* binding */ evalError),
/* harmony export */   gatherVarsFromAst: () => (/* binding */ gatherVarsFromAst),
/* harmony export */   integerToNumber: () => (/* binding */ integerToNumber),
/* harmony export */   roundInteger: () => (/* binding */ roundInteger),
/* harmony export */   safeConvertColor: () => (/* binding */ safeConvertColor),
/* harmony export */   stringifyColor: () => (/* binding */ stringifyColor),
/* harmony export */   transformColorValue: () => (/* binding */ transformColorValue),
/* harmony export */   typeToString: () => (/* binding */ typeToString),
/* harmony export */   valToInternal: () => (/* binding */ valToInternal),
/* harmony export */   valToPreview: () => (/* binding */ valToPreview),
/* harmony export */   valToString: () => (/* binding */ valToString)
/* harmony export */ });
/* harmony import */ var _walk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./walk */ "./src/expressions/walk.ts");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _utils_padLeft__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/padLeft */ "./src/utils/padLeft.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bigint */ "./src/expressions/bigint.ts");
/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./const */ "./src/expressions/const.ts");





function valToInternal(val) {
  if (val.type === 'url' || val.type === 'color') {
    return {
      type: 'string',
      value: val.value
    };
  }
  return val;
}
function dateToString(date) {
  return date.toISOString().replace('T', ' ').replace(/\.\d{3}Z$/, '');
}
function valToString(val) {
  if (val.type === 'string') {
    return val.value;
  } else if (val.type === 'integer') {
    return String(val.value);
  } else if (val.type === 'number') {
    let res = String(val.value);
    if (!res.includes('.')) {
      if (res.includes('e')) {
        res = res.replace('e', '.0e');
      } else {
        res += '.0';
      }
    }
    res = res.replace(/e\+?/i, 'E');
    return res;
  } else if (val.type === 'boolean') {
    return val.value ? 'true' : 'false';
  } else if (val.type === 'datetime') {
    return dateToString(val.value);
  } else if (val.type === 'color') {
    return stringifyColor(safeConvertColor(val.value));
  } else if (val.type === 'url') {
    return val.value;
  } else if (val.type === 'dict') {
    return '<dict>';
  } else if (val.type === 'array') {
    return '<array>';
  }

  // For purpose when new eval value types will be added
  throw new Error(`Unexpected type ${val.type}`);
}
function valToPreview(val) {
  let res = valToString(val);
  if (val.type === 'string') {
    res = "'" + res.replace(/\\/g, '\\\\').replace(/'/g, '\\\'') + "'";
  }
  return res;
}
function typeToString(type) {
  if (type === 'datetime') {
    return 'DateTime';
  }
  return type.charAt(0).toUpperCase() + type.substring(1);
}
function roundInteger(ctx, val) {
  if (_bigint__WEBPACK_IMPORTED_MODULE_0__.hasBigInt) {
    return (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(val);
  }
  if (val < 0) {
    const res = -Math.floor(-val);
    if (res === 0) {
      // -0 => 0
      return 0;
    }
    return res;
  }
  return Math.floor(val);
}
function checkIntegerOverflow(ctx, val) {
  if (val < _bigint__WEBPACK_IMPORTED_MODULE_0__.MIN_INT || val > _bigint__WEBPACK_IMPORTED_MODULE_0__.MAX_INT) {
    throw new Error('Integer overflow.');
  }
  if (!_bigint__WEBPACK_IMPORTED_MODULE_0__.hasBigInt && (val > Number.MAX_SAFE_INTEGER || val < Number.MIN_SAFE_INTEGER)) {
    ctx.safeIntegerOverflow = true;
  }
}
function gatherVarsFromAst(ast) {
  const res = [];
  (0,_walk__WEBPACK_IMPORTED_MODULE_1__.walk)(ast, {
    Variable(node) {
      res.push(node.id.name);
    }
  });
  return res;
}
function evalError(msg, details) {
  throw new Error(`Failed to evaluate [${msg}]. ${details}`);
}
function containsUnsetVariables(ast, variables) {
  let result = false;
  (0,_walk__WEBPACK_IMPORTED_MODULE_1__.walk)(ast, {
    Variable(node) {
      if (!variables.has(node.id.name)) {
        result = true;
      }
    }
  });
  return result;
}
function safeConvertColor(color) {
  const res = (0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_2__.parseColor)(color);
  if (res) {
    return res;
  }
  throw new Error('Unable to convert value to Color, expected format #AARRGGBB.');
}
function stringifyColor(color) {
  return `#${[color.a, color.r, color.g, color.b].map(it => {
    if (it < 0 || it > 255) {
      throw new Error('Value out of range 0..1.');
    }
    return (0,_utils_padLeft__WEBPACK_IMPORTED_MODULE_3__.padLeft)(Math.round(it).toString(16), 2);
  }).join('').toUpperCase()}`;
}
function transformColorValue(color) {
  return stringifyColor(safeConvertColor(color));
}
function integerToNumber(integerValue) {
  return {
    type: _const__WEBPACK_IMPORTED_MODULE_4__.NUMBER,
    value: Number(integerValue.value)
  };
}
const EVAL_TYPE_TO_JS_TYPE = {
  string: 'string',
  number: 'number',
  integer: 'number',
  boolean: 'boolean',
  color: 'string',
  url: 'string',
  array: 'array',
  dict: 'object'
};
function convertJsValueToDivKit(ctx, val, evalType) {
  const jsType = EVAL_TYPE_TO_JS_TYPE[evalType];
  let type = typeof val;
  if (jsType === 'array' && !Array.isArray(val) || jsType !== 'array' && type !== jsType || type === 'object' && val === null) {
    if (type === 'object') {
      if (Array.isArray(val)) {
        type = 'array';
      } else if (val === null) {
        type = 'null';
      } else {
        type = 'dict';
      }
    }
    throw new Error(`Incorrect value type: expected "${evalType}", got "${type}".`);
  }
  if (jsType === 'number' && evalType === 'integer') {
    checkIntegerOverflow(ctx, val);
    try {
      val = (0,_bigint__WEBPACK_IMPORTED_MODULE_0__.toBigInt)(val);
    } catch (_err) {
      throw new Error('Cannot convert value to integer.');
    }
  }
  if (jsType === 'string' && evalType === 'color') {
    val = transformColorValue(val);
  }
  return {
    type: evalType,
    value: val
  };
}

/***/ }),

/***/ "./src/expressions/variable.ts":
/*!*************************************!*\
  !*** ./src/expressions/variable.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrayVariable: () => (/* binding */ ArrayVariable),
/* harmony export */   BooleanVariable: () => (/* binding */ BooleanVariable),
/* harmony export */   CONST_TYPE_TO_CLASS: () => (/* binding */ CONST_TYPE_TO_CLASS),
/* harmony export */   ColorVariable: () => (/* binding */ ColorVariable),
/* harmony export */   DictVariable: () => (/* binding */ DictVariable),
/* harmony export */   IntegerVariable: () => (/* binding */ IntegerVariable),
/* harmony export */   NumberVariable: () => (/* binding */ NumberVariable),
/* harmony export */   StringVariable: () => (/* binding */ StringVariable),
/* harmony export */   TYPE_TO_CLASS: () => (/* binding */ TYPE_TO_CLASS),
/* harmony export */   UrlVariable: () => (/* binding */ UrlVariable),
/* harmony export */   Variable: () => (/* binding */ Variable),
/* harmony export */   createConstVariable: () => (/* binding */ createConstVariable),
/* harmony export */   createVariable: () => (/* binding */ createVariable),
/* harmony export */   defaultValueByType: () => (/* binding */ defaultValueByType),
/* harmony export */   variableToValue: () => (/* binding */ variableToValue)
/* harmony export */ });
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _utils_correctColor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bigint */ "./src/expressions/bigint.ts");



class Variable {
  constructor(name, value) {
    const val = this.convertValue(value);
    this.name = name;
    this.value = val;
  }
  getName() {
    return this.name;
  }
  subscribe(cb) {
    if (!this.store) {
      this.store = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)(this.value);
    }
    return this.store.subscribe(cb);
  }
  set(val) {
    const value = this.fromString(val);
    this.setValue(value);
  }
  setValue(val) {
    const converted = this.convertValue(val);
    this.value = converted;
    if (this.store) {
      this.store.set(converted);
    }
  }
  getValue() {
    return this.value;
  }
}
class StringVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'string') {
      throw new Error('Incorrect variable value');
    }
    return value;
  }
  fromString(val) {
    return val;
  }
  getType() {
    return 'string';
  }
}
class IntegerVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'bigint' && typeof value !== 'number') {
      throw new Error('Incorrect variable value');
    }
    try {
      return (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(value);
    } catch (_err) {
      throw new Error('Incorrect variable value');
    }
  }
  fromString(val) {
    try {
      return (0,_bigint__WEBPACK_IMPORTED_MODULE_1__.toBigInt)(val);
    } catch (_err) {
      throw new Error('Incorrect variable value');
    }
  }
  getType() {
    return 'integer';
  }
}
class NumberVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'number' || Number.isNaN(value) || !isFinite(value)) {
      throw new Error('Incorrect variable value');
    }
    return value;
  }
  fromString(val) {
    const res = Number(val);
    return this.convertValue(res);
  }
  getType() {
    return 'number';
  }
}
class BooleanVariable extends Variable {
  convertValue(value) {
    if (value !== 1 && value !== 0 && value !== true && value !== false) {
      throw new Error('Incorrect variable value');
    }
    return Number(value);
  }
  fromString(val) {
    if (val === '1' || val === 'true') {
      return 1;
    } else if (val === '0' || val === 'false') {
      return 0;
    }
    throw new Error('Incorrect variable value');
  }
  getType() {
    return 'boolean';
  }
}
class ColorVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'string' || !(0,_utils_correctColor__WEBPACK_IMPORTED_MODULE_2__.parseColor)(value)) {
      throw new Error('Incorrect variable value');
    }

    // save input value, some expression tests rely on that
    return value;
  }
  fromString(val) {
    return this.convertValue(val);
  }
  getType() {
    return 'color';
  }
}
class UrlVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'string') {
      throw new Error('Incorrect variable value');
    }
    return value;
  }
  fromString(val) {
    return val;
  }
  getType() {
    return 'url';
  }
}
class DictVariable extends Variable {
  convertValue(value) {
    if (typeof value !== 'object' || !value) {
      throw new Error('Incorrect variable value');
    }
    return value;
  }
  fromString(_val) {
    throw new Error('Dict variable does not support setter from string');
  }
  getType() {
    return 'dict';
  }
}
class ArrayVariable extends Variable {
  convertValue(value) {
    if (!Array.isArray(value)) {
      throw new Error('Incorrect variable value');
    }
    return value;
  }
  fromString(_val) {
    throw new Error('Array variable does not support setter from string');
  }
  getType() {
    return 'array';
  }
}
const TYPE_TO_CLASS = {
  string: StringVariable,
  number: NumberVariable,
  integer: IntegerVariable,
  boolean: BooleanVariable,
  color: ColorVariable,
  url: UrlVariable,
  dict: DictVariable,
  array: ArrayVariable
};
function createVariable(name, type, value) {
  if (!(type in TYPE_TO_CLASS)) {
    throw new Error('Unsupported variable type');
  }
  return new TYPE_TO_CLASS[type](name, value);
}

// eslint-disable-next-line @typescript-eslint/no-empty-function
function noop() {}
function constSubscribe(cb) {
  cb(this.value);
  return noop;
}
function constSetter() {
  throw new Error('Cannot change the value of this type of variable');
}
class ConstStringVariable extends StringVariable {}
class ConstNumberVariable extends NumberVariable {}
class ConstIntegerVariable extends IntegerVariable {}
class ConstBooleanVariable extends BooleanVariable {}
class ConstColorVariable extends ColorVariable {}
class ConstUrlVariable extends UrlVariable {}
class ConstDictVariable extends DictVariable {}
class ConstArrayVariable extends ArrayVariable {}
const CONST_TYPE_TO_CLASS = {
  string: ConstStringVariable,
  number: ConstNumberVariable,
  integer: ConstIntegerVariable,
  boolean: ConstBooleanVariable,
  color: ConstColorVariable,
  url: ConstUrlVariable,
  dict: ConstDictVariable,
  array: ConstArrayVariable
};
for (const type in CONST_TYPE_TO_CLASS) {
  const Class = CONST_TYPE_TO_CLASS[type];
  Class.prototype.subscribe = constSubscribe;
  Class.prototype.set = constSetter;
  Class.prototype.setValue = constSetter;
}
function createConstVariable(name, type, value) {
  if (!(type in CONST_TYPE_TO_CLASS)) {
    throw new Error('Unsupported variable type');
  }
  return new CONST_TYPE_TO_CLASS[type](name, value);
}
function defaultValueByType(type) {
  if (type === 'integer') {
    return _bigint__WEBPACK_IMPORTED_MODULE_1__.bigIntZero;
  }
  if (type === 'boolean' || type === 'number') {
    return 0;
  }
  if (type === 'dict') {
    return {};
  }
  if (type === 'array') {
    return [];
  }
  return '';
}
function variableToValue(variable) {
  return {
    type: variable.getType(),
    value: variable.getValue()
  };
}

/***/ }),

/***/ "./src/expressions/walk.ts":
/*!*********************************!*\
  !*** ./src/expressions/walk.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   walk: () => (/* binding */ walk)
/* harmony export */ });
function walk(ast, visitors) {
  var _visitors$ast$type;
  (_visitors$ast$type = visitors[ast.type]) === null || _visitors$ast$type === void 0 ? void 0 : _visitors$ast$type.call(visitors, ast);
  switch (ast.type) {
    case 'TemplateLiteral':
      ast.expressions.forEach(item => {
        walk(item, visitors);
      });
      break;
    case 'BinaryExpression':
    case 'LogicalExpression':
      walk(ast.left, visitors);
      walk(ast.right, visitors);
      break;
    case 'UnaryExpression':
      walk(ast.argument, visitors);
      break;
    case 'ConditionalExpression':
      walk(ast.test, visitors);
      walk(ast.consequent, visitors);
      walk(ast.alternate, visitors);
      break;
    case 'TryExpression':
      walk(ast.test, visitors);
      walk(ast.alternate, visitors);
      break;
    case 'CallExpression':
      ast.arguments.forEach(item => {
        walk(item, visitors);
      });
      break;
  }
}

/***/ }),

/***/ "./src/stores/index.ts":
/*!*****************************!*\
  !*** ./src/stores/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   storesMap: () => (/* binding */ storesMap)
/* harmony export */ });
/* harmony import */ var _pagers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pagers */ "./src/stores/pagers.ts");

const storesMap = {
  pagers: _pagers__WEBPACK_IMPORTED_MODULE_0__.createPagersStore
};

/***/ }),

/***/ "./src/stores/pagers.ts":
/*!******************************!*\
  !*** ./src/stores/pagers.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createPagersStore: () => (/* binding */ createPagersStore)
/* harmony export */ });
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");

function createPagersStore() {
  return (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.writable)(new Map());
}

/***/ }),

/***/ "./src/use/devtool.ts":
/*!****************************!*\
  !*** ./src/use/devtool.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   devtool: () => (/* binding */ devtool)
/* harmony export */ });
function devtoolReal(node, rootCtx, componentContext) {
  var _rootCtx$componentDev;
  (_rootCtx$componentDev = rootCtx.componentDevtool) === null || _rootCtx$componentDev === void 0 ? void 0 : _rootCtx$componentDev.call(rootCtx, {
    type: 'mount',
    node,
    json: componentContext.json,
    origJson: componentContext.origJson,
    templateContext: componentContext.templateContext
  });
  return {
    update(componentContext) {
      var _rootCtx$componentDev2;
      (_rootCtx$componentDev2 = rootCtx.componentDevtool) === null || _rootCtx$componentDev2 === void 0 ? void 0 : _rootCtx$componentDev2.call(rootCtx, {
        type: 'update',
        node,
        json: componentContext.json,
        origJson: componentContext.origJson,
        templateContext: componentContext.templateContext
      });
    },
    destroy() {
      var _rootCtx$componentDev3;
      (_rootCtx$componentDev3 = rootCtx.componentDevtool) === null || _rootCtx$componentDev3 === void 0 ? void 0 : _rootCtx$componentDev3.call(rootCtx, {
        type: 'destroy',
        node,
        json: componentContext.json,
        origJson: componentContext.origJson,
        templateContext: componentContext.templateContext
      });
    }
  };
}
const devtool =  false ? 0 : undefined;

/***/ }),

/***/ "./src/use/visibilityAction.ts":
/*!*************************************!*\
  !*** ./src/use/visibilityAction.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   visibilityAction: () => (/* binding */ visibilityAction)
/* harmony export */ });
/* harmony import */ var svelte_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/store */ "./node_modules/svelte/src/runtime/store/index.js");
/* harmony import */ var _utils_url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/url */ "./src/utils/url.ts");
/* harmony import */ var _utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");



function checkPercentage(isVisibility, val, defaultVal) {
  if (typeof val === 'number') {
    if (isVisibility && val > 0 && val <= 100 || !isVisibility && val >= 0 && val < 100) {
      return val;
    }
  }
  return defaultVal;
}
function filterActions(it) {
  return it.is_enabled !== 0 && it.is_enabled !== false && it.index !== undefined;
}
function visibilityAction(node, {
  visibilityActions,
  disappearActions,
  rootCtx,
  componentContext
}) {
  const visibilityStatus = [];
  if (visibilityActions) {
    visibilityActions.forEach(it => {
      visibilityStatus.push({
        type: 'visibility',
        index: visibilityStatus.length,
        action: it,
        visible: false,
        count: 0,
        finished: false
      });
    });
  }
  if (disappearActions) {
    disappearActions.forEach(it => {
      visibilityStatus.push({
        type: 'disappear',
        index: visibilityStatus.length,
        action: it,
        // false, so disappear only works after the element becomes visible
        visible: false,
        count: 0,
        finished: false
      });
    });
  }
  const calcedList = visibilityStatus.map((it, index) => {
    const isVisibility = it.type === 'visibility';
    return componentContext.getDerivedFromVars({
      index,
      visibility_percentage: it.action.visibility_percentage,
      visibility_duration: isVisibility ? it.action.visibility_duration : it.action.disappear_duration,
      log_limit: it.action.log_limit,
      is_enabled: it.action.is_enabled
    });
  });
  let observer;
  const cleanup = () => {
    if (observer) {
      observer.disconnect();
    }
    visibilityStatus.forEach(status => {
      if (status.timer) {
        clearTimeout(status.timer);
      }
    });
  };
  const totalStore = (0,svelte_store__WEBPACK_IMPORTED_MODULE_0__.derived)(calcedList, values => values);
  let filtered;
  const callAction = status => {
    const isVisibility = status.type === 'visibility';
    const calcedAction = componentContext.getJsonWithVars(status.action);
    const actionUrl = calcedAction.url;
    const actionTyped = calcedAction.typed;
    if (actionUrl) {
      const schema = (0,_utils_url__WEBPACK_IMPORTED_MODULE_1__.getUrlSchema)(actionUrl);
      if (schema && !(0,_utils_url__WEBPACK_IMPORTED_MODULE_1__.isBuiltinSchema)(schema, rootCtx.getBuiltinProtocols())) {
        if (schema === 'div-action') {
          rootCtx.execAction(calcedAction);
        } else if (calcedAction.log_id) {
          rootCtx.execCustomAction(calcedAction);
        }
      }
    } else if (actionTyped) {
      rootCtx.execAction(calcedAction);
    }
    rootCtx.logStat(isVisibility ? 'visible' : 'disappear', calcedAction);
  };
  const unsubscribe = totalStore.subscribe(values => {
    filtered = values.filter(filterActions);
    const map = {};
    filtered.forEach(it => {
      map[it.index] = it;
    });
    cleanup();
    const thresholds = [...new Set(filtered.map(it => {
      const isVisibility = visibilityStatus[it.index].type === 'visibility';
      return checkPercentage(isVisibility, it.visibility_percentage, isVisibility ? 50 : 0) / 100;
    }))];
    if (!thresholds.length) {
      return;
    }
    const observerCallback = entries => {
      entries.forEach(entry => {
        filtered.forEach(calcedParams => {
          const status = visibilityStatus[calcedParams.index];
          const isVisibility = status.type === 'visibility';
          const percentage = checkPercentage(isVisibility, calcedParams.visibility_percentage, isVisibility ? 50 : 0);
          let nowVisible;
          if (percentage === 0) {
            nowVisible = entry.intersectionRatio >= 1e-12;
          } else {
            nowVisible = entry.intersectionRatio >= percentage / 100;
          }
          const shouldProc = isVisibility ? !status.visible && nowVisible : status.visible && !nowVisible;
          const shouldClear = isVisibility ? !nowVisible : nowVisible;
          if (shouldProc) {
            if (!status.finished) {
              status.timer = setTimeout(() => {
                ++status.count;
                const limit = calcedParams.log_limit === 0 ? Infinity : calcedParams.log_limit || 1;
                if (++status.count >= limit) {
                  status.finished = true;
                }
                callAction(status);
              }, (0,_utils_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_2__.correctNonNegativeNumber)(calcedParams.visibility_duration, 800));
            }
          } else if (shouldClear) {
            if (status.timer) {
              clearTimeout(status.timer);
            }
          }
          status.visible = nowVisible;
        });
      });
    };
    observer = new IntersectionObserver(observerCallback, {
      threshold: thresholds
    });
    observer.observe(node);
  });
  return {
    destroy() {
      var _filtered;
      (_filtered = filtered) === null || _filtered === void 0 ? void 0 : _filtered.forEach(calcedAction => {
        const status = visibilityStatus[calcedAction.index];
        if (!status || status.type !== 'disappear' || !status.visible || status.finished) {
          return;
        }
        rootCtx.registerTimeout(window.setTimeout(() => {
          callAction(status);
        }, calcedAction.visibility_duration));
      });
      cleanup();
      unsubscribe();
    }
  };
}

/***/ }),

/***/ "./src/utils/applyTemplate.ts":
/*!************************************!*\
  !*** ./src/utils/applyTemplate.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   applyTemplate: () => (/* binding */ applyTemplate)
/* harmony export */ });
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wrapError */ "./src/utils/wrapError.ts");

function applyTemplate(json, templateContext, templates, logError) {
  const template = templates[json.type];
  if (!template) {
    logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('No such template'), {
      additional: {
        template: json.type
      }
    }));
    return {
      json,
      templateContext
    };
  }
  let i;
  const newContext = {};
  for (i in templateContext) {
    if (templateContext.hasOwnProperty(i)) {
      newContext[i] = templateContext[i];
    }
  }
  for (i in json) {
    if (i === 'type' || i === '__proto__') {
      continue;
    }
    if (json.hasOwnProperty(i)) {
      newContext[i] = json[i];
    }
  }
  function copyTemplated(base, extender) {
    const keys = Object.keys(extender).filter(key => key !== '__proto__');
    const simpleKeys = keys.filter(key => key.charAt(0) !== '$');
    const templateKeys = keys.filter(key => key.charAt(0) === '$');
    simpleKeys.forEach(key => {
      const item = extender[key];
      if (typeof item === 'object' && item !== null) {
        base[key] = Array.isArray(item) ? [] : {};
        copyTemplated(base[key], item);
      } else {
        base[key] = item;
      }
    });
    templateKeys.forEach(key => {
      const item = extender[key];
      const val = newContext[item];
      if (val !== undefined) {
        const prop = key.substring(1);
        base[prop] = val;
      }
    });
    return base;
  }
  const newJson = copyTemplated({}, template);
  for (i in json) {
    if (i === 'type' || i === '__proto__') {
      continue;
    }
    if (json.hasOwnProperty(i)) {
      newJson[i] = json[i];
    }
  }
  return {
    json: newJson,
    templateContext: newContext
  };
}

/***/ }),

/***/ "./src/utils/assignIfDifferent.ts":
/*!****************************************!*\
  !*** ./src/utils/assignIfDifferent.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   assignIfDifferent: () => (/* binding */ assignIfDifferent)
/* harmony export */ });
/* harmony import */ var _isDeepEqual__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isDeepEqual */ "./src/utils/isDeepEqual.ts");

function assignIfDifferent(newVal, defaultVal) {
  if ((0,_isDeepEqual__WEBPACK_IMPORTED_MODULE_0__.isDeepEqual)(newVal, defaultVal)) {
    return defaultVal;
  }
  return newVal;
}

/***/ }),

/***/ "./src/utils/background.ts":
/*!*********************************!*\
  !*** ./src/utils/background.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getBackground: () => (/* binding */ getBackground),
/* harmony export */   imagePos: () => (/* binding */ imagePos),
/* harmony export */   imageSize: () => (/* binding */ imageSize)
/* harmony export */ });
/* harmony import */ var _correctColor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _htmlFilter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./htmlFilter */ "./src/utils/htmlFilter.ts");
/* harmony import */ var _truthy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./truthy */ "./src/utils/truthy.ts");
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");




function getBackground(bgs) {
  if (bgs.length === 1 && bgs[0].type === 'solid') {
    return solidUnique({
      bg: bgs[0]
    });
  }
  const res = bgs.map(bg => {
    if (bg.type === 'solid') {
      return solid({
        bg
      });
    } else if (bg.type === 'gradient') {
      return gradient({
        bg
      });
    } else if (bg.type === 'image') {
      return image({
        bg
      });
    } else if (bg.type === 'radial_gradient') {
      return radial({
        bg
      });
    }
  }).filter(_truthy__WEBPACK_IMPORTED_MODULE_0__.Truthy).reverse().reduce(function (acc, item) {
    acc.image.push(item.image);
    acc.size.push(item.size || 'auto');
    acc.position.push(item.pos || '50% 50%');
    return acc;
  }, {
    image: [],
    size: [],
    position: []
  });
  return {
    image: res.image.join(','),
    size: res.size.join(','),
    position: res.position.join(',')
  };
}
function solid(opts) {
  const color = (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(opts.bg.color || 'transparent');
  return {
    size: undefined,
    pos: undefined,
    image: `linear-gradient(to bottom,${color},${color})`
  };
}
function solidUnique(opts) {
  const color = (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(opts.bg.color || 'transparent');
  return {
    color,
    size: 'auto',
    position: '50% 50%'
  };
}
function gradient(opts) {
  var _opts$bg;
  if (!Array.isArray((_opts$bg = opts.bg) === null || _opts$bg === void 0 ? void 0 : _opts$bg.colors)) {
    return;
  }
  const colors = opts.bg.colors.filter(_truthy__WEBPACK_IMPORTED_MODULE_0__.Truthy);
  if (!colors.length) {
    return;
  }
  return {
    size: undefined,
    pos: undefined,
    image: 'linear-gradient(' + (90 - Number(opts.bg.angle || 0) + 'deg') + ',' + colors.map(color => (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(color)).join(',') + ')'
  };
}
const RELATIVE_SIZE_MAP = {
  nearest_corner: 'closest-corner',
  farthest_corner: 'farthest-corner',
  nearest_side: 'closest-side',
  farthest_side: 'farthest-side'
};
function radialCenterToCss(center) {
  if (center && typeof center === 'object' && 'type' in center && center.value !== undefined) {
    if (center.type === 'fixed') {
      return (0,_pxToEm__WEBPACK_IMPORTED_MODULE_2__.pxToEmWithUnits)(center.value);
    } else if (center.type === 'relative') {
      return `${Number(center.value) * 100}%`;
    }
  }
  return '50%';
}
function radial(opts) {
  var _opts$bg2;
  if (!Array.isArray((_opts$bg2 = opts.bg) === null || _opts$bg2 === void 0 ? void 0 : _opts$bg2.colors)) {
    return;
  }
  const colors = opts.bg.colors.filter(_truthy__WEBPACK_IMPORTED_MODULE_0__.Truthy);
  if (!colors.length) {
    return;
  }
  const sizeVal = opts.bg.radius;
  let size;
  if (sizeVal && typeof sizeVal === 'object' && 'type' in sizeVal && sizeVal.value !== undefined) {
    if (sizeVal.type === 'fixed') {
      size = (0,_pxToEm__WEBPACK_IMPORTED_MODULE_2__.pxToEmWithUnits)(sizeVal.value);
    } else if (sizeVal.type === 'relative') {
      size = RELATIVE_SIZE_MAP[sizeVal.value];
    }
  }
  const centerX = radialCenterToCss(opts.bg.center_x);
  const centerY = radialCenterToCss(opts.bg.center_y);
  return {
    size: undefined,
    pos: undefined,
    image: 'radial-gradient(' + `circle ${size || 'farthest-corner'} at ${centerX} ${centerY}` + ',' + colors.map(color => (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(color)).join(',') + ')'
  };
}
function image(opts) {
  var _opts$bg3;
  const image = (_opts$bg3 = opts.bg) === null || _opts$bg3 === void 0 ? void 0 : _opts$bg3.image_url;
  if (!image) {
    return;
  }
  return {
    size: imageSize(opts.bg.scale),
    pos: imagePos(opts.bg),
    image: 'url("' + (0,_htmlFilter__WEBPACK_IMPORTED_MODULE_3__.htmlFilter)(image) + '")'
  };
}
function imageSize(scale) {
  if (scale === 'fit') {
    return 'contain';
  } else if (scale === 'stretch') {
    return 'fill';
  } else if (scale === 'no_scale') {
    return 'none';
  }

  // 'fill' and default
  return 'cover';
}
function imagePos(obj) {
  let hpos;
  let vpos;
  if (obj.content_alignment_horizontal === 'left') {
    hpos = '0%';
  } else if (obj.content_alignment_horizontal === 'right') {
    hpos = '100%';
  } else {
    hpos = '50%';
  }
  if (obj.content_alignment_vertical === 'top') {
    vpos = '0%';
  } else if (obj.content_alignment_vertical === 'bottom') {
    vpos = '100%';
  } else {
    vpos = '50%';
  }
  return hpos + ' ' + vpos;
}

/***/ }),

/***/ "./src/utils/borderRadius.ts":
/*!***********************************!*\
  !*** ./src/utils/borderRadius.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   borderRadius: () => (/* binding */ borderRadius)
/* harmony export */ });
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");

function borderRadius(cornersRadius, defaultRadius = 0, fontSize = 10) {
  return [cornersRadius['top-left'], cornersRadius['top-right'], cornersRadius['bottom-right'], cornersRadius['bottom-left']].map(it => (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)((it || defaultRadius) / fontSize * 10)).join(' ');
}

/***/ }),

/***/ "./src/utils/clamp.ts":
/*!****************************!*\
  !*** ./src/utils/clamp.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clamp: () => (/* binding */ clamp)
/* harmony export */ });
function clamp(val, min, max) {
  return Math.max(min, Math.min(max, Number(val)));
}

/***/ }),

/***/ "./src/utils/constStore.ts":
/*!*********************************!*\
  !*** ./src/utils/constStore.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   constStore: () => (/* binding */ constStore),
/* harmony export */   constUndefStore: () => (/* binding */ constUndefStore)
/* harmony export */ });
// eslint-disable-next-line @typescript-eslint/no-empty-function
function voidUnsubscribe() {}
function constStore(val) {
  return {
    subscribe(cb) {
      cb(val);
      return voidUnsubscribe;
    }
  };
}
const constUndefStore = constStore(undefined);

/***/ }),

/***/ "./src/utils/container.ts":
/*!********************************!*\
  !*** ./src/utils/container.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcAdditionalPaddings: () => (/* binding */ calcAdditionalPaddings),
/* harmony export */   calcItemsGap: () => (/* binding */ calcItemsGap),
/* harmony export */   hasKnownHeightCheck: () => (/* binding */ hasKnownHeightCheck),
/* harmony export */   hasKnownWidthCheck: () => (/* binding */ hasKnownWidthCheck),
/* harmony export */   prepareMargins: () => (/* binding */ prepareMargins)
/* harmony export */ });
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");

function prepareMargins(margins) {
  return {
    top: Number(margins === null || margins === void 0 ? void 0 : margins.top) || 0,
    right: Number(margins === null || margins === void 0 ? void 0 : margins.right) || 0,
    bottom: Number(margins === null || margins === void 0 ? void 0 : margins.bottom) || 0,
    left: Number(margins === null || margins === void 0 ? void 0 : margins.left) || 0
  };
}
function setAdditionalPadding(insets, separator, crossAxis) {
  const hMargin = ((separator === null || separator === void 0 ? void 0 : separator.margins.left) || 0) + ((separator === null || separator === void 0 ? void 0 : separator.margins.right) || 0);
  const vMargin = ((separator === null || separator === void 0 ? void 0 : separator.margins.top) || 0) + ((separator === null || separator === void 0 ? void 0 : separator.margins.bottom) || 0);
  if (separator !== null && separator !== void 0 && separator.show_at_start) {
    if (crossAxis) {
      insets.top = separator.style.height + vMargin;
    } else {
      insets.left = separator.style.width + hMargin;
    }
  }
  if (separator !== null && separator !== void 0 && separator.show_at_end) {
    if (crossAxis) {
      insets.bottom = separator.style.height + vMargin;
    } else {
      insets.right = separator.style.width + hMargin;
    }
  }
}
function calcAdditionalPaddings(orientation, separator, lineSeparator) {
  const res = {};
  setAdditionalPadding(res, separator, orientation === 'vertical');
  setAdditionalPadding(res, lineSeparator, orientation === 'horizontal');
  return res;
}
function calcItemsGap(orientation, separator, lineSeparator) {
  let vals;
  const separatorHMargins = ((separator === null || separator === void 0 ? void 0 : separator.margins.left) || 0) + ((separator === null || separator === void 0 ? void 0 : separator.margins.right) || 0);
  const separatorVMargins = ((separator === null || separator === void 0 ? void 0 : separator.margins.top) || 0) + ((separator === null || separator === void 0 ? void 0 : separator.margins.bottom) || 0);
  const lineSeparatorHMargins = ((lineSeparator === null || lineSeparator === void 0 ? void 0 : lineSeparator.margins.left) || 0) + ((lineSeparator === null || lineSeparator === void 0 ? void 0 : lineSeparator.margins.right) || 0);
  const lineSeparatorVMargins = ((lineSeparator === null || lineSeparator === void 0 ? void 0 : lineSeparator.margins.top) || 0) + ((lineSeparator === null || lineSeparator === void 0 ? void 0 : lineSeparator.margins.bottom) || 0);
  if (orientation === 'horizontal') {
    vals = [lineSeparator !== null && lineSeparator !== void 0 && lineSeparator.show_between ? lineSeparator.style.height + lineSeparatorVMargins : 0, separator !== null && separator !== void 0 && separator.show_between ? separator.style.width + separatorHMargins : 0];
  } else {
    vals = [separator !== null && separator !== void 0 && separator.show_between ? separator.style.height + separatorVMargins : 0, lineSeparator !== null && lineSeparator !== void 0 && lineSeparator.show_between ? lineSeparator.style.width + lineSeparatorHMargins : 0];
  }
  return vals.map(_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm).join(' ');
}
function hasKnownWidthCheck(item) {
  var _item$width;
  const type = (_item$width = item.width) === null || _item$width === void 0 ? void 0 : _item$width.type;
  return type === 'wrap_content' || type === 'fixed';
}
function hasKnownHeightCheck(item) {
  var _item$height;
  const type = (_item$height = item.height) === null || _item$height === void 0 ? void 0 : _item$height.type;
  return type !== 'match_parent';
}

/***/ }),

/***/ "./src/utils/contenteditable.ts":
/*!**************************************!*\
  !*** ./src/utils/contenteditable.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcSelectionOffset: () => (/* binding */ calcSelectionOffset),
/* harmony export */   setSelectionOffset: () => (/* binding */ setSelectionOffset)
/* harmony export */ });
const STRING_NODE_TYPE = 3;
function countNodeChars(node) {
  const text = node.textContent;
  let res = 0;
  if (typeof text === 'string') {
    res += text.length;
    if (node instanceof HTMLElement && (node.tagName === 'DIV' || node.tagName === 'BR')) {
      ++res;
    }
  }
  return res;
}
function calcSelectionOffset(container) {
  try {
    let res = 0;
    const sel = window.getSelection();
    if (!sel) {
      return 0;
    }
    const range = sel.getRangeAt(0);
    let node;
    if (range) {
      if (!range.collapsed) {
        return 0;
      }
      res += range.endOffset;
      node = range.endContainer;
    }
    if (node instanceof HTMLElement) {
      let sum = 0;
      for (let i = 0, len = Math.min(res, node.childNodes.length); i < len; ++i) {
        sum += countNodeChars(node.childNodes[i]);
      }
      res = sum;
    }
    while (node && node !== container) {
      var _parent$childNodes;
      const parent = node.parentNode;
      if (!parent) {
        return 0;
      }
      const index = Array.from(parent.childNodes).indexOf(node);
      for (let i = 0; i < index; ++i) {
        const child = parent.childNodes[i];
        res += countNodeChars(child);
      }
      if (node instanceof HTMLElement && (node.tagName === 'DIV' && ((_parent$childNodes = parent.childNodes[index - 1]) === null || _parent$childNodes === void 0 ? void 0 : _parent$childNodes.nodeType) === STRING_NODE_TYPE || node.tagName === 'BR')) {
        ++res;
      }
      node = parent;
    }
    return res;
  } catch (err) {
    return 0;
  }
}
function setSelectionOffset(node, offset) {
  if (node.nodeType === STRING_NODE_TYPE) {
    try {
      const sel = window.getSelection();
      if (sel) {
        sel.removeAllRanges();
        const range = document.createRange();
        range.setStart(node, offset);
        range.setEnd(node, offset);
        sel.addRange(range);
      }
    } catch (err) {}
    return;
  }
  if (node instanceof HTMLElement && node.tagName === 'BR') {
    try {
      const sel = window.getSelection();
      if (sel) {
        sel.removeAllRanges();
        const range = document.createRange();
        const parent = node.parentNode;
        const index = Array.from(parent.childNodes).indexOf(node) + 1;
        range.setStart(parent, index);
        range.setEnd(parent, index);
        sel.addRange(range);
      }
    } catch (err) {}
    return;
  }
  for (let i = 0, len = node.childNodes.length; i < len; ++i) {
    const child = node.childNodes[i];
    const count = countNodeChars(child);
    if (offset <= count) {
      setSelectionOffset(child, offset);
      return;
    }
    offset -= count;
  }
}

/***/ }),

/***/ "./src/utils/correctAlignment.ts":
/*!***************************************!*\
  !*** ./src/utils/correctAlignment.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctAlignment: () => (/* binding */ correctAlignment)
/* harmony export */ });
function correctAlignment(orientation, defaultVal) {
  if (orientation === 'start' || orientation === 'center' || orientation === 'end') {
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctAlignmentHorizontal.ts":
/*!*************************************************!*\
  !*** ./src/utils/correctAlignmentHorizontal.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctAlignmentHorizontal: () => (/* binding */ correctAlignmentHorizontal)
/* harmony export */ });
function correctAlignmentHorizontal(orientation, direction, defaultVal) {
  if (orientation === 'left' || orientation === 'center' || orientation === 'right' || orientation === 'start' || orientation === 'end') {
    if (orientation === 'left') {
      return direction === 'ltr' ? 'start' : 'end';
    } else if (orientation === 'right') {
      return direction === 'ltr' ? 'end' : 'start';
    }
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctAlignmentVertical.ts":
/*!***********************************************!*\
  !*** ./src/utils/correctAlignmentVertical.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctAlignmentVertical: () => (/* binding */ correctAlignmentVertical)
/* harmony export */ });
function correctAlignmentVertical(orientation, defaultVal) {
  if (orientation === 'top' || orientation === 'center' || orientation === 'bottom' || orientation === 'baseline') {
    if (orientation === 'top') {
      return 'start';
    } else if (orientation === 'bottom') {
      return 'end';
    }
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctAlpha.ts":
/*!***********************************!*\
  !*** ./src/utils/correctAlpha.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctAlpha: () => (/* binding */ correctAlpha)
/* harmony export */ });
/* harmony import */ var _isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");

function correctAlpha(val, defaultVal) {
  if (!(0,_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.isNonNegativeNumber)(val) || val === undefined || val > 1) {
    return defaultVal;
  }
  return Number(val);
}

/***/ }),

/***/ "./src/utils/correctBooleanInt.ts":
/*!****************************************!*\
  !*** ./src/utils/correctBooleanInt.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctBooleanInt: () => (/* binding */ correctBooleanInt)
/* harmony export */ });
function correctBooleanInt(val, defaultVal) {
  if (val === 1 || val === 0 || val === false || val === true) {
    return Boolean(val);
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctBorderRadius.ts":
/*!******************************************!*\
  !*** ./src/utils/correctBorderRadius.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctBorderRadius: () => (/* binding */ correctBorderRadius)
/* harmony export */ });
/* harmony import */ var _borderRadius__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./borderRadius */ "./src/utils/borderRadius.ts");
/* harmony import */ var _isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");


function correctBorderRadius(cornersRadius, defaultRadius, fontSize, defaultVal) {
  const list = [cornersRadius['top-left'], cornersRadius['top-right'], cornersRadius['bottom-right'], cornersRadius['bottom-left']];
  for (let i = 0; i < list.length; ++i) {
    if (list[i] && !(0,_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.isNonNegativeNumber)(list[i])) {
      return defaultVal;
    }
  }
  return (0,_borderRadius__WEBPACK_IMPORTED_MODULE_1__.borderRadius)(cornersRadius, defaultRadius, fontSize);
}

/***/ }),

/***/ "./src/utils/correctBorderRadiusObject.ts":
/*!************************************************!*\
  !*** ./src/utils/correctBorderRadiusObject.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctBorderRadiusObject: () => (/* binding */ correctBorderRadiusObject)
/* harmony export */ });
/* harmony import */ var _isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");

function correctBorderRadiusObject(cornersRadius, defaultVal) {
  const list = [cornersRadius['top-left'], cornersRadius['top-right'], cornersRadius['bottom-right'], cornersRadius['bottom-left']];
  for (let i = 0; i < list.length; ++i) {
    if (list[i] && !(0,_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.isNonNegativeNumber)(list[i])) {
      return defaultVal;
    }
  }
  return cornersRadius;
}

/***/ }),

/***/ "./src/utils/correctCSSInterpolator.ts":
/*!*********************************************!*\
  !*** ./src/utils/correctCSSInterpolator.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctCSSInterpolator: () => (/* binding */ correctCSSInterpolator)
/* harmony export */ });
function correctCSSInterpolator(interpolator, defaultVal) {
  if (interpolator === 'linear' || interpolator === 'ease' || interpolator === 'ease_in_out' || interpolator === 'ease_in' || interpolator === 'ease_out') {
    return interpolator;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctColor.ts":
/*!***********************************!*\
  !*** ./src/utils/correctColor.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctColor: () => (/* binding */ correctColor),
/* harmony export */   parseColor: () => (/* binding */ parseColor)
/* harmony export */ });
/* harmony import */ var _padLeft__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./padLeft */ "./src/utils/padLeft.ts");


/**
 * Converts color from app format (ARGB) to css format (RGBA)
 * @param color Color with format #RGB, #ARGB, #RRGGBB, #AARRGGBB
 * @param alpha Color additional opacity
 * @param defaultColor Default color value, used if input color is incorrect
 * @returns Color with opacity if it has correct format, or defaultColor elsewhere
 */
function correctColor(color, alpha = 1, defaultColor = 'transparent') {
  color = (typeof color === 'string' && color || '').toLowerCase();
  if (color.charAt(0) !== '#') {
    return defaultColor;
  }
  const parsedColor = parseColor(color);
  if (parsedColor) {
    parsedColor.a *= alpha;
    return stringifyColorToCss(parsedColor);
  }
  return defaultColor;
}
function stringifyColorToCss(color) {
  if (color.a === 255) {
    return `#${[color.r, color.g, color.b].map(it => {
      return (0,_padLeft__WEBPACK_IMPORTED_MODULE_0__.padLeft)(Math.round(it).toString(16), 2);
    }).join('')}`;
  }
  return `rgba(${color.r},${color.g},${color.b},${(color.a / 255).toFixed(2)})`;
}
function parseColor(color) {
  const colorMatch =
  // #AARRGGBB
  color.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i) ||
  // #ARGB
  color.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i) ||
  // #RRGGBB
  color.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i) ||
  // #RGB
  color.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);
  if (colorMatch) {
    // with alpha part in color
    if (colorMatch.length === 5) {
      const [_, a, r, g, b] = colorMatch;
      const redPart = r.length === 2 ? r : r + r;
      const greenPart = g.length === 2 ? g : g + g;
      const bluePart = b.length === 2 ? b : b + b;
      const alphaPart = a.length === 2 ? a : a + a;
      return {
        a: parseInt(alphaPart, 16),
        r: parseInt(redPart, 16),
        g: parseInt(greenPart, 16),
        b: parseInt(bluePart, 16)
      };
    }
    const [_, r, g, b] = colorMatch;
    const redPart = r.length === 2 ? r : r + r;
    const greenPart = g.length === 2 ? g : g + g;
    const bluePart = b.length === 2 ? b : b + b;
    return {
      a: 255,
      r: parseInt(redPart, 16),
      g: parseInt(greenPart, 16),
      b: parseInt(bluePart, 16)
    };
  }
  return null;
}

/***/ }),

/***/ "./src/utils/correctContainerOrientation.ts":
/*!**************************************************!*\
  !*** ./src/utils/correctContainerOrientation.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctContainerOrientation: () => (/* binding */ correctContainerOrientation)
/* harmony export */ });
function correctContainerOrientation(orientation, defaultVal) {
  if (orientation === 'vertical' || orientation === 'horizontal' || orientation === 'overlap') {
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctContentAlignmentHorizontal.ts":
/*!********************************************************!*\
  !*** ./src/utils/correctContentAlignmentHorizontal.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctContentAlignmentHorizontal: () => (/* binding */ correctContentAlignmentHorizontal)
/* harmony export */ });
function correctContentAlignmentHorizontal(orientation, direction, defaultVal) {
  if (orientation === 'left' || orientation === 'center' || orientation === 'right' || orientation === 'space-between' || orientation === 'space-around' || orientation === 'space-evenly' || orientation === 'start' || orientation === 'end') {
    if (orientation === 'left') {
      return direction === 'ltr' ? 'start' : 'end';
    } else if (orientation === 'right') {
      return direction === 'ltr' ? 'end' : 'start';
    }
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctContentAlignmentVertical.ts":
/*!******************************************************!*\
  !*** ./src/utils/correctContentAlignmentVertical.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctContentAlignmentVertical: () => (/* binding */ correctContentAlignmentVertical)
/* harmony export */ });
function correctContentAlignmentVertical(orientation, defaultVal) {
  if (orientation === 'top' || orientation === 'center' || orientation === 'bottom' || orientation === 'baseline' || orientation === 'space-between' || orientation === 'space-around' || orientation === 'space-evenly') {
    if (orientation === 'top') {
      return 'start';
    } else if (orientation === 'bottom') {
      return 'end';
    }
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctDrawableStyles.ts":
/*!********************************************!*\
  !*** ./src/utils/correctDrawableStyles.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctDrawableStyle: () => (/* binding */ correctDrawableStyle)
/* harmony export */ });
/* harmony import */ var _correctColor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");
/* harmony import */ var _correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./correctNonNegativeNumber */ "./src/utils/correctNonNegativeNumber.ts");



function calcRoundedRectangleSize(shape) {
  var _shape$item_width, _shape$item_height, _shape$corner_radius;
  return {
    width: (0,_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.correctNonNegativeNumber)((_shape$item_width = shape.item_width) === null || _shape$item_width === void 0 ? void 0 : _shape$item_width.value, 10),
    height: (0,_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.correctNonNegativeNumber)((_shape$item_height = shape.item_height) === null || _shape$item_height === void 0 ? void 0 : _shape$item_height.value, 10),
    radius: (0,_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.correctNonNegativeNumber)((_shape$corner_radius = shape.corner_radius) === null || _shape$corner_radius === void 0 ? void 0 : _shape$corner_radius.value, 5)
  };
}
function calcCircleSize(shape) {
  var _shape$radius;
  const size = (0,_correctNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.correctNonNegativeNumber)((_shape$radius = shape.radius) === null || _shape$radius === void 0 ? void 0 : _shape$radius.value, 10) * 2;
  return {
    width: size,
    height: size,
    radius: size
  };
}
function calcDrawableStyle(size, shape, old) {
  var _stroke$width;
  const stl = {};
  const stroke = shape.stroke || (old === null || old === void 0 ? void 0 : old.stroke);
  const borderColor = stroke !== null && stroke !== void 0 && stroke.color ? (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(stroke.color) : '';
  const borderWidth = stroke !== null && stroke !== void 0 && stroke.width ? Number((_stroke$width = stroke.width) !== null && _stroke$width !== void 0 ? _stroke$width : 1) : '';
  stl.width = size.width;
  stl.height = size.height;
  stl.borderRadius = size.radius;
  const bgColor = shape.background_color || (old === null || old === void 0 ? void 0 : old.color);
  stl.background = (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(bgColor);
  if (borderColor && borderWidth) {
    stl.boxShadow = `inset 0 0 0 ${(0,_pxToEm__WEBPACK_IMPORTED_MODULE_2__.pxToEm)(borderWidth)} ${borderColor}`;
  }
  return stl;
}
function correctDrawableStyle(drawable, availShapes, defaultValue) {
  if (!drawable || !drawable.shape || !drawable.shape.type || !availShapes.includes(drawable.shape.type) || drawable.type !== 'shape_drawable') {
    return defaultValue;
  }
  let size;
  if (drawable.shape.type === 'rounded_rectangle') {
    size = calcRoundedRectangleSize(drawable.shape);
  } else if (drawable.shape.type === 'circle') {
    size = calcCircleSize(drawable.shape);
  } else {
    return defaultValue;
  }
  return calcDrawableStyle(size, drawable.shape, {
    color: drawable.color,
    stroke: drawable.stroke
  });
}

/***/ }),

/***/ "./src/utils/correctEdgeInserts.ts":
/*!*****************************************!*\
  !*** ./src/utils/correctEdgeInserts.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctEdgeInserts: () => (/* binding */ correctEdgeInserts)
/* harmony export */ });
/* harmony import */ var _edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./edgeInsertsToCss */ "./src/utils/edgeInsertsToCss.ts");
/* harmony import */ var _isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");


function correctEdgeInserts(edgeInsets, direction, defaultVal) {
  var _ref, _ref2;
  if (!edgeInsets) {
    return defaultVal;
  }
  const list = [edgeInsets.top, (_ref = direction === 'ltr' ? edgeInsets.end : edgeInsets.start) !== null && _ref !== void 0 ? _ref : edgeInsets.right, edgeInsets.bottom, (_ref2 = direction === 'ltr' ? edgeInsets.start : edgeInsets.end) !== null && _ref2 !== void 0 ? _ref2 : edgeInsets.left];
  for (let i = 0; i < list.length; ++i) {
    if (list[i] && !(0,_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.isNonNegativeNumber)(list[i])) {
      return defaultVal;
    }
  }
  return (0,_edgeInsertsToCss__WEBPACK_IMPORTED_MODULE_1__.edgeInsertsToCss)(edgeInsets, direction);
}

/***/ }),

/***/ "./src/utils/correctEdgeInsertsObject.ts":
/*!***********************************************!*\
  !*** ./src/utils/correctEdgeInsertsObject.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctEdgeInsertsObject: () => (/* binding */ correctEdgeInsertsObject)
/* harmony export */ });
/* harmony import */ var _isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNonNegativeNumber */ "./src/utils/isNonNegativeNumber.ts");

function correctEdgeInsertsObject(edgeInsets, defaultVal) {
  if (!edgeInsets || typeof edgeInsets !== 'object') {
    return defaultVal;
  }
  const list = ['top', 'right', 'bottom', 'left'];
  for (let i = 0; i < list.length; ++i) {
    if (edgeInsets[list[i]] && !(0,_isNonNegativeNumber__WEBPACK_IMPORTED_MODULE_0__.isNonNegativeNumber)(edgeInsets[list[i]])) {
      return defaultVal;
    }
  }
  return edgeInsets;
}

/***/ }),

/***/ "./src/utils/correctFontWeight.ts":
/*!****************************************!*\
  !*** ./src/utils/correctFontWeight.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctFontWeight: () => (/* binding */ correctFontWeight)
/* harmony export */ });
/* harmony import */ var _fontWeightToCss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fontWeightToCss */ "./src/utils/fontWeightToCss.ts");

function correctFontWeight(fontWeight, defaultVal) {
  return (0,_fontWeightToCss__WEBPACK_IMPORTED_MODULE_0__.fontWeightToCss)(fontWeight) || defaultVal;
}

/***/ }),

/***/ "./src/utils/correctGeneralOrientation.ts":
/*!************************************************!*\
  !*** ./src/utils/correctGeneralOrientation.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctGeneralOrientation: () => (/* binding */ correctGeneralOrientation)
/* harmony export */ });
function correctGeneralOrientation(orientation, defaultVal) {
  if (orientation === 'vertical' || orientation === 'horizontal') {
    return orientation;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctImagePosition.ts":
/*!*******************************************!*\
  !*** ./src/utils/correctImagePosition.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctImagePosition: () => (/* binding */ correctImagePosition)
/* harmony export */ });
/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background */ "./src/utils/background.ts");

function correctImagePosition(obj, direction, defaultVal) {
  let halign = obj.content_alignment_horizontal;
  const valign = obj.content_alignment_vertical;
  if (halign === 'start') {
    halign = direction === 'ltr' ? 'left' : 'right';
  } else if (halign === 'end') {
    halign = direction === 'ltr' ? 'right' : 'left';
  }
  if (halign && halign !== 'left' && halign !== 'center' && halign !== 'right' || valign && valign !== 'top' && valign !== 'center' && valign !== 'bottom') {
    return defaultVal;
  }
  return (0,_background__WEBPACK_IMPORTED_MODULE_0__.imagePos)({
    content_alignment_horizontal: halign,
    content_alignment_vertical: valign
  });
}

/***/ }),

/***/ "./src/utils/correctNonNegativeNumber.ts":
/*!***********************************************!*\
  !*** ./src/utils/correctNonNegativeNumber.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctNonNegativeNumber: () => (/* binding */ correctNonNegativeNumber)
/* harmony export */ });
function correctNonNegativeNumber(val, defaultVal) {
  const num = Number(val);
  if (Number.isNaN(num) || num < 0) {
    return defaultVal;
  }
  return num;
}

/***/ }),

/***/ "./src/utils/correctNumber.ts":
/*!************************************!*\
  !*** ./src/utils/correctNumber.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctNumber: () => (/* binding */ correctNumber)
/* harmony export */ });
function correctNumber(val, defaultVal) {
  const num = Number(val);
  if (Number.isNaN(num)) {
    return defaultVal;
  }
  return num;
}

/***/ }),

/***/ "./src/utils/correctPositiveNumber.ts":
/*!********************************************!*\
  !*** ./src/utils/correctPositiveNumber.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctPositiveNumber: () => (/* binding */ correctPositiveNumber)
/* harmony export */ });
function correctPositiveNumber(val, defaultVal) {
  const num = Number(val);
  if (Number.isNaN(num) || num <= 0) {
    return defaultVal;
  }
  return num;
}

/***/ }),

/***/ "./src/utils/correctSliderTextStyle.ts":
/*!*********************************************!*\
  !*** ./src/utils/correctSliderTextStyle.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctSliderTextStyle: () => (/* binding */ correctSliderTextStyle)
/* harmony export */ });
/* harmony import */ var _isPositiveNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _correctColor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _fontWeightToCss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fontWeightToCss */ "./src/utils/fontWeightToCss.ts");
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");




function correctSliderTextStyle(textStyle, defaultValue) {
  if (!textStyle || !textStyle.font_size) {
    return defaultValue;
  }
  const offset = textStyle.offset;
  const convertedColor = textStyle.text_color && (0,_correctColor__WEBPACK_IMPORTED_MODULE_0__.correctColor)(textStyle.text_color) || '#000';
  const fontWeight = (0,_fontWeightToCss__WEBPACK_IMPORTED_MODULE_1__.fontWeightToCss)(textStyle.font_weight);
  if ((0,_isPositiveNumber__WEBPACK_IMPORTED_MODULE_2__.isPositiveNumber)(textStyle.font_size) && convertedColor !== 'transparent') {
    var _offset$x, _offset$y;
    const res = {
      fontSize: (0,_pxToEm__WEBPACK_IMPORTED_MODULE_3__.pxToEm)(textStyle.font_size),
      fontWeight,
      textColor: convertedColor
    };
    if (typeof (offset === null || offset === void 0 ? void 0 : (_offset$x = offset.x) === null || _offset$x === void 0 ? void 0 : _offset$x.value) === 'number' && typeof (offset === null || offset === void 0 ? void 0 : (_offset$y = offset.y) === null || _offset$y === void 0 ? void 0 : _offset$y.value) === 'number') {
      res.offset = {
        x: offset.x.value,
        y: offset.y.value
      };
    }
    return res;
  }
}

/***/ }),

/***/ "./src/utils/correctTintMode.ts":
/*!**************************************!*\
  !*** ./src/utils/correctTintMode.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctTintMode: () => (/* binding */ correctTintMode)
/* harmony export */ });
function correctTintMode(tintMode, defaultVal) {
  if (tintMode === 'source_in' || tintMode === 'source_atop' || tintMode === 'darken' || tintMode === 'lighten' || tintMode === 'multiply' || tintMode === 'screen') {
    return tintMode;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/correctVideoSource.ts":
/*!*****************************************!*\
  !*** ./src/utils/correctVideoSource.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctVideoSource: () => (/* binding */ correctVideoSource)
/* harmony export */ });
function correctVideoSource(data, defaultValue) {
  if (Array.isArray(data) && data.length) {
    return data.filter(it => {
      return (it === null || it === void 0 ? void 0 : it.type) === 'video_source' && typeof it.url === 'string' && typeof it.mime_type === 'string';
    }).map(it => {
      const res = {
        src: it.url
      };
      if (it.mime_type) {
        res.type = it.mime_type;
      }
      return res;
    });
  }
  return defaultValue;
}

/***/ }),

/***/ "./src/utils/correctVisibility.ts":
/*!****************************************!*\
  !*** ./src/utils/correctVisibility.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   correctVisibility: () => (/* binding */ correctVisibility)
/* harmony export */ });
function correctVisibility(visibility, defaultVal) {
  if (visibility === 'visible' || visibility === 'invisible' || visibility === 'gone') {
    return visibility;
  }
  return defaultVal;
}

/***/ }),

/***/ "./src/utils/debounce.ts":
/*!*******************************!*\
  !*** ./src/utils/debounce.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce)
/* harmony export */ });
function debounce(fn, timeout) {
  let timer;
  return function (...args) {
    if (timer !== null) {
      clearTimeout(timer);
    }
    timer = setTimeout(() => {
      fn.apply(this, args);
      timer = null;
    }, timeout);
  };
}

/***/ }),

/***/ "./src/utils/doNothing.ts":
/*!********************************!*\
  !*** ./src/utils/doNothing.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   doNothing: () => (/* binding */ doNothing)
/* harmony export */ });
// eslint-disable-next-line @typescript-eslint/no-empty-function
function doNothing() {}

/***/ }),

/***/ "./src/utils/easings/ease.ts":
/*!***********************************!*\
  !*** ./src/utils/easings/ease.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ease: () => (/* binding */ ease)
/* harmony export */ });
/* harmony import */ var _interpolateEasing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interpolateEasing */ "./src/utils/easings/interpolateEasing.ts");

const table = [0.0021, 0.0045, 0.0071, 0.0100, 0.0131, 0.0165, 0.0202, 0.0242, 0.0284, 0.0330, 0.0378, 0.0429, 0.0483, 0.0540, 0.0601, 0.0664, 0.0731, 0.0800, 0.0872, 0.0948, 0.1026, 0.1108, 0.1192, 0.1279, 0.1369, 0.1461, 0.1556, 0.1653, 0.1753, 0.1855, 0.1958, 0.2064, 0.2171, 0.2279, 0.2389, 0.2500, 0.2612, 0.2725, 0.2839, 0.2952, 0.3067, 0.3181, 0.3295, 0.3410, 0.3524, 0.3637, 0.3750, 0.3863, 0.3974, 0.4085, 0.4195, 0.4304, 0.4412, 0.4519, 0.4624, 0.4729, 0.4832, 0.4934, 0.5034, 0.5133, 0.5231, 0.5327, 0.5422, 0.5516, 0.5608, 0.5699, 0.5788, 0.5876, 0.5963, 0.6048, 0.6132, 0.6214, 0.6295, 0.6375, 0.6453, 0.6530, 0.6606, 0.6680, 0.6754, 0.6825, 0.6896, 0.6965, 0.7034, 0.7101, 0.7166, 0.7231, 0.7295, 0.7357, 0.7418, 0.7479, 0.7538, 0.7596, 0.7653, 0.7709, 0.7764, 0.7818, 0.7871, 0.7923, 0.7974, 0.8024, 0.8073, 0.8122, 0.8169, 0.8216, 0.8261, 0.8306, 0.8350, 0.8394, 0.8436, 0.8478, 0.8518, 0.8558, 0.8598, 0.8636, 0.8674, 0.8711, 0.8747, 0.8783, 0.8818, 0.8852, 0.8886, 0.8919, 0.8951, 0.8983, 0.9014, 0.9044, 0.9074, 0.9103, 0.9131, 0.9159, 0.9187, 0.9213, 0.9240, 0.9265, 0.9290, 0.9315, 0.9339, 0.9362, 0.9385, 0.9408, 0.9430, 0.9451, 0.9472, 0.9492, 0.9512, 0.9532, 0.9551, 0.9569, 0.9587, 0.9605, 0.9622, 0.9638, 0.9655, 0.9670, 0.9686, 0.9701, 0.9715, 0.9729, 0.9743, 0.9756, 0.9769, 0.9782, 0.9794, 0.9805, 0.9817, 0.9828, 0.9838, 0.9848, 0.9858, 0.9868, 0.9877, 0.9886, 0.9894, 0.9902, 0.9910, 0.9917, 0.9924, 0.9931, 0.9937, 0.9943, 0.9949, 0.9954, 0.9959, 0.9964, 0.9969, 0.9973, 0.9977, 0.9980, 0.9983, 0.9986, 0.9989, 0.9991, 0.9993, 0.9995, 0.9997, 0.9998, 0.9999, 0.9999, 1.0000, 1.0000];
const ease = (0,_interpolateEasing__WEBPACK_IMPORTED_MODULE_0__.interpolateEasing)(table);

/***/ }),

/***/ "./src/utils/easings/interpolateEasing.ts":
/*!************************************************!*\
  !*** ./src/utils/easings/interpolateEasing.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   interpolateEasing: () => (/* binding */ interpolateEasing)
/* harmony export */ });
function interpolateEasing(table) {
  return t => {
    if (t <= 0) {
      return 0;
    } else if (t >= 1) {
      return 1;
    }
    const x = t * table.length;
    const i = Math.floor(x);
    const p0 = table[i];
    const p1 = table[i + 1];
    const t2 = x - i;
    return p0 * t2 + p1 * (1 - t2);
  };
}

/***/ }),

/***/ "./src/utils/easings/spring.ts":
/*!*************************************!*\
  !*** ./src/utils/easings/spring.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   spring: () => (/* binding */ spring)
/* harmony export */ });
/* harmony import */ var _interpolateEasing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interpolateEasing */ "./src/utils/easings/interpolateEasing.ts");

const table = [0.0005, 0.0020, 0.0045, 0.0078, 0.0119, 0.0168, 0.0224, 0.0286, 0.0355, 0.0429, 0.0508, 0.0592, 0.0681, 0.0774, 0.0870, 0.0969, 0.1072, 0.1177, 0.1285, 0.1395, 0.1507, 0.1621, 0.1736, 0.1853, 0.1970, 0.2089, 0.2208, 0.2328, 0.2448, 0.2569, 0.2689, 0.2810, 0.2930, 0.3050, 0.3170, 0.3289, 0.3408, 0.3526, 0.3644, 0.3760, 0.3876, 0.3991, 0.4105, 0.4218, 0.4330, 0.4440, 0.4550, 0.4658, 0.4765, 0.4871, 0.4975, 0.5078, 0.5180, 0.5280, 0.5379, 0.5477, 0.5573, 0.5668, 0.5761, 0.5853, 0.5944, 0.6033, 0.6120, 0.6206, 0.6291, 0.6374, 0.6456, 0.6537, 0.6616, 0.6693, 0.6770, 0.6845, 0.6918, 0.6990, 0.7061, 0.7130, 0.7199, 0.7265, 0.7331, 0.7395, 0.7458, 0.7520, 0.7580, 0.7640, 0.7698, 0.7755, 0.7810, 0.7865, 0.7918, 0.7971, 0.8022, 0.8072, 0.8121, 0.8169, 0.8216, 0.8262, 0.8307, 0.8351, 0.8394, 0.8436, 0.8477, 0.8517, 0.8557, 0.8595, 0.8633, 0.8669, 0.8705, 0.8740, 0.8775, 0.8808, 0.8841, 0.8873, 0.8904, 0.8934, 0.8964, 0.8993, 0.9022, 0.9049, 0.9076, 0.9103, 0.9129, 0.9154, 0.9178, 0.9202, 0.9226, 0.9249, 0.9271, 0.9293, 0.9314, 0.9335, 0.9355, 0.9375, 0.9394, 0.9413, 0.9431, 0.9449, 0.9466, 0.9483, 0.9500, 0.9516, 0.9532, 0.9547, 0.9562, 0.9576, 0.9591, 0.9605, 0.9618, 0.9631, 0.9644, 0.9657, 0.9669, 0.9681, 0.9692, 0.9703, 0.9714, 0.9725, 0.9736, 0.9746, 0.9756, 0.9765, 0.9775, 0.9784, 0.9793, 0.9802, 0.9810, 0.9818, 0.9826, 0.9834, 0.9842, 0.9849, 0.9856, 0.9863, 0.9870, 0.9877, 0.9883, 0.9890, 0.9896, 0.9902, 0.9908, 0.9913, 0.9919, 0.9924, 0.9930, 0.9935, 0.9940, 0.9944, 0.9949, 0.9954, 0.9958, 0.9963, 0.9967, 0.9971, 0.9975, 0.9979, 0.9983, 0.9986, 0.9990, 0.9993, 0.9997, 1.0000];
const spring = (0,_interpolateEasing__WEBPACK_IMPORTED_MODULE_0__.interpolateEasing)(table);

/***/ }),

/***/ "./src/utils/edgeInsertsToCss.ts":
/*!***************************************!*\
  !*** ./src/utils/edgeInsertsToCss.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   edgeInsertsToCss: () => (/* binding */ edgeInsertsToCss)
/* harmony export */ });
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");

function edgeInsertsToCss(edgeInsets, direction) {
  var _ref, _ref2;
  const top = edgeInsets.top || 0;
  const right = ((_ref = direction === 'ltr' ? edgeInsets.end : edgeInsets.start) !== null && _ref !== void 0 ? _ref : edgeInsets.right) || 0;
  const bottom = edgeInsets.bottom || 0;
  const left = ((_ref2 = direction === 'ltr' ? edgeInsets.start : edgeInsets.end) !== null && _ref2 !== void 0 ? _ref2 : edgeInsets.left) || 0;
  if (top === 0 && right === 0 && bottom === 0 && left === 0) {
    return '';
  }
  return (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(top) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(right) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(bottom) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(left);
}

/***/ }),

/***/ "./src/utils/escapeRegExp.ts":
/*!***********************************!*\
  !*** ./src/utils/escapeRegExp.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   escapeRegExp: () => (/* binding */ escapeRegExp)
/* harmony export */ });
function escapeRegExp(str) {
  return str.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
}

/***/ }),

/***/ "./src/utils/filterEnabledActions.ts":
/*!*******************************************!*\
  !*** ./src/utils/filterEnabledActions.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   filterEnabledActions: () => (/* binding */ filterEnabledActions)
/* harmony export */ });
function filterEnabledActions(action) {
  return action.is_enabled !== 0 && action.is_enabled !== false;
}

/***/ }),

/***/ "./src/utils/filters.ts":
/*!******************************!*\
  !*** ./src/utils/filters.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getCssFilter: () => (/* binding */ getCssFilter)
/* harmony export */ });
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _isPositiveNumber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isPositiveNumber */ "./src/utils/isPositiveNumber.ts");
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");



function getCssFilter(filters, logError) {
  return filters.map(filter => {
    if (!filter) {
      logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect filter'), {
        level: 'warn'
      }));
      return;
    }
    if (filter.type === 'blur') {
      if ((0,_isPositiveNumber__WEBPACK_IMPORTED_MODULE_1__.isPositiveNumber)(filter.radius)) {
        return `blur(${(0,_pxToEm__WEBPACK_IMPORTED_MODULE_2__.pxToEmWithUnits)(filter.radius / 2)})`;
      }
    } else if (filter.type === 'rtl_mirror') {
      // processed in component
      return;
    } else {
      logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Unknown filter'), {
        level: 'warn',
        additional: {
          filter: filter.type
        }
      }));
    }
  }).filter(Boolean).join(' ');
}

/***/ }),

/***/ "./src/utils/flattenAnimation.ts":
/*!***************************************!*\
  !*** ./src/utils/flattenAnimation.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   flattenAnimation: () => (/* binding */ flattenAnimation)
/* harmony export */ });
function flattenAnimation(animation) {
  const res = [];
  if (animation.name === 'set') {
    (animation.items || []).forEach(item => {
      res.push(...flattenAnimation(item));
    });
  } else {
    res.push(animation);
  }
  return res;
}

/***/ }),

/***/ "./src/utils/flattenTransition.ts":
/*!****************************************!*\
  !*** ./src/utils/flattenTransition.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   flattenTransition: () => (/* binding */ flattenTransition)
/* harmony export */ });
function flattenTransition(transition) {
  const res = [];
  if (transition.type === 'set') {
    (transition.items || []).forEach(item => {
      res.push(...flattenTransition(item));
    });
  } else {
    res.push(transition);
  }
  return res;
}

/***/ }),

/***/ "./src/utils/fontWeightToCss.ts":
/*!**************************************!*\
  !*** ./src/utils/fontWeightToCss.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fontWeightToCss: () => (/* binding */ fontWeightToCss)
/* harmony export */ });
function fontWeightToCss(fontWeight) {
  if (fontWeight === 'light' || fontWeight === 'medium' || fontWeight === 'bold' || fontWeight === 'regular') {
    if (fontWeight === 'medium') {
      return 500;
    } else if (fontWeight === 'bold') {
      return 700;
    } else if (fontWeight === 'light') {
      return 300;
    }
    return 400;
  }
}

/***/ }),

/***/ "./src/utils/genClassName.ts":
/*!***********************************!*\
  !*** ./src/utils/genClassName.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   genClassName: () => (/* binding */ genClassName)
/* harmony export */ });
function push(list, val) {
  if (val) {
    list.push(val);
  }
}
function genClassName(component, css, mods) {
  const res = [];
  push(res, css[component]);
  for (const key in mods) {
    if (mods.hasOwnProperty(key)) {
      const val = mods[key];
      if (val) {
        const cssKey = `${component}_${key}` + (typeof val === 'string' ? `_${val}` : '');
        push(res, css[cssKey]);
      }
    }
  }
  return res.join(' ');
}

/***/ }),

/***/ "./src/utils/getMarginBox.ts":
/*!***********************************!*\
  !*** ./src/utils/getMarginBox.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMarginBox: () => (/* binding */ getMarginBox)
/* harmony export */ });
function getMarginBox(elem) {
  const bbox = elem.getBoundingClientRect();
  const computed = getComputedStyle(elem);
  return {
    top: bbox.top - parseFloat(computed.marginTop),
    right: bbox.right + parseFloat(computed.marginRight),
    bottom: bbox.bottom + parseFloat(computed.marginBottom),
    left: bbox.left - parseFloat(computed.marginLeft)
  };
}

/***/ }),

/***/ "./src/utils/getTouchCoords.ts":
/*!*************************************!*\
  !*** ./src/utils/getTouchCoords.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTouchCoords: () => (/* binding */ getTouchCoords)
/* harmony export */ });
function getTouchCoords(event) {
  const firstEvent = event.touches[0];
  const x = firstEvent.clientX || firstEvent.pageX;
  const y = firstEvent.clientY || firstEvent.pageY;
  return {
    x,
    y
  };
}

/***/ }),

/***/ "./src/utils/gridCalcTemplates.ts":
/*!****************************************!*\
  !*** ./src/utils/gridCalcTemplates.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   gridCalcTemplates: () => (/* binding */ gridCalcTemplates)
/* harmony export */ });
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");


/**
 * Filter weights, that would result in < 1fr
 * @param weight
 */
function isSpannedWeight(weight) {
  return weight > 0 && weight < 1;
}
function formatWeight(weight) {
  return String(Math.ceil(weight * 1000) / 1000);
}
function gridCalcTemplates(weights, minSizes, length) {
  // If result weight is lesser than 1, multiply all weights so all of them would exceed 1
  if (weights.some(isSpannedWeight)) {
    const multiply = Math.max(...weights.filter(isSpannedWeight).map(weight => 1 / weight));
    weights = weights.map(weight => weight * multiply);
  }
  const allTracksHasWeight = weights.every(Boolean);
  let minSize = 0;
  let totalWeight = 0;
  const template = [];
  if (allTracksHasWeight) {
    totalWeight = weights.reduce((acc, item) => {
      return acc + item;
    }, 0);
    for (let i = 0; i < length; ++i) {
      if (!minSizes[i]) {
        continue;
      }
      const minTrackSize = minSizes[i] / weights[i] * totalWeight;
      if (minTrackSize > minSize) {
        minSize = minTrackSize;
      }
    }
  }
  for (let i = 0; i < length; ++i) {
    if (minSize) {
      template[i] = `minmax(${(0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(minSize * weights[i] / totalWeight)},${formatWeight(weights[i])}fr)`;
    } else if (weights[i]) {
      template[i] = `${formatWeight(weights[i])}fr`;
    } else {
      template[i] = 'auto';
    }
  }
  return template.join(' ');
}

/***/ }),

/***/ "./src/utils/hasGapSupport.ts":
/*!************************************!*\
  !*** ./src/utils/hasGapSupport.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   hasGapSupport: () => (/* binding */ hasGapSupport)
/* harmony export */ });
let res;

/**
 * Based on the Chris Smith work in Modernizr
 * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/css/flexgap.js
 * MIT License
 */
function hasGapSupport() {
  if (typeof document === 'undefined') {
    res = true;
  }
  if (res !== undefined) {
    return res;
  }
  const flex = document.createElement('div');
  flex.style.position = 'absolute';
  flex.style.display = 'flex';
  flex.style.flexDirection = 'column';
  flex.style.gap = '1px';
  flex.appendChild(document.createElement('div'));
  flex.appendChild(document.createElement('div'));
  document.body.appendChild(flex);
  res = flex.scrollHeight === 1;
  document.body.removeChild(flex);
  return res;
}

/***/ }),

/***/ "./src/utils/htmlFilter.ts":
/*!*********************************!*\
  !*** ./src/utils/htmlFilter.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   htmlFilter: () => (/* binding */ htmlFilter)
/* harmony export */ });
/**
 * Escapes html
 * @param str
 * @returns
 */
function htmlFilter(str) {
  let str2 = String(str);
  if (str2.indexOf('&') > -1) {
    str2 = str2.replace(/&/g, '&amp;');
  }
  if (str2.indexOf('<') > -1) {
    str2 = str2.replace(/</g, '&lt;');
  }
  if (str2.indexOf('>') > -1) {
    str2 = str2.replace(/>/g, '&gt;');
  }
  if (str2.indexOf('"') > -1) {
    str2 = str2.replace(/"/g, '&quot;');
  }
  return str2;
}

/***/ }),

/***/ "./src/utils/inOutTransition.ts":
/*!**************************************!*\
  !*** ./src/utils/inOutTransition.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcMaxDuration: () => (/* binding */ calcMaxDuration),
/* harmony export */   inOutTransition: () => (/* binding */ inOutTransition)
/* harmony export */ });
/* harmony import */ var svelte_easing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svelte/easing */ "./node_modules/svelte/src/runtime/easing/index.js");
/* harmony import */ var _easings_ease__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./easings/ease */ "./src/utils/easings/ease.ts");
/* harmony import */ var _easings_spring__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./easings/spring */ "./src/utils/easings/spring.ts");
/* harmony import */ var _isPrefersReducedMotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isPrefersReducedMotion */ "./src/utils/isPrefersReducedMotion.ts");




const EASING = {
  linear: svelte_easing__WEBPACK_IMPORTED_MODULE_0__.linear,
  ease: _easings_ease__WEBPACK_IMPORTED_MODULE_1__.ease,
  ease_in: svelte_easing__WEBPACK_IMPORTED_MODULE_0__.cubicIn,
  ease_out: svelte_easing__WEBPACK_IMPORTED_MODULE_0__.cubicOut,
  ease_in_out: svelte_easing__WEBPACK_IMPORTED_MODULE_0__.cubicInOut,
  spring: _easings_spring__WEBPACK_IMPORTED_MODULE_2__.spring
};
const DEFAULT_DURATION = 200;
const DEFAULT_DELAY = 0;
const DEFAULT_ALPHA = 0;
const DEFAULT_SCALE = 0;
function calcMaxDuration(transitions) {
  return Math.max(...transitions.map(it => (Number(it.duration) || DEFAULT_DURATION) + (Number(it.start_delay) || DEFAULT_DELAY)));
}
function inOutTransition(node, {
  transitions,
  elementBbox,
  rootBbox,
  direction,
  maxDuration,
  alpha
}) {
  const startAlpha = alpha !== null && alpha !== void 0 ? alpha : 1;
  return {
    duration: (0,_isPrefersReducedMotion__WEBPACK_IMPORTED_MODULE_3__.isPrefersReducedMotion)() ? 0 : maxDuration,
    css: t => {
      const tMs = t * maxDuration;
      const parts = transitions.map(it => {
        const delay = Number(it.start_delay) || DEFAULT_DELAY;
        const duration = Number(it.duration) || DEFAULT_DURATION;
        const relative = Math.max(0, Math.min(1, (tMs - delay) / duration));
        const oriented = direction === 'in' ? 1 - relative : relative;
        const easing = EASING[it.interpolator || 'ease_in_out'] || svelte_easing__WEBPACK_IMPORTED_MODULE_0__.cubicInOut;
        const eased = easing(oriented);
        if (it.type === 'fade') {
          if (eased >= 1) {
            return {
              active: false,
              opacity: 0
            };
          }
          return {
            active: eased > 0 && eased < 1,
            opacity: (1 - eased) * startAlpha + eased * (it.alpha || DEFAULT_ALPHA)
          };
        } else if (it.type === 'slide') {
          var _it$distance;
          const multiply = it.edge === 'top' || it.edge === 'left' ? -1 : 1;
          const prop = it.edge === 'top' || it.edge === 'bottom' || !it.edge ? 'translateY' : 'translateX';
          let distance = (_it$distance = it.distance) === null || _it$distance === void 0 ? void 0 : _it$distance.value;
          if (distance === undefined) {
            if (it.edge === 'top' || it.edge === 'bottom' || !it.edge) {
              distance = Math.abs(rootBbox[it.edge === 'bottom' ? 'bottom' : 'top'] - elementBbox[it.edge === 'bottom' ? 'top' : 'bottom']);
            } else {
              distance = Math.abs(rootBbox[it.edge === 'left' ? 'left' : 'right'] - elementBbox[it.edge === 'left' ? 'right' : 'left']);
            }
          }
          const travel = distance * eased;
          return {
            active: eased > 0 && eased < 1,
            translate: `${prop}(${travel * multiply}px)`
          };
        } else if (it.type === 'scale') {
          var _it$pivot_x, _it$pivot_y;
          const scale = 1 - eased + eased * (it.scale || DEFAULT_SCALE);
          const pivotX = (_it$pivot_x = it.pivot_x) !== null && _it$pivot_x !== void 0 ? _it$pivot_x : .5;
          const pivotY = (_it$pivot_y = it.pivot_y) !== null && _it$pivot_y !== void 0 ? _it$pivot_y : .5;
          const offsetX = (1 - scale) * elementBbox.width * pivotX;
          const offsetY = (1 - scale) * elementBbox.height * pivotY;
          return {
            active: eased > 0 && eased < 1,
            scale: `translate(${offsetX}px, ${offsetY}px) scale(${scale})`
          };
        }
        return {};
      });
      const opacity = parts.map(it => it.opacity).filter(it => it !== undefined).reduce((acc, item) => acc * item, 1);
      const translate = parts.map(it => it.translate).filter(it => it !== undefined).join(' ');
      const anyScale = parts.map(it => it.scale).filter(it => it !== undefined).join(' ');
      const activeScale = parts.filter(it => it.active).map(it => it.scale).filter(it => it !== undefined);
      const scale = activeScale.length ? activeScale[activeScale.length - 1] : anyScale;
      const transform = [translate, scale].filter(Boolean).join(' ');
      return `transform:${transform || 'none'};opacity:${opacity}`;
    }
  };
}

/***/ }),

/***/ "./src/utils/isDeepEqual.ts":
/*!**********************************!*\
  !*** ./src/utils/isDeepEqual.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isDeepEqual: () => (/* binding */ isDeepEqual)
/* harmony export */ });
const hasOwnProperty = Object.prototype.hasOwnProperty;
function isDeepEqual(a, b) {
  if (Object.is(a, b)) {
    return true;
  }
  if (typeof a !== 'object' || a === null || typeof b !== 'object' || b === null) {
    return Object.is(a, b);
  }
  const keysA = Object.keys(a);
  const keysB = Object.keys(b);
  if (keysA.length !== keysB.length) {
    return false;
  }
  for (let i = 0; i < keysA.length; i++) {
    const key = keysA[i];
    if (!hasOwnProperty.call(b, key) || !isDeepEqual(a[key], b[key])) {
      return false;
    }
  }
  return true;
}

/***/ }),

/***/ "./src/utils/isNonNegativeNumber.ts":
/*!******************************************!*\
  !*** ./src/utils/isNonNegativeNumber.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isNonNegativeNumber: () => (/* binding */ isNonNegativeNumber)
/* harmony export */ });
/* harmony import */ var _isNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNumber */ "./src/utils/isNumber.ts");

function isNonNegativeNumber(val) {
  return (0,_isNumber__WEBPACK_IMPORTED_MODULE_0__.isNumber)(val) && val >= 0;
}

/***/ }),

/***/ "./src/utils/isNumber.ts":
/*!*******************************!*\
  !*** ./src/utils/isNumber.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isNumber: () => (/* binding */ isNumber)
/* harmony export */ });
function isNumber(val) {
  if (typeof val !== 'number' && typeof val !== 'string') {
    return false;
  }
  const num = Number(val);
  return !Number.isNaN(num);
}

/***/ }),

/***/ "./src/utils/isPositiveNumber.ts":
/*!***************************************!*\
  !*** ./src/utils/isPositiveNumber.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isPositiveNumber: () => (/* binding */ isPositiveNumber)
/* harmony export */ });
/* harmony import */ var _isNumber__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isNumber */ "./src/utils/isNumber.ts");

function isPositiveNumber(val) {
  return (0,_isNumber__WEBPACK_IMPORTED_MODULE_0__.isNumber)(val) && val > 0;
}

/***/ }),

/***/ "./src/utils/isPrefersReducedMotion.ts":
/*!*********************************************!*\
  !*** ./src/utils/isPrefersReducedMotion.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isPrefersReducedMotion: () => (/* binding */ isPrefersReducedMotion)
/* harmony export */ });
let media;
function isPrefersReducedMotion() {
  if (typeof matchMedia === 'undefined') {
    return false;
  }
  if (!media) {
    media = window.matchMedia('(prefers-reduced-motion)');
  }
  return media.matches;
}

/***/ }),

/***/ "./src/utils/joinTemplateSizes.ts":
/*!****************************************!*\
  !*** ./src/utils/joinTemplateSizes.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   joinTemplateSizes: () => (/* binding */ joinTemplateSizes)
/* harmony export */ });
function joinTemplateSizes(sizes) {
  const result = [];
  let temp = sizes[0];
  let counter = 1;
  for (let i = 1; i <= sizes.length; i++) {
    if (sizes[i] !== temp) {
      result.push(counter > 1 ? `repeat(${counter}, ${temp})` : temp);
      temp = sizes[i];
      counter = 1;
    } else {
      counter++;
    }
  }
  return result.join(' ');
}

/***/ }),

/***/ "./src/utils/keyboard/codes.ts":
/*!*************************************!*\
  !*** ./src/utils/keyboard/codes.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ARROW_LEFT: () => (/* binding */ ARROW_LEFT),
/* harmony export */   ARROW_RIGHT: () => (/* binding */ ARROW_RIGHT),
/* harmony export */   END: () => (/* binding */ END),
/* harmony export */   HOME: () => (/* binding */ HOME)
/* harmony export */ });
const ARROW_LEFT = 37;
const ARROW_RIGHT = 39;
const HOME = 36;
const END = 35;

/***/ }),

/***/ "./src/utils/makeStyle.ts":
/*!********************************!*\
  !*** ./src/utils/makeStyle.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeStyle: () => (/* binding */ makeStyle)
/* harmony export */ });
/**
 * Merges rules from object into css string
 * @param styles
 * @returns
 */
function makeStyle(styles) {
  if (!styles) {
    return undefined;
  }
  let res = '';
  for (const key in styles) {
    if (styles.hasOwnProperty(key)) {
      if (!styles[key] && styles[key] !== 0) {
        continue;
      }
      if (res) {
        res += ';';
      }
      res += key + ':' + String(styles[key]);
    }
  }
  return res || undefined;
}

/***/ }),

/***/ "./src/utils/mask/baseInputMask.ts":
/*!*****************************************!*\
  !*** ./src/utils/mask/baseInputMask.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseInputMask: () => (/* binding */ BaseInputMask),
/* harmony export */   MaskCharDynamic: () => (/* binding */ MaskCharDynamic),
/* harmony export */   MaskCharStatic: () => (/* binding */ MaskCharStatic)
/* harmony export */ });
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _textDiff__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../textDiff */ "./src/utils/textDiff.ts");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
// Replicate from Android: client/android/div/src/main/java/com/yandex/div/core/util/mask/BaseInputMask.kt



class MaskCharStatic {
  constructor(char) {
    this.char = char;
  }
}
class MaskCharDynamic {
  constructor(char, filter, placeholder) {
    this.char = char;
    this.filter = filter;
    this.placeholder = placeholder;
  }
}
class BaseInputMask {
  constructor(initialMaskData) {
    _defineProperty(this, "filters", new Map());
    _defineProperty(this, "destructedValue", []);
    _defineProperty(this, "cursorPos", 0);
    this.maskData = initialMaskData;
    this.updateMaskData(initialMaskData);
  }
  get cursorPosition() {
    return this.cursorPos;
  }
  get rawValue() {
    return this.collectValueRange(0, this.destructedValue.length - 1);
  }
  get value() {
    let str = '';
    for (let i = 0; i < this.destructedValue.length; ++i) {
      const char = this.destructedValue[i];
      if (char instanceof MaskCharStatic) {
        str += char.char;
      } else if (char instanceof MaskCharDynamic) {
        if (char.char) {
          str += char.char;
        } else if (this.maskData.alwaysVisible) {
          str += char.placeholder;
        } else {
          break;
        }
      }
    }
    return str;
  }
  firstEmptyHolderIndex() {
    const index = this.destructedValue.findIndex(maskChar => {
      return maskChar instanceof MaskCharDynamic && !maskChar.char;
    });
    if (index !== -1) {
      return index;
    }
    return this.destructedValue.length;
  }
  updateMaskData(newMaskData, restoreValue = true) {
    const previousRawValue = this.maskData !== newMaskData && restoreValue ? this.rawValue : null;
    this.filters = new Map();
    this.maskData = newMaskData;
    this.maskData.decoding.forEach(maskKey => {
      if (maskKey.filter) {
        try {
          const regexp = new RegExp(maskKey.filter);
          this.filters.set(maskKey.key, regexp);
        } catch (err) {
          this.onException((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(err, {
            level: 'error',
            additional: {
              key: maskKey.key
            }
          }));
        }
      }
    });
    this.destructedValue = this.maskData.pattern.split('').map(maskChar => {
      const mappingItem = this.maskData.decoding.find(it => it.key === maskChar);
      if (mappingItem) {
        return new MaskCharDynamic(null, this.filters.get(mappingItem.key), mappingItem.placeholder);
      }
      return new MaskCharStatic(maskChar);
    });
    if (previousRawValue !== null) {
      this.overrideRawValue(previousRawValue);
    }
  }
  overrideRawValue(newRawValue) {
    this.clearRange(0, this.destructedValue.length);
    this.replaceChars(newRawValue, 0);
    this.cursorPos = Math.min(this.cursorPos, this.value.length);
  }
  applyChangeFrom(newValue, position) {
    const diff = (0,_textDiff__WEBPACK_IMPORTED_MODULE_1__.textDiff)(this.value, newValue);
    if (position !== undefined) {
      diff.start = Math.max(0, position - diff.added);
    }
    const body = this.buildBodySubstring(diff, newValue);
    const tail = this.buildTailSubstring(diff);
    this.cleanup(diff);
    const fehi = this.firstEmptyHolderIndex();
    const maxShift = tail ? this.calculateMaxShift(tail, fehi) : undefined;
    this.replaceChars(body, fehi, maxShift);
    const tailStart = this.firstEmptyHolderIndex();
    this.replaceChars(tail, tailStart);
    this.calculateCursorPosition(diff, tailStart);
  }
  buildBodySubstring(diff, newValue) {
    return newValue.substring(diff.start, diff.start + diff.added);
  }
  buildTailSubstring(diff) {
    return this.collectValueRange(diff.start + diff.removed, this.destructedValue.length - 1);
  }
  calculateMaxShift(str, start) {
    if (this.filters.size <= 1) {
      let dynamicLeft = 0;
      let index = start;
      while (index < this.destructedValue.length) {
        if (this.destructedValue[index] instanceof MaskCharDynamic) {
          ++dynamicLeft;
        }
        ++index;
      }
      return Math.max(0, dynamicLeft - str.length);
    }
    const initialInsertableSubstring = this.calculateInsertableSubstring(str, start);
    let index = 0;
    while (index < this.destructedValue.length && initialInsertableSubstring === this.calculateInsertableSubstring(str, start + index)) {
      ++index;
    }
    return Math.max(0, index - 1);
  }
  cleanup(diff) {
    if (diff.added === 0 && diff.removed === 1) {
      let index = diff.start;
      while (index >= 0) {
        const maskChar = this.destructedValue[index];
        if (maskChar instanceof MaskCharDynamic && maskChar.char !== null) {
          maskChar.char = null;
          break;
        } else {
          --index;
        }
      }
    }
    this.clearRange(diff.start, this.destructedValue.length);
  }
  clearRange(start, end) {
    let index = start;
    while (index < end && index < this.destructedValue.length) {
      const holder = this.destructedValue[index];
      if (holder instanceof MaskCharDynamic) {
        holder.char = null;
      }
      ++index;
    }
  }
  calculateCursorPosition(diff, tailStart) {
    const fehi = this.firstEmptyHolderIndex();
    let positionByDiff;
    if (diff.start < fehi) {
      positionByDiff = Math.min(this.firstHolderAfter(tailStart), this.value.length);
    } else {
      positionByDiff = fehi;
    }
    this.cursorPos = positionByDiff;
  }
  calculateInsertableSubstring(substring, start) {
    let str = '';
    let index = start;
    const moveToAndGetNextHolderFilter = () => {
      var _this$destructedValue;
      while (index < this.destructedValue.length && !(this.destructedValue[index] instanceof MaskCharDynamic)) {
        ++index;
      }
      return (_this$destructedValue = this.destructedValue[index]) === null || _this$destructedValue === void 0 ? void 0 : _this$destructedValue.filter;
    };
    substring.split('').forEach(char => {
      const maskCharFilter = moveToAndGetNextHolderFilter();
      if (maskCharFilter !== null && maskCharFilter !== void 0 && maskCharFilter.test(char)) {
        str += char;
        ++index;
      }
    });
    return str;
  }
  collectValueRange(start, end) {
    let str = '';
    let index = start;
    while (index <= end) {
      const maskChar = this.destructedValue[index];
      if (maskChar instanceof MaskCharDynamic && maskChar.char !== null) {
        str += maskChar.char;
      }
      ++index;
    }
    return str;
  }
  replaceChars(substring, start, count) {
    let trimmedSubstring = this.calculateInsertableSubstring(substring, start);
    if (count !== undefined) {
      trimmedSubstring = trimmedSubstring.substring(0, count);
    }
    let index = start;
    let insertableCharIndex = 0;
    while (index < this.destructedValue.length && insertableCharIndex < trimmedSubstring.length) {
      const maskChar = this.destructedValue[index];
      const char = trimmedSubstring[insertableCharIndex];
      if (maskChar instanceof MaskCharDynamic) {
        maskChar.char = char;
        ++insertableCharIndex;
      }
      ++index;
    }
  }
  firstHolderAfter(start) {
    let index = start;
    while (index < this.destructedValue.length) {
      const holder = this.destructedValue[index];
      if (holder instanceof MaskCharDynamic) {
        break;
      } else {
        ++index;
      }
    }
    return index;
  }
}

/***/ }),

/***/ "./src/utils/mask/currencyInputMask.ts":
/*!*********************************************!*\
  !*** ./src/utils/mask/currencyInputMask.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CurrencyInputMask: () => (/* binding */ CurrencyInputMask)
/* harmony export */ });
/* harmony import */ var _baseInputMask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseInputMask */ "./src/utils/mask/baseInputMask.ts");
/* harmony import */ var _textDiff__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../textDiff */ "./src/utils/textDiff.ts");
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../wrapError */ "./src/utils/wrapError.ts");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



class CurrencyInputMask extends _baseInputMask__WEBPACK_IMPORTED_MODULE_0__.BaseInputMask {
  constructor(locale = undefined, logError) {
    super({
      pattern: '',
      decoding: [],
      alwaysVisible: false
    });
    _defineProperty(this, "currencyFormatter", new Intl.NumberFormat());
    _defineProperty(this, "decimalSeparator", '.');
    _defineProperty(this, "localeDigits", {});
    _defineProperty(this, "trimZeroRegExp", new RegExp(''));
    this.logError = logError;
    this.initFormatter(locale);
  }
  updateCurrencyParams(locale) {
    const currentValue = this.parseFormat(this.rawValue) || 0;
    this.initFormatter(locale);
    const newValue = currentValue.toString().replace('.', this.decimalSeparator);
    this.applyChangeFrom(newValue);
  }
  initFormatter(locale) {
    try {
      this.currencyFormatter = new Intl.NumberFormat(locale, {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
      this.decimalSeparator = this.currencyFormatter.format(0)[1];
      this.localeDigits = new Array(10).fill('').reduce((acc, _, i) => {
        acc[i] = this.currencyFormatter.format(i)[0];
        return acc;
      }, {});
      this.trimZeroRegExp = new RegExp(`^${this.localeDigits['0']}+`);
    } catch (err) {
      this.onException((0,_wrapError__WEBPACK_IMPORTED_MODULE_1__.wrapError)(err, {
        level: 'error',
        additional: {
          locale
        }
      }));
    }
  }
  invalidateMaskDataForFormatted(forValue) {
    const formatted = this.currencyFormatter.format(forValue);
    const pattern = this.formatPattern(formatted);
    const decoding = [{
      key: '#',
      filter: `[${[...Object.values(this.localeDigits)].join('')}]`,
      placeholder: this.localeDigits[0]
    }, {
      key: this.decimalSeparator,
      filter: `[${this.decimalSeparator}]`,
      placeholder: this.decimalSeparator
    }];
    this.updateMaskData({
      pattern,
      decoding,
      alwaysVisible: this.maskData.alwaysVisible
    }, false);
  }
  overrideRawValue(newRawValue) {
    const parsed = this.parseFormat(newRawValue) || 0;
    this.invalidateMaskDataForFormatted(parsed);
    super.overrideRawValue(newRawValue);
  }
  applyChangeFrom(newValue, position) {
    const diff = (0,_textDiff__WEBPACK_IMPORTED_MODULE_2__.textDiff)(this.value, newValue);
    const oldSeparatorIndex = this.value.lastIndexOf(this.decimalSeparator);
    const newSeparatorIndex = newValue.lastIndexOf(this.decimalSeparator);
    const needInvalidateMask = oldSeparatorIndex !== newSeparatorIndex || oldSeparatorIndex === -1 && newSeparatorIndex === -1;
    const clearedValue = this.validFormat(newValue, diff);
    this.cleanup(diff);
    const rawValue = this.parseFormat(clearedValue) || 0;
    if (needInvalidateMask) {
      this.invalidateMaskDataForFormatted(rawValue);
    }
    this.replaceChars(clearedValue, 0);
    if (this.value.length > diff.start && !this.isDigit(this.value[diff.start])) {
      this.cursorPos = position !== null && position !== void 0 ? position : this.cursorPosition;
    } else {
      this.cursorPos = Math.abs(this.value.length - (newValue.length - (position !== null && position !== void 0 ? position : this.cursorPosition)));
    }
  }
  parseFormat(value) {
    return parseFloat(value.replace(/./g, char => {
      const localeDigit = this.localeDigits[char];
      if (localeDigit) {
        return localeDigit;
      }
      if (char === this.decimalSeparator) {
        return '.';
      }
      return '';
    }));
  }
  formatPattern(pattern) {
    let result = '';
    for (const char of pattern) {
      result += this.isDigit(char) ? '#' : char;
    }
    return result;
  }
  validFormat(value, diff) {
    if (!value) {
      return '';
    }
    let separatorOutOfDiffIndex = -1;
    let index = 0;
    while (index < value.length) {
      if (value[index] === this.decimalSeparator && !this.inDiff(diff, index)) {
        separatorOutOfDiffIndex = index;
        break;
      }
      index++;
    }
    let replaceCharInDiff = -1;
    if (diff.added === 1 && diff.removed === 0 && [',', '.'].includes(value[diff.start])) {
      replaceCharInDiff = diff.start;
    }
    const maxSeparatorOffset = this.currencyFormatter.resolvedOptions().maximumFractionDigits;
    let leftToInsert = maxSeparatorOffset;
    if (separatorOutOfDiffIndex !== -1) {
      index = separatorOutOfDiffIndex;
      while (index < value.length) {
        if (this.isDigit(value[index]) && !this.inDiff(diff, index)) {
          leftToInsert--;
        }
        index++;
      }
    } else {
      let oldSeparatorLeft = false;
      for (let i = 0; i < value.length; i++) {
        const char = value[i];
        if (char === this.decimalSeparator) {
          oldSeparatorLeft = true;
        } else if (!this.inDiff(diff, i) && oldSeparatorLeft && this.isDigit(char)) {
          leftToInsert--;
        }
      }
    }
    const containsSeparator = value.includes(this.decimalSeparator) || replaceCharInDiff !== -1;
    const result = [];
    index = value.length - 1;
    let separatorInserted = false;
    while (index >= 0) {
      const char = value[index];
      const canInsertSeparator = result.length <= maxSeparatorOffset;
      if (this.isDigit(char)) {
        if (this.inDiff(diff, index) && !separatorInserted && containsSeparator) {
          if (leftToInsert > 0) {
            result.push(char);
            leftToInsert--;
          }
        } else {
          result.push(char);
        }
      } else if (canInsertSeparator && separatorOutOfDiffIndex === -1 && index === replaceCharInDiff) {
        result.push(this.decimalSeparator);
        separatorInserted = true;
      } else if (canInsertSeparator && char === this.decimalSeparator && (separatorOutOfDiffIndex === index || separatorOutOfDiffIndex === -1)) {
        result.push(this.decimalSeparator);
        separatorInserted = true;
        separatorOutOfDiffIndex = index;
      }
      index--;
    }
    return result.reverse().join('').replace(this.trimZeroRegExp, '');
  }
  inDiff(diff, index) {
    return diff.start <= index && index < diff.start + diff.added;
  }
  isDigit(char) {
    return Boolean(this.localeDigits[char]);
  }
  onException(exception) {
    this.logError(exception);
  }
}

/***/ }),

/***/ "./src/utils/mask/fixedLengthInputMask.ts":
/*!************************************************!*\
  !*** ./src/utils/mask/fixedLengthInputMask.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FixedLengthInputMask: () => (/* binding */ FixedLengthInputMask)
/* harmony export */ });
/* harmony import */ var _baseInputMask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseInputMask */ "./src/utils/mask/baseInputMask.ts");

class FixedLengthInputMask extends _baseInputMask__WEBPACK_IMPORTED_MODULE_0__.BaseInputMask {
  constructor(initialMaskData, logError) {
    super(initialMaskData);
    this.logError = logError;
  }
  onException(exception) {
    this.logError(exception);
  }
}

/***/ }),

/***/ "./src/utils/nonNegativeModulo.ts":
/*!****************************************!*\
  !*** ./src/utils/nonNegativeModulo.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   nonNegativeModulo: () => (/* binding */ nonNegativeModulo)
/* harmony export */ });
function nonNegativeModulo(value, mod) {
  let res = value % mod;
  if (res < 0) {
    res += mod;
  }
  return res;
}

/***/ }),

/***/ "./src/utils/padLeft.ts":
/*!******************************!*\
  !*** ./src/utils/padLeft.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   padLeft: () => (/* binding */ padLeft)
/* harmony export */ });
function padLeft(val, count) {
  while (val.length < count) {
    val = '0' + val;
  }
  return val;
}

/***/ }),

/***/ "./src/utils/prepareBase64.ts":
/*!************************************!*\
  !*** ./src/utils/prepareBase64.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   prepareBase64: () => (/* binding */ prepareBase64)
/* harmony export */ });
/* harmony import */ var _htmlFilter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./htmlFilter */ "./src/utils/htmlFilter.ts");

function prepareBase64(data) {
  if (data.startsWith('data:')) {
    return (0,_htmlFilter__WEBPACK_IMPORTED_MODULE_0__.htmlFilter)(data);
  }
  return `data:image/jpg;base64,${(0,_htmlFilter__WEBPACK_IMPORTED_MODULE_0__.htmlFilter)(data)}`;
}

/***/ }),

/***/ "./src/utils/propToString.ts":
/*!***********************************!*\
  !*** ./src/utils/propToString.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   propToString: () => (/* binding */ propToString)
/* harmony export */ });
function propToString(val) {
  const valToString = String(val !== null && val !== void 0 ? val : '');
  return valToString;
}

/***/ }),

/***/ "./src/utils/pxToEm.ts":
/*!*****************************!*\
  !*** ./src/utils/pxToEm.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   pxToEm: () => (/* binding */ pxToEm),
/* harmony export */   pxToEmWithUnits: () => (/* binding */ pxToEmWithUnits)
/* harmony export */ });
/**
 * Converts px to em with rounding
 * @param value
 * @returns
 */
function pxToEm(value) {
  if (typeof value !== 'number' && typeof value !== 'string' || !value) {
    return '0';
  }
  const casted = Number(value);
  if (Number.isNaN(casted)) {
    return '0';
  }
  return Math.ceil(casted * 1000) / 10000 + 'em';
}
function pxToEmWithUnits(value) {
  let res = pxToEm(value);
  if (res === '0') {
    res += 'em';
  }
  return res;
}

/***/ }),

/***/ "./src/utils/shadow.ts":
/*!*****************************!*\
  !*** ./src/utils/shadow.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   shadowToCssBoxShadow: () => (/* binding */ shadowToCssBoxShadow),
/* harmony export */   shadowToCssFilter: () => (/* binding */ shadowToCssFilter)
/* harmony export */ });
/* harmony import */ var _correctColor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./correctColor */ "./src/utils/correctColor.ts");
/* harmony import */ var _pxToEm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pxToEm */ "./src/utils/pxToEm.ts");



/**
 * Converts to box-shadow
 * @param shadow
 * @returns css style
 */
function shadowToCssBoxShadow(shadow) {
  var _shadow$offset, _shadow$offset$x, _shadow$offset2, _shadow$offset2$y, _shadow$blur, _shadow$alpha;
  return (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(((_shadow$offset = shadow.offset) === null || _shadow$offset === void 0 ? void 0 : (_shadow$offset$x = _shadow$offset.x) === null || _shadow$offset$x === void 0 ? void 0 : _shadow$offset$x.value) || 0) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(((_shadow$offset2 = shadow.offset) === null || _shadow$offset2 === void 0 ? void 0 : (_shadow$offset2$y = _shadow$offset2.y) === null || _shadow$offset2$y === void 0 ? void 0 : _shadow$offset2$y.value) || 0) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)((_shadow$blur = shadow.blur) !== null && _shadow$blur !== void 0 ? _shadow$blur : 2) + ' ' + (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(shadow.color || '#000000', (_shadow$alpha = shadow.alpha) !== null && _shadow$alpha !== void 0 ? _shadow$alpha : 0.19);
}

/**
 * Converts to filter drop-shadow
 * @param shadow
 * @param fontSize
 * @returns css style
 */
function shadowToCssFilter(shadow, fontSize) {
  var _shadow$alpha2, _shadow$offset3, _shadow$offset3$x, _shadow$offset4, _shadow$offset4$y, _shadow$blur2;
  return 'drop-shadow(' + (0,_correctColor__WEBPACK_IMPORTED_MODULE_1__.correctColor)(shadow.color || '#000000', (_shadow$alpha2 = shadow.alpha) !== null && _shadow$alpha2 !== void 0 ? _shadow$alpha2 : 0.19) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)((((_shadow$offset3 = shadow.offset) === null || _shadow$offset3 === void 0 ? void 0 : (_shadow$offset3$x = _shadow$offset3.x) === null || _shadow$offset3$x === void 0 ? void 0 : _shadow$offset3$x.value) || 0) * 10 / fontSize) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)((((_shadow$offset4 = shadow.offset) === null || _shadow$offset4 === void 0 ? void 0 : (_shadow$offset4$y = _shadow$offset4.y) === null || _shadow$offset4$y === void 0 ? void 0 : _shadow$offset4$y.value) || 0) * 10 / fontSize) + ' ' + (0,_pxToEm__WEBPACK_IMPORTED_MODULE_0__.pxToEm)(((_shadow$blur2 = shadow.blur) !== null && _shadow$blur2 !== void 0 ? _shadow$blur2 : 2) * 10 / fontSize) + ')';
}

/***/ }),

/***/ "./src/utils/simpleCheckInput.ts":
/*!***************************************!*\
  !*** ./src/utils/simpleCheckInput.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   simpleCheckInput: () => (/* binding */ simpleCheckInput)
/* harmony export */ });
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wrapError */ "./src/utils/wrapError.ts");
/* harmony import */ var _components_typeMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/typeMap */ "./src/components/typeMap.ts");



/**
 * Simple check for json card
 * @param json
 * @returns Error string or null if everything fine
 */
function simpleCheckInput(json) {
  if (!json) {
    return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing object'));
  }
  const card = json.card;
  const templates = json.templates || {};
  if (!card) {
    return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing card'));
  }
  if (!card.states || !card.states.length) {
    return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing states'));
  }
  for (const templateName in templates) {
    if (templates.hasOwnProperty(templateName)) {
      if (templateName in _components_typeMap__WEBPACK_IMPORTED_MODULE_1__.TYPE_MAP) {
        return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Template name collision'), {
          additional: {
            templateName
          }
        });
      }
    }
  }
  for (let i = 0; i < card.states.length; ++i) {
    if (!card.states[i].div) {
      return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing state div'), {
        additional: {
          stateId: card.states[i].state_id
        }
      });
    }
    if (typeof card.states[i].state_id !== 'number') {
      return (0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing state_id'), {
        additional: {
          index: i
        }
      });
    }
  }
  return null;
}

/***/ }),

/***/ "./src/utils/simpleThrottle.ts":
/*!*************************************!*\
  !*** ./src/utils/simpleThrottle.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   simpleThrottle: () => (/* binding */ simpleThrottle)
/* harmony export */ });
function simpleThrottle(fn, timeout) {
  let runTs = 0;
  let prevRes;
  let awaits = false;
  return function () {
    const now = Date.now();
    if (!runTs || Math.abs(now - runTs) > timeout) {
      runTs = now;

      // eslint-disable-next-line prefer-rest-params
      return prevRes = fn.apply(this, arguments);
    }
    if (!awaits) {
      awaits = true;
      setTimeout(() => {
        awaits = false;
        // eslint-disable-next-line prefer-rest-params
        prevRes = fn.apply(this, arguments);
      }, timeout);
    }
    return prevRes;
  };
}

/***/ }),

/***/ "./src/utils/sumEdgeInsets.ts":
/*!************************************!*\
  !*** ./src/utils/sumEdgeInsets.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sumEdgeInsets: () => (/* binding */ sumEdgeInsets)
/* harmony export */ });
function sumEdgeInsets(a, b) {
  if (!a && !b) {
    return {};
  }
  if (!b) {
    return a;
  }
  if (!a) {
    return b;
  }
  const res = {};
  ['top', 'right', 'bottom', 'left', 'start', 'end'].forEach(side => {
    const aVal = a[side];
    if (aVal) {
      res[side] = aVal;
    }
    const bVal = b[side];
    if (bVal) {
      res[side] = (res[side] || 0) + bVal;
    }
  });
  return res;
}

/***/ }),

/***/ "./src/utils/textDiff.ts":
/*!*******************************!*\
  !*** ./src/utils/textDiff.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   textDiff: () => (/* binding */ textDiff)
/* harmony export */ });
// Replicate from Android: client/android/div/src/main/java/com/yandex/div/core/util/mask/TextDiff.kt

function textDiff(left, right) {
  if (left === right) {
    return {
      start: left.length,
      added: 0,
      removed: 0
    };
  }
  if (left.length > right.length) {
    const diff = textDiff(right, left);
    return {
      start: diff.start,
      added: diff.removed,
      removed: diff.added
    };
  }
  let leftIndex = 0;
  let rightIndex = right.length - 1;
  const lengthDiff = right.length - left.length;
  while (leftIndex < rightIndex && leftIndex < left.length && left[leftIndex] === right[leftIndex]) {
    ++leftIndex;
  }
  while (rightIndex - lengthDiff >= leftIndex && left[rightIndex - lengthDiff] === right[rightIndex]) {
    --rightIndex;
  }
  ++rightIndex;
  return {
    start: leftIndex,
    added: rightIndex - leftIndex,
    removed: rightIndex - leftIndex - lengthDiff
  };
}

/***/ }),

/***/ "./src/utils/timers.ts":
/*!*****************************!*\
  !*** ./src/utils/timers.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TimersController: () => (/* binding */ TimersController)
/* harmony export */ });
/* harmony import */ var _wrapError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wrapError */ "./src/utils/wrapError.ts");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }

const AVAIL_ACTIONS_NAMES = ['start', 'stop', 'pause', 'resume', 'cancel', 'reset'];
const AVAIL_ACTIONS = new Set(AVAIL_ACTIONS_NAMES);
class TimersController {
  constructor(opts) {
    _defineProperty(this, "timers", new Map());
    _defineProperty(this, "awaitActions", []);
    this.logError = opts.logError;
    this.applyVars = opts.applyVars;
    this.hasVariableWithType = opts.hasVariableWithType;
    this.setVariableValue = opts.setVariableValue;
    this.execAnyActions = opts.execAnyActions;
    this.visibilityHandler = () => {
      if (document.visibilityState === 'visible') {
        this.awaitActions.forEach(({
          id,
          action
        }) => {
          this.execTimerAction(id, action);
        });
        this.awaitActions = [];
        this.unholdAll();
      } else {
        this.holdAll();
      }
    };
    document.addEventListener('visibilitychange', this.visibilityHandler);
  }
  destroy() {
    document.removeEventListener('visibilitychange', this.visibilityHandler);
    for (const [_id, timer] of this.timers) {
      this.stopTimerTimeouts(timer);
    }
  }
  createTimer(timer) {
    if (!(timer !== null && timer !== void 0 && timer.id)) {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Missing timer id')));
      return;
    }
    if (!(timer.duration || timer.tick_interval && (timer.value_variable || timer.tick_actions))) {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Misconfigured timer'), {
        additional: {
          id: timer.id
        }
      }));
      return;
    }
    this.timers.set(timer.id, {
      state: 'stopped',
      definition: timer
    });
  }
  execTimerAction(id, action) {
    if (!id || !action || !this.timers.has(id) || !AVAIL_ACTIONS.has(action)) {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect timer action'), {
        additional: {
          id,
          action
        }
      }));
      return;
    }
    const actionTyped = action;
    if (document.visibilityState !== 'visible') {
      // wait till the page is visible
      this.awaitActions.push({
        id,
        action: actionTyped
      });
      return;
    }

    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    const timer = this.timers.get(id);
    this[actionTyped](timer);
  }
  stopTimerTimeouts(timer) {
    if (timer.durationTimeout) {
      clearTimeout(timer.durationTimeout);
      timer.durationTimeout = undefined;
    }
    if (timer.tickTimeout) {
      clearTimeout(timer.tickTimeout);
      timer.tickTimeout = undefined;
    }
  }
  async tickOrUnholdAction(timer) {
    const now = performance.now();
    const value = (timer.durationPassed || 0) + now - (timer.durationStarted || 0);
    if (timer.duration && value > timer.duration) {
      return;
    }
    this.updateVariable(timer, value);
    await this.callActions(timer, 'tick');
    if (timer.tickCount !== undefined) {
      ++timer.tickCount;
    }
  }
  startOrResume(timer) {
    timer.state = 'running';
    timer.hold = false;
    timer.durationStarted = performance.now();
    const duration = timer.duration;
    if (duration) {
      timer.durationTimeout = window.setTimeout(async () => {
        this.updateVariable(timer, duration);
        if (timer.tickCountPredict && timer.tickCount !== undefined && timer.tickCount < timer.tickCountPredict) {
          await this.callActions(timer, 'tick');
        }
        this.stop(timer);
      }, Math.max(0, duration - (timer.durationPassed || 0)));
    }
    const tick = timer.tick;
    if (tick) {
      const startTick = () => {
        const started = timer.tickStarted = performance.now();
        const duration = Math.max(0, tick - (timer.tickPassed || 0));
        timer.tickTimeout = window.setTimeout(async () => {
          await this.tickOrUnholdAction(timer);
          timer.tickPassed = (performance.now() - started - duration) % tick;
          if (timer.state === 'running') {
            startTick();
          }
        }, duration);
      };
      startTick();
    }
  }
  start(timer) {
    if (timer.state === 'running') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer is already running')));
      return;
    } else if (timer.state === 'paused') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer is paused')));
      return;
    }
    const variableName = timer.definition.value_variable;
    if (variableName && !this.hasVariableWithType(variableName, 'integer')) {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Cannot find variable'), {
        additional: {
          name: variableName
        }
      }));
      return;
    }
    if (variableName) {
      this.setVariableValue(variableName, 0);
    }
    if (timer.definition.duration) {
      timer.duration = this.applyVars(timer.definition.duration);
    }
    if (timer.definition.tick_interval) {
      timer.tick = this.applyVars(timer.definition.tick_interval);
    }
    // duration < 0 is incorrect
    // tick_interval <= is incorrect
    if (timer.duration !== undefined && timer.duration < 0 || timer.tick !== undefined && timer.tick <= 0) {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('Incorrect timer properties'), {
        additional: {
          id: timer.definition.id
        }
      }));
      return;
    }
    if (timer.duration !== undefined && timer.tick !== undefined) {
      timer.tickCount = 0;
      timer.tickCountPredict = Math.floor(timer.duration / timer.tick);
    }
    this.startOrResume(timer);
  }
  stop(timer) {
    if (timer.state === 'stopped') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer has already been stopped')));
      return;
    }
    timer.state = 'stopped';
    timer.durationPassed = 0;
    timer.tickPassed = 0;
    this.stopTimerTimeouts(timer);
    this.callActions(timer, 'end');
  }
  pause(timer) {
    if (timer.state === 'stopped') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer has already been stopped')));
      return;
    } else if (timer.state === 'paused') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer has already been paused')));
      return;
    }
    timer.state = 'paused';
    this.stopTimerTimeouts(timer);
    const now = performance.now();
    if (timer.durationStarted) {
      timer.durationPassed = (timer.durationPassed || 0) + now - timer.durationStarted;
    }
    if (timer.tickStarted) {
      timer.tickPassed = (timer.tickPassed || 0) + now - timer.tickStarted;
    }
    const variableName = timer.definition.value_variable;
    if (variableName && timer.durationPassed) {
      this.setVariableValue(variableName, Math.round(timer.durationPassed));
    }
  }
  resume(timer) {
    if (timer.state === 'stopped') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer has already been stopped')));
      return;
    } else if (timer.state === 'running') {
      this.logError((0,_wrapError__WEBPACK_IMPORTED_MODULE_0__.wrapError)(new Error('The timer is already running')));
      return;
    }
    this.startOrResume(timer);
  }
  cancel(timer) {
    if (timer.state === 'stopped') {
      return;
    }
    timer.state = 'stopped';
    timer.durationPassed = 0;
    timer.tickPassed = 0;
    this.stopTimerTimeouts(timer);
  }
  reset(timer) {
    this.cancel(timer);
    this.start(timer);
  }
  updateVariable(timer, value) {
    const variableName = timer.definition.value_variable;
    if (variableName) {
      this.setVariableValue(variableName, Math.round(value));
    }
  }
  async callActions(timer, type) {
    const actions = timer.definition[type === 'end' ? 'end_actions' : 'tick_actions'];
    if (actions) {
      const actionsWithExpressions = this.applyVars(actions);
      return this.execAnyActions(actionsWithExpressions, {
        processUrls: false
      });
    }
  }
  holdAll() {
    for (const [_id, timer] of this.timers) {
      if (timer.state === 'running') {
        timer.hold = true;
        this.stopTimerTimeouts(timer);
      }
    }
  }
  async unholdAll() {
    for (const [_id, timer] of this.timers) {
      if (timer.state === 'running' && timer.hold) {
        // All timeouts were canceled, but the time is not stopped
        const now = performance.now();
        if (timer.durationStarted) {
          timer.durationPassed = (timer.durationPassed || 0) + now - timer.durationStarted;
        }
        if (timer.tickStarted) {
          timer.tickPassed = (timer.tickPassed || 0) + now - timer.tickStarted;
        }
        if (timer.tick) {
          // Run tick actions and update variable instantly after the page is shown, if:
          // Timer has the tick_interval
          // Timer is not done yet (check inside function)
          await this.tickOrUnholdAction(timer);
        }
        this.startOrResume(timer);
      }
    }
  }
}

/***/ }),

/***/ "./src/utils/truthy.ts":
/*!*****************************!*\
  !*** ./src/utils/truthy.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Truthy: () => (/* binding */ Truthy)
/* harmony export */ });
const Truthy = Boolean;

/***/ }),

/***/ "./src/utils/uniq.ts":
/*!***************************!*\
  !*** ./src/utils/uniq.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   uniq: () => (/* binding */ uniq)
/* harmony export */ });
function uniq(list) {
  return [...new Set(list)];
}

/***/ }),

/***/ "./src/utils/updateCurrencyMask.ts":
/*!*****************************************!*\
  !*** ./src/utils/updateCurrencyMask.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateCurrencyMask: () => (/* binding */ updateCurrencyMask)
/* harmony export */ });
/* harmony import */ var _mask_currencyInputMask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mask/currencyInputMask */ "./src/utils/mask/currencyInputMask.ts");

function updateCurrencyMask(mask, logError, oldValue) {
  if (oldValue) {
    oldValue.updateCurrencyParams(mask.locale);
    return oldValue;
  }
  return new _mask_currencyInputMask__WEBPACK_IMPORTED_MODULE_0__.CurrencyInputMask(mask.locale, logError);
}

/***/ }),

/***/ "./src/utils/updateFixedMask.ts":
/*!**************************************!*\
  !*** ./src/utils/updateFixedMask.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateFixedMask: () => (/* binding */ updateFixedMask)
/* harmony export */ });
/* harmony import */ var _mask_fixedLengthInputMask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mask/fixedLengthInputMask */ "./src/utils/mask/fixedLengthInputMask.ts");

function updateFixedMask(mask, logError, oldValue) {
  if (typeof mask.pattern === 'string' && Array.isArray(mask.pattern_elements) && mask.pattern_elements.every(it => it.key && typeof it.key === 'string')) {
    const maskData = {
      pattern: mask.pattern,
      alwaysVisible: Boolean(mask.always_visible),
      decoding: mask.pattern_elements.map(it => ({
        key: it.key,
        filter: it.regex && typeof it.regex === 'string' ? it.regex : undefined,
        placeholder: it.placeholder && typeof it.placeholder === 'string' ? it.placeholder : '_'
      }))
    };
    if (oldValue) {
      oldValue.updateMaskData(maskData);
      return oldValue;
    }
    return new _mask_fixedLengthInputMask__WEBPACK_IMPORTED_MODULE_0__.FixedLengthInputMask(maskData, logError);
  }
  return oldValue || null;
}

/***/ }),

/***/ "./src/utils/url.ts":
/*!**************************!*\
  !*** ./src/utils/url.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getUrlSchema: () => (/* binding */ getUrlSchema),
/* harmony export */   isBuiltinSchema: () => (/* binding */ isBuiltinSchema)
/* harmony export */ });
function getUrlSchema(url) {
  if (url.startsWith('tel:')) {
    return 'tel';
  }
  const match = /^([^/]+):\/\//.exec(url);
  return match && match[1] || '';
}
function isBuiltinSchema(schema, builtinSchemas) {
  return builtinSchemas.has(schema);
}

/***/ }),

/***/ "./src/utils/video.ts":
/*!****************************!*\
  !*** ./src/utils/video.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   videoSize: () => (/* binding */ videoSize)
/* harmony export */ });
function videoSize(scale) {
  if (scale === 'fill') {
    return 'cover';
    /* } else if (scale === 'stretch') {
        return 'fill'; */
  } else if (scale === 'no_scale') {
    return 'none';
  }

  // 'fit' and default
  return 'contain';
}

/***/ }),

/***/ "./src/utils/wrapError.ts":
/*!********************************!*\
  !*** ./src/utils/wrapError.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   wrapError: () => (/* binding */ wrapError)
/* harmony export */ });
function wrapError(error, params = {}) {
  const wrapped = error;
  wrapped.level = params.level || 'error';
  if (params.additional) {
    wrapped.additional = params.additional;
  }
  return wrapped;
}

/***/ }),

/***/ "./src/components/Root.module.css":
/*!****************************************!*\
  !*** ./src/components/Root.module.css ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"divkit-b023c","root__clickable":"divkit-bd259","root__clickable-no-transition":"divkit-d9099","root__unselectable":"divkit-c016b","root_platform_desktop":"divkit-ee112","root__only-desktop":"divkit-fef1e","root_restrict-scroll":"divkit-aa145","root_disabled-context-menu":"divkit-f0cba"});

/***/ }),

/***/ "./src/components/container/Container.module.css":
/*!*******************************************************!*\
  !*** ./src/components/container/Container.module.css ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"divkit-d37d6","container_wrap":"divkit-c8551","container_overflow_visible":"divkit-f315a","container_orientation_vertical":"divkit-ddc33","container_valign_start":"divkit-a31f0","container_valign_center":"divkit-aae61","container_valign_end":"divkit-eac00","container_valign_space-between":"divkit-ce053","container_valign_space-around":"divkit-cf29b","container_valign_space-evenly":"divkit-b4b04","container_halign_start":"divkit-efaf5","container_halign_center":"divkit-bac9d","container_halign_end":"divkit-ca36b","container_halign_space-between":"divkit-e5c38","container_halign_space-around":"divkit-feff2","container_halign_space-evenly":"divkit-e5e05","container_orientation_horizontal":"divkit-fe458","container_orientation_overlap":"divkit-a644d"});

/***/ }),

/***/ "./src/components/container/ContainerSeparator.module.css":
/*!****************************************************************!*\
  !*** ./src/components/container/ContainerSeparator.module.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container-separator":"divkit-a7719","container-separator__item":"divkit-c770e","container-separator__shape":"divkit-f6e9a"});

/***/ }),

/***/ "./src/components/gallery/Gallery.module.css":
/*!***************************************************!*\
  !*** ./src/components/gallery/Gallery.module.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"gallery":"divkit-cbb0f","gallery__scroller":"divkit-a4e39","gallery_scrollbar_none":"divkit-f49e7","gallery_orientation_horizontal":"divkit-c9be7","gallery_orientation_vertical":"divkit-a72d5","gallery_scroll-snap":"divkit-f606e","gallery__items-grid":"divkit-eb4a5","gallery__items":"divkit-af276","gallery__arrow":"divkit-b72d7","gallery__arrow-icon-path":"divkit-b4173"});

/***/ }),

/***/ "./src/components/grid/Grid.module.css":
/*!*********************************************!*\
  !*** ./src/components/grid/Grid.module.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"grid":"divkit-d9080","grid_halign_start":"divkit-fc24d","grid_halign_center":"divkit-a14a6","grid_halign_end":"divkit-cfd04","grid_valign_start":"divkit-c3106","grid_valign_center":"divkit-d4310","grid_valign_end":"divkit-fa9cf"});

/***/ }),

/***/ "./src/components/image/Image.module.css":
/*!***********************************************!*\
  !*** ./src/components/image/Image.module.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"image":"divkit-a448f","image_is-width-content":"divkit-fe14a","image_is-height-content":"divkit-f4d92","image__image":"divkit-ce046","image_error":"divkit-f10d9","image_is-rtl-mirror":"divkit-ae78c","image__aspect-wrapper":"divkit-dc808","image_aspect":"divkit-ae784","image_loaded":"divkit-cf4e0","divkit-image-appearance":"divkit-e555f","image_before-appearance":"divkit-ffe8a"});

/***/ }),

/***/ "./src/components/indicator/Indicator.module.css":
/*!*******************************************************!*\
  !*** ./src/components/indicator/Indicator.module.css ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"indicator":"divkit-d8e3f","indicator__scroller":"divkit-b5db0","indicator__items":"divkit-d5d94","indicator__item":"divkit-f6629","indicator_placement_default":"divkit-c1670","indicator__item_active":"divkit-b39cd","indicator_direction_ltr":"divkit-a7473","indicator_direction_rtl":"divkit-a7d63","indicator_placement_stretch":"divkit-b6bd3"});

/***/ }),

/***/ "./src/components/input/Input.module.css":
/*!***********************************************!*\
  !*** ./src/components/input/Input.module.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"input":"divkit-c3a4c","input_alignment-horizontal_center":"divkit-fc52a","input_alignment-horizontal_end":"divkit-e9096","input__aligner":"divkit-e0491","input__input":"divkit-f11e0","input__placeholder":"divkit-b7593","input_alignment-vertical_start":"divkit-cd14f","input_alignment-vertical_end":"divkit-cd38f","input_alignment-vertical_baseline":"divkit-dd6af","input_highlight-color":"divkit-cc00f","input__input_singleline":"divkit-ffd1e","input__scroll-wrapper":"divkit-ad8a3","input__input_multiline":"divkit-f61f0","input__input_has-custom-focus":"divkit-e6b50"});

/***/ }),

/***/ "./src/components/menu/Menu.module.css":
/*!*********************************************!*\
  !*** ./src/components/menu/Menu.module.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root_platform_desktop":"divkit-ee112","menu":"divkit-cedbe","menu_visible":"divkit-e4801","menu__list":"divkit-c8df2","menu__item":"divkit-ffd4a"});

/***/ }),

/***/ "./src/components/pager/Pager.module.css":
/*!***********************************************!*\
  !*** ./src/components/pager/Pager.module.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"pager":"divkit-c5feb","pager__items":"divkit-f6987","pager__item":"divkit-feca7","pager_orientation_horizontal":"divkit-b0a1c","pager_orientation_vertical":"divkit-f772f","pager__arrow":"divkit-d78c2","pager__arrow-icon-path":"divkit-a94d9"});

/***/ }),

/***/ "./src/components/select/Select.module.css":
/*!*************************************************!*\
  !*** ./src/components/select/Select.module.css ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"select":"divkit-feef3","select__select-text":"divkit-cd862","select_hint":"divkit-a3cf6","select__select":"divkit-bdb72","select__select_has-custom-focused":"divkit-a46ad","has-custom-focused":"divkit-fc5dc","select__option":"divkit-e774b"});

/***/ }),

/***/ "./src/components/separator/Separator.module.css":
/*!*******************************************************!*\
  !*** ./src/components/separator/Separator.module.css ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"separator":"divkit-a30bb","separator_orientation_horizontal":"divkit-f529e","separator_orientation_vertical":"divkit-e9e27","separator__inner":"divkit-db7d8"});

/***/ }),

/***/ "./src/components/slider/Slider.module.css":
/*!*************************************************!*\
  !*** ./src/components/slider/Slider.module.css ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"slider":"divkit-ef4f7","slider__input":"divkit-d1d65","slider__input_secondary":"divkit-c7980","slider__thumb":"divkit-f3453","slider_direction_rtl":"divkit-fb7b5","slider__thumb_secondary":"divkit-e1984","slider__tracks-wrapper":"divkit-f7338","slider__tracks-inner":"divkit-ac903","slider__track":"divkit-e956c","slider__active-track":"divkit-ec5bf","slider__thumb-text":"divkit-c4af5","slider__thumb-text_secondary":"divkit-d8821","slider__tick":"divkit-bd9bf","slider__tick_active":"divkit-d8ce2","slider__tick_inactive":"divkit-e71e7"});

/***/ }),

/***/ "./src/components/state/State.module.css":
/*!***********************************************!*\
  !*** ./src/components/state/State.module.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"state":"divkit-b8efc","state__animations":"divkit-adaae","state__animation-child":"divkit-eb860","state__animation-child-inner":"divkit-e08c6"});

/***/ }),

/***/ "./src/components/tabs/Tabs.module.css":
/*!*********************************************!*\
  !*** ./src/components/tabs/Tabs.module.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"tabs":"divkit-e0df5","tabs__list":"divkit-ea19b","tabs__item":"divkit-c25c7","tabs__item_selected":"divkit-d560a","tabs__item_actionable":"divkit-dfda0","tabs__panels":"divkit-f5dc0","tabs__swiper":"divkit-eb42c","tabs__swiper_animated":"divkit-b9f18","tabs__swiper_inited":"divkit-fa574","tabs__panel":"divkit-cc9fb","tabs__panel_visible":"divkit-e7306","tabs_height-parent_yes":"divkit-ae594","tabs__separator":"divkit-b85bf"});

/***/ }),

/***/ "./src/components/text/Text.module.css":
/*!*********************************************!*\
  !*** ./src/components/text/Text.module.css ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"text-range":"divkit-faf07","text":"divkit-d9b0e","text_halign_start":"divkit-e70de","text_halign_center":"divkit-e1659","text_halign_end":"divkit-e48b4","text_valign_start":"divkit-b7b70","text_valign_center":"divkit-ef58e","text_valign_end":"divkit-d4206","text_valign_baseline":"divkit-e0c6c","text__inner":"divkit-b8528","text_singleline":"divkit-ef11c","text_multiline":"divkit-ee8e3","text_truncate_none":"divkit-c6ea1","text__inner_gradient":"divkit-cb8e0","text__image":"divkit-bf6e2","text__image_hidden":"divkit-f1002","text_has-focus-color":"divkit-cb341"});

/***/ }),

/***/ "./src/components/text/TextRange.module.css":
/*!**************************************************!*\
  !*** ./src/components/text/TextRange.module.css ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"text-range":"divkit-faf07","text-range_singleline":"divkit-ccb64","text-range__top-offset":"divkit-d9237","text-range_decoration_both":"divkit-d7e07","text-range_decoration_underline":"divkit-f3dde","text-range_decoration_strike":"divkit-d27b7","text-range_decoration_none":"divkit-c6b0f"});

/***/ }),

/***/ "./src/components/tooltip/Tooltip.module.css":
/*!***************************************************!*\
  !*** ./src/components/tooltip/Tooltip.module.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"tooltip":"divkit-f1907","tooltip_visible":"divkit-e5914"});

/***/ }),

/***/ "./src/components/utilities/Arrows.module.css":
/*!****************************************************!*\
  !*** ./src/components/utilities/Arrows.module.css ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"arrow":"divkit-bf36b","arrow__icon":"divkit-a67bf","arrow_left":"divkit-e2a31","arrow_right":"divkit-c684b"});

/***/ }),

/***/ "./src/components/utilities/Outer.module.css":
/*!***************************************************!*\
  !*** ./src/components/utilities/Outer.module.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"outer":"divkit-d65a7","outer_hide-on-transition-in":"divkit-a6d12","outer_halign-self_start":"divkit-cc452","outer_halign-self_center":"divkit-b8331","outer_halign-self_end":"divkit-c573c","outer_halign-self_stretch":"divkit-dcc74","outer_valign-self_start":"divkit-e8077","outer_valign-self_center":"divkit-d40a7","outer_valign-self_end":"divkit-e9f84","outer_valign-self_stretch":"divkit-b7aa3","outer_parent-flex_vertical":"divkit-c143f","outer_parent-flex_horizontal":"divkit-ef302","outer_valign-self_baseline":"divkit-e72b5","outer_width_content":"divkit-b8f4d","outer_height_content":"divkit-faa66","outer_width-constrained":"divkit-d3211","outer_parent-grid":"divkit-ff439","outer_height-constrained":"divkit-a5256","outer_parent-overlap":"divkit-dab2d","outer_parent-overlap-absolute":"divkit-d43fb","outer_scroll-snap_center":"divkit-d9e38","outer_scroll-snap_start":"divkit-efd1e","outer__border":"divkit-d4056","outer_visibility_invisible":"divkit-f018b","outer_visibility_gone":"divkit-e784b","outer_has-action-animation":"divkit-f4980","outer_has-custom-focus":"divkit-c7f14"});

/***/ }),

/***/ "./src/components/utilities/OuterBackground.module.css":
/*!*************************************************************!*\
  !*** ./src/components/utilities/OuterBackground.module.css ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"outer-background":"divkit-bf253","outer-background_clip":"divkit-dcad7","outer-background__item":"divkit-b921d","outer-background__item_hidden":"divkit-cd613"});

/***/ }),

/***/ "./src/components/utilities/RootSvgFilters.module.css":
/*!************************************************************!*\
  !*** ./src/components/utilities/RootSvgFilters.module.css ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root-svg-filters":"divkit-dc22b"});

/***/ }),

/***/ "./src/components/video/Video.module.css":
/*!***********************************************!*\
  !*** ./src/components/video/Video.module.css ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"video__video":"divkit-c11f9","video__aspect-wrapper":"divkit-cfe32","video_aspect":"divkit-a4f5c"});

/***/ }),

/***/ "./node_modules/svelte/src/runtime/easing/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/easing/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   backIn: () => (/* binding */ backIn),
/* harmony export */   backInOut: () => (/* binding */ backInOut),
/* harmony export */   backOut: () => (/* binding */ backOut),
/* harmony export */   bounceIn: () => (/* binding */ bounceIn),
/* harmony export */   bounceInOut: () => (/* binding */ bounceInOut),
/* harmony export */   bounceOut: () => (/* binding */ bounceOut),
/* harmony export */   circIn: () => (/* binding */ circIn),
/* harmony export */   circInOut: () => (/* binding */ circInOut),
/* harmony export */   circOut: () => (/* binding */ circOut),
/* harmony export */   cubicIn: () => (/* binding */ cubicIn),
/* harmony export */   cubicInOut: () => (/* binding */ cubicInOut),
/* harmony export */   cubicOut: () => (/* binding */ cubicOut),
/* harmony export */   elasticIn: () => (/* binding */ elasticIn),
/* harmony export */   elasticInOut: () => (/* binding */ elasticInOut),
/* harmony export */   elasticOut: () => (/* binding */ elasticOut),
/* harmony export */   expoIn: () => (/* binding */ expoIn),
/* harmony export */   expoInOut: () => (/* binding */ expoInOut),
/* harmony export */   expoOut: () => (/* binding */ expoOut),
/* harmony export */   linear: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.identity),
/* harmony export */   quadIn: () => (/* binding */ quadIn),
/* harmony export */   quadInOut: () => (/* binding */ quadInOut),
/* harmony export */   quadOut: () => (/* binding */ quadOut),
/* harmony export */   quartIn: () => (/* binding */ quartIn),
/* harmony export */   quartInOut: () => (/* binding */ quartInOut),
/* harmony export */   quartOut: () => (/* binding */ quartOut),
/* harmony export */   quintIn: () => (/* binding */ quintIn),
/* harmony export */   quintInOut: () => (/* binding */ quintInOut),
/* harmony export */   quintOut: () => (/* binding */ quintOut),
/* harmony export */   sineIn: () => (/* binding */ sineIn),
/* harmony export */   sineInOut: () => (/* binding */ sineInOut),
/* harmony export */   sineOut: () => (/* binding */ sineOut)
/* harmony export */ });
/* harmony import */ var _internal_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/index.js */ "./node_modules/svelte/src/runtime/internal/index.js");
/*
Adapted from https://github.com/mattdesl
Distributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md
*/


/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function backInOut(t) {
  const s = 1.70158 * 1.525;
  if ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));
  return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function backIn(t) {
  const s = 1.70158;
  return t * t * ((s + 1) * t - s);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function backOut(t) {
  const s = 1.70158;
  return --t * t * ((s + 1) * t + s) + 1;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function bounceOut(t) {
  const a = 4.0 / 11.0;
  const b = 8.0 / 11.0;
  const c = 9.0 / 10.0;
  const ca = 4356.0 / 361.0;
  const cb = 35442.0 / 1805.0;
  const cc = 16061.0 / 1805.0;
  const t2 = t * t;
  return t < a ? 7.5625 * t2 : t < b ? 9.075 * t2 - 9.9 * t + 3.4 : t < c ? ca * t2 - cb * t + cc : 10.8 * t * t - 20.52 * t + 10.72;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function bounceInOut(t) {
  return t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function bounceIn(t) {
  return 1.0 - bounceOut(1.0 - t);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function circInOut(t) {
  if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);
  return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function circIn(t) {
  return 1.0 - Math.sqrt(1.0 - t * t);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function circOut(t) {
  return Math.sqrt(1 - --t * t);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function cubicInOut(t) {
  return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function cubicIn(t) {
  return t * t * t;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function cubicOut(t) {
  const f = t - 1.0;
  return f * f * f + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function elasticInOut(t) {
  return t < 0.5 ? 0.5 * Math.sin(+13.0 * Math.PI / 2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0)) : 0.5 * Math.sin(-13.0 * Math.PI / 2 * (2.0 * t - 1.0 + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function elasticIn(t) {
  return Math.sin(13.0 * t * Math.PI / 2) * Math.pow(2.0, 10.0 * (t - 1.0));
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function elasticOut(t) {
  return Math.sin(-13.0 * (t + 1.0) * Math.PI / 2) * Math.pow(2.0, -10.0 * t) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function expoInOut(t) {
  return t === 0.0 || t === 1.0 ? t : t < 0.5 ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0) : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function expoIn(t) {
  return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function expoOut(t) {
  return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quadInOut(t) {
  t /= 0.5;
  if (t < 1) return 0.5 * t * t;
  t--;
  return -0.5 * (t * (t - 2) - 1);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quadIn(t) {
  return t * t;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quadOut(t) {
  return -t * (t - 2.0);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quartInOut(t) {
  return t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quartIn(t) {
  return Math.pow(t, 4.0);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quartOut(t) {
  return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quintInOut(t) {
  if ((t *= 2) < 1) return 0.5 * t * t * t * t * t;
  return 0.5 * ((t -= 2) * t * t * t * t + 2);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quintIn(t) {
  return t * t * t * t * t;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function quintOut(t) {
  return --t * t * t * t * t + 1;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function sineInOut(t) {
  return -0.5 * (Math.cos(Math.PI * t) - 1);
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function sineIn(t) {
  const v = Math.cos(t * Math.PI * 0.5);
  if (Math.abs(v) < 1e-14) return 1;else return 1 - v;
}

/**
 * https://svelte.dev/docs/svelte-easing
 * @param {number} t
 * @returns {number}
 */
function sineOut(t) {
  return Math.sin(t * Math.PI / 2);
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/index.js":
/*!**************************************************!*\
  !*** ./node_modules/svelte/src/runtime/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvelteComponent: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.SvelteComponentDev),
/* harmony export */   SvelteComponentTyped: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.SvelteComponentTyped),
/* harmony export */   afterUpdate: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.afterUpdate),
/* harmony export */   beforeUpdate: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.beforeUpdate),
/* harmony export */   createEventDispatcher: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.createEventDispatcher),
/* harmony export */   getAllContexts: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.getAllContexts),
/* harmony export */   getContext: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.getContext),
/* harmony export */   hasContext: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.hasContext),
/* harmony export */   onDestroy: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.onDestroy),
/* harmony export */   onMount: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.onMount),
/* harmony export */   setContext: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.setContext),
/* harmony export */   tick: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.tick)
/* harmony export */ });
/* harmony import */ var _internal_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal/index.js */ "./node_modules/svelte/src/runtime/internal/index.js");


/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/Component.js":
/*!***************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/Component.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvelteComponent: () => (/* binding */ SvelteComponent),
/* harmony export */   SvelteElement: () => (/* binding */ SvelteElement),
/* harmony export */   bind: () => (/* binding */ bind),
/* harmony export */   claim_component: () => (/* binding */ claim_component),
/* harmony export */   create_component: () => (/* binding */ create_component),
/* harmony export */   create_custom_element: () => (/* binding */ create_custom_element),
/* harmony export */   destroy_component: () => (/* binding */ destroy_component),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   mount_component: () => (/* binding */ mount_component)
/* harmony export */ });
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scheduler.js */ "./node_modules/svelte/src/runtime/internal/scheduler.js");
/* harmony import */ var _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lifecycle.js */ "./node_modules/svelte/src/runtime/internal/lifecycle.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");
/* harmony import */ var _transitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transitions.js */ "./node_modules/svelte/src/runtime/internal/transitions.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }






/** @returns {void} */
function bind(component, name, callback) {
  const index = component.$$.props[name];
  if (index !== undefined) {
    component.$$.bound[index] = callback;
    callback(component.$$.ctx[index]);
  }
}

/** @returns {void} */
function create_component(block) {
  block && block.c();
}

/** @returns {void} */
function claim_component(block, parent_nodes) {
  block && block.l(parent_nodes);
}

/** @returns {void} */
function mount_component(component, target, anchor) {
  const {
    fragment,
    after_update
  } = component.$$;
  fragment && fragment.m(target, anchor);
  // onMount happens before the initial afterUpdate
  (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_0__.add_render_callback)(() => {
    const new_on_destroy = component.$$.on_mount.map(_utils_js__WEBPACK_IMPORTED_MODULE_2__.run).filter(_utils_js__WEBPACK_IMPORTED_MODULE_2__.is_function);
    // if the component was destroyed immediately
    // it will update the `$$.on_destroy` reference to `null`.
    // the destructured on_destroy may still reference to the old array
    if (component.$$.on_destroy) {
      component.$$.on_destroy.push(...new_on_destroy);
    } else {
      // Edge case - component was destroyed immediately,
      // most likely as a result of a binding initialising
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.run_all)(new_on_destroy);
    }
    component.$$.on_mount = [];
  });
  after_update.forEach(_scheduler_js__WEBPACK_IMPORTED_MODULE_0__.add_render_callback);
}

/** @returns {void} */
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_0__.flush_render_callbacks)($$.after_update);
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.run_all)($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    // TODO null out other refs, including component.$$ (but need to
    // preserve final state?)
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}

/** @returns {void} */
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    _scheduler_js__WEBPACK_IMPORTED_MODULE_0__.dirty_components.push(component);
    (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_0__.schedule_update)();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}

/** @returns {void} */
function init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.current_component;
  (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.set_current_component)(component);
  /** @type {import('./private.js').T$$} */
  const $$ = component.$$ = {
    fragment: null,
    ctx: [],
    // state
    props,
    update: _utils_js__WEBPACK_IMPORTED_MODULE_2__.noop,
    not_equal,
    bound: (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.blank_object)(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    // everything else
    callbacks: (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.blank_object)(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance ? instance(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);
      if (ready) make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.run_all)($$.before_update);
  // `false` as a special case of no DOM component
  $$.fragment = create_fragment ? create_fragment($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.start_hydrating)();
      const nodes = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.children)(options.target);
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(_dom_js__WEBPACK_IMPORTED_MODULE_3__.detach);
    } else {
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      $$.fragment && $$.fragment.c();
    }
    if (options.intro) (0,_transitions_js__WEBPACK_IMPORTED_MODULE_4__.transition_in)(component.$$.fragment);
    mount_component(component, options.target, options.anchor);
    (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.end_hydrating)();
    (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_0__.flush)();
  }
  (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.set_current_component)(parent_component);
}
let SvelteElement;
if (typeof HTMLElement === 'function') {
  SvelteElement = class SvelteElement extends HTMLElement {
    constructor($$componentCtor, $$slots, use_shadow_dom) {
      super();
      /** The Svelte component constructor */
      _defineProperty(this, "$$ctor", void 0);
      /** Slots */
      _defineProperty(this, "$$s", void 0);
      /** The Svelte component instance */
      _defineProperty(this, "$$c", void 0);
      /** Whether or not the custom element is connected */
      _defineProperty(this, "$$cn", false);
      /** Component props data */
      _defineProperty(this, "$$d", {});
      /** `true` if currently in the process of reflecting component props back to attributes */
      _defineProperty(this, "$$r", false);
      /** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */
      _defineProperty(this, "$$p_d", {});
      /** @type {Record<string, Function[]>} Event listeners */
      _defineProperty(this, "$$l", {});
      /** @type {Map<Function, Function>} Event listener unsubscribe functions */
      _defineProperty(this, "$$l_u", new Map());
      this.$$ctor = $$componentCtor;
      this.$$s = $$slots;
      if (use_shadow_dom) {
        this.attachShadow({
          mode: 'open'
        });
      }
    }
    addEventListener(type, listener, options) {
      // We can't determine upfront if the event is a custom event or not, so we have to
      // listen to both. If someone uses a custom event with the same name as a regular
      // browser event, this fires twice - we can't avoid that.
      this.$$l[type] = this.$$l[type] || [];
      this.$$l[type].push(listener);
      if (this.$$c) {
        const unsub = this.$$c.$on(type, listener);
        this.$$l_u.set(listener, unsub);
      }
      super.addEventListener(type, listener, options);
    }
    removeEventListener(type, listener, options) {
      super.removeEventListener(type, listener, options);
      if (this.$$c) {
        const unsub = this.$$l_u.get(listener);
        if (unsub) {
          unsub();
          this.$$l_u.delete(listener);
        }
      }
    }
    async connectedCallback() {
      this.$$cn = true;
      if (!this.$$c) {
        // We wait one tick to let possible child slot elements be created/mounted
        await Promise.resolve();
        if (!this.$$cn) {
          return;
        }
        function create_slot(name) {
          return () => {
            let node;
            const obj = {
              c: function create() {
                node = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.element)('slot');
                if (name !== 'default') {
                  (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.attr)(node, 'name', name);
                }
              },
              /**
               * @param {HTMLElement} target
               * @param {HTMLElement} [anchor]
               */
              m: function mount(target, anchor) {
                (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.insert)(target, node, anchor);
              },
              d: function destroy(detaching) {
                if (detaching) {
                  (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.detach)(node);
                }
              }
            };
            return obj;
          };
        }
        const $$slots = {};
        const existing_slots = (0,_dom_js__WEBPACK_IMPORTED_MODULE_3__.get_custom_elements_slots)(this);
        for (const name of this.$$s) {
          if (name in existing_slots) {
            $$slots[name] = [create_slot(name)];
          }
        }
        for (const attribute of this.attributes) {
          // this.$$data takes precedence over this.attributes
          const name = this.$$g_p(attribute.name);
          if (!(name in this.$$d)) {
            this.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');
          }
        }
        this.$$c = new this.$$ctor({
          target: this.shadowRoot || this,
          props: _objectSpread(_objectSpread({}, this.$$d), {}, {
            $$slots,
            $$scope: {
              ctx: []
            }
          })
        });

        // Reflect component props as attributes
        const reflect_attributes = () => {
          this.$$r = true;
          for (const key in this.$$p_d) {
            this.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];
            if (this.$$p_d[key].reflect) {
              const attribute_value = get_custom_element_value(key, this.$$d[key], this.$$p_d, 'toAttribute');
              if (attribute_value == null) {
                this.removeAttribute(key);
              } else {
                this.setAttribute(this.$$p_d[key].attribute || key, attribute_value);
              }
            }
          }
          this.$$r = false;
        };
        this.$$c.$$.after_update.push(reflect_attributes);
        reflect_attributes(); // once initially because after_update is added too late for first render

        for (const type in this.$$l) {
          for (const listener of this.$$l[type]) {
            const unsub = this.$$c.$on(type, listener);
            this.$$l_u.set(listener, unsub);
          }
        }
        this.$$l = {};
      }
    }

    // We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte
    // and setting attributes through setAttribute etc, this is helpful
    attributeChangedCallback(attr, _oldValue, newValue) {
      var _this$$$c;
      if (this.$$r) return;
      attr = this.$$g_p(attr);
      this.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');
      (_this$$$c = this.$$c) === null || _this$$$c === void 0 ? void 0 : _this$$$c.$set({
        [attr]: this.$$d[attr]
      });
    }
    disconnectedCallback() {
      this.$$cn = false;
      // In a microtask, because this could be a move within the DOM
      Promise.resolve().then(() => {
        if (!this.$$cn) {
          this.$$c.$destroy();
          this.$$c = undefined;
        }
      });
    }
    $$g_p(attribute_name) {
      return Object.keys(this.$$p_d).find(key => this.$$p_d[key].attribute === attribute_name || !this.$$p_d[key].attribute && key.toLowerCase() === attribute_name) || attribute_name;
    }
  };
}

/**
 * @param {string} prop
 * @param {any} value
 * @param {Record<string, CustomElementPropDefinition>} props_definition
 * @param {'toAttribute' | 'toProp'} [transform]
 */
function get_custom_element_value(prop, value, props_definition, transform) {
  var _props_definition$pro;
  const type = (_props_definition$pro = props_definition[prop]) === null || _props_definition$pro === void 0 ? void 0 : _props_definition$pro.type;
  value = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;
  if (!transform || !props_definition[prop]) {
    return value;
  } else if (transform === 'toAttribute') {
    switch (type) {
      case 'Object':
      case 'Array':
        return value == null ? null : JSON.stringify(value);
      case 'Boolean':
        return value ? '' : null;
      case 'Number':
        return value == null ? null : value;
      default:
        return value;
    }
  } else {
    switch (type) {
      case 'Object':
      case 'Array':
        return value && JSON.parse(value);
      case 'Boolean':
        return value;
      // conversion already handled above
      case 'Number':
        return value != null ? +value : value;
      default:
        return value;
    }
  }
}

/**
 * @internal
 *
 * Turn a Svelte component into a custom element.
 * @param {import('./public.js').ComponentType} Component  A Svelte component constructor
 * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe
 * @param {string[]} slots  The slots to create
 * @param {string[]} accessors  Other accessors besides the ones for props the component has
 * @param {boolean} use_shadow_dom  Whether to use shadow DOM
 * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]
 */
function create_custom_element(Component, props_definition, slots, accessors, use_shadow_dom, extend) {
  let Class = class extends SvelteElement {
    constructor() {
      super(Component, slots, use_shadow_dom);
      this.$$p_d = props_definition;
    }
    static get observedAttributes() {
      return Object.keys(props_definition).map(key => (props_definition[key].attribute || key).toLowerCase());
    }
  };
  Object.keys(props_definition).forEach(prop => {
    Object.defineProperty(Class.prototype, prop, {
      get() {
        return this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];
      },
      set(value) {
        var _this$$$c2;
        value = get_custom_element_value(prop, value, props_definition);
        this.$$d[prop] = value;
        (_this$$$c2 = this.$$c) === null || _this$$$c2 === void 0 ? void 0 : _this$$$c2.$set({
          [prop]: value
        });
      }
    });
  });
  accessors.forEach(accessor => {
    Object.defineProperty(Class.prototype, accessor, {
      get() {
        var _this$$$c3;
        return (_this$$$c3 = this.$$c) === null || _this$$$c3 === void 0 ? void 0 : _this$$$c3[accessor];
      }
    });
  });
  if (extend) {
    // @ts-expect-error - assigning here is fine
    Class = extend(Class);
  }
  Component.element = /** @type {any} */Class;
  return Class;
}

/**
 * Base class for Svelte components. Used when dev=false.
 *
 * @template {Record<string, any>} [Props=any]
 * @template {Record<string, any>} [Events=any]
 */
class SvelteComponent {
  constructor() {
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    _defineProperty(this, "$$", undefined);
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    _defineProperty(this, "$$set", undefined);
  }
  /** @returns {void} */
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = _utils_js__WEBPACK_IMPORTED_MODULE_2__.noop;
  }

  /**
   * @template {Extract<keyof Events, string>} K
   * @param {K} type
   * @param {((e: Events[K]) => void) | null | undefined} callback
   * @returns {() => void}
   */
  $on(type, callback) {
    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.is_function)(callback)) {
      return _utils_js__WEBPACK_IMPORTED_MODULE_2__.noop;
    }
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1) callbacks.splice(index, 1);
    };
  }

  /**
   * @param {Partial<Props>} props
   * @returns {void}
   */
  $set(props) {
    if (this.$$set && !(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.is_empty)(props)) {
      this.$$.skip_bound = true;
      this.$$set(props);
      this.$$.skip_bound = false;
    }
  }
}

/**
 * @typedef {Object} CustomElementPropDefinition
 * @property {string} [attribute]
 * @property {boolean} [reflect]
 * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]
 */

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ResizeObserverSingleton: () => (/* binding */ ResizeObserverSingleton)
/* harmony export */ });
/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ "./node_modules/svelte/src/runtime/internal/globals.js");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


/**
 * Resize observer singleton.
 * One listener per element only!
 * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ
 */
class ResizeObserverSingleton {
  /** @param {ResizeObserverOptions} options */
  constructor(options) {
    /**
     * @private
     * @readonly
     * @type {WeakMap<Element, import('./private.js').Listener>}
     */
    _defineProperty(this, "_listeners", "WeakMap" in _globals_js__WEBPACK_IMPORTED_MODULE_0__.globals ? new WeakMap() : undefined);
    /**
     * @private
     * @type {ResizeObserver}
     */
    _defineProperty(this, "_observer", undefined);
    /** @type {ResizeObserverOptions} */
    _defineProperty(this, "options", void 0);
    this.options = options;
  }

  /**
   * @param {Element} element
   * @param {import('./private.js').Listener} listener
   * @returns {() => void}
   */
  observe(element, listener) {
    this._listeners.set(element, listener);
    this._getObserver().observe(element, this.options);
    return () => {
      this._listeners.delete(element);
      this._observer.unobserve(element); // this line can probably be removed
    };
  }

  /**
   * @private
   */
  _getObserver() {
    var _this$_observer;
    return (_this$_observer = this._observer) !== null && _this$_observer !== void 0 ? _this$_observer : this._observer = new ResizeObserver(entries => {
      for (const entry of entries) {
        var _this$_listeners$get;
        ResizeObserverSingleton.entries.set(entry.target, entry);
        (_this$_listeners$get = this._listeners.get(entry.target)) === null || _this$_listeners$get === void 0 ? void 0 : _this$_listeners$get(entry);
      }
    });
  }
}

// Needs to be written like this to pass the tree-shake-test
ResizeObserverSingleton.entries = "WeakMap" in _globals_js__WEBPACK_IMPORTED_MODULE_0__.globals ? new WeakMap() : undefined;

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/animations.js":
/*!****************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/animations.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add_transform: () => (/* binding */ add_transform),
/* harmony export */   create_animation: () => (/* binding */ create_animation),
/* harmony export */   fix_position: () => (/* binding */ fix_position)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ "./node_modules/svelte/src/runtime/internal/environment.js");
/* harmony import */ var _loop_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loop.js */ "./node_modules/svelte/src/runtime/internal/loop.js");
/* harmony import */ var _style_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style_manager.js */ "./node_modules/svelte/src/runtime/internal/style_manager.js");





/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {import('./private.js').PositionRect} from
 * @param {import('./private.js').AnimationFn} fn
 */
function create_animation(node, from, fn, params) {
  if (!from) return _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop;
  const to = node.getBoundingClientRect();
  if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom) return _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop;
  const {
    delay = 0,
    duration = 300,
    easing = _utils_js__WEBPACK_IMPORTED_MODULE_0__.identity,
    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?
    start: start_time = (0,_environment_js__WEBPACK_IMPORTED_MODULE_1__.now)() + delay,
    // @ts-ignore todo:
    end = start_time + duration,
    tick = _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop,
    css
  } = fn(node, {
    from,
    to
  }, params);
  let running = true;
  let started = false;
  let name;
  /** @returns {void} */
  function start() {
    if (css) {
      name = (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.create_rule)(node, 0, 1, duration, delay, easing, css);
    }
    if (!delay) {
      started = true;
    }
  }
  /** @returns {void} */
  function stop() {
    if (css) (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.delete_rule)(node, name);
    running = false;
  }
  (0,_loop_js__WEBPACK_IMPORTED_MODULE_2__.loop)(now => {
    if (!started && now >= start_time) {
      started = true;
    }
    if (started && now >= end) {
      tick(1, 0);
      stop();
    }
    if (!running) {
      return false;
    }
    if (started) {
      const p = now - start_time;
      const t = 0 + 1 * easing(p / duration);
      tick(t, 1 - t);
    }
    return true;
  });
  start();
  tick(0, 1);
  return stop;
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @returns {void}
 */
function fix_position(node) {
  const style = getComputedStyle(node);
  if (style.position !== 'absolute' && style.position !== 'fixed') {
    const {
      width,
      height
    } = style;
    const a = node.getBoundingClientRect();
    node.style.position = 'absolute';
    node.style.width = width;
    node.style.height = height;
    add_transform(node, a);
  }
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {import('./private.js').PositionRect} a
 * @returns {void}
 */
function add_transform(node, a) {
  const b = node.getBoundingClientRect();
  if (a.left !== b.left || a.top !== b.top) {
    const style = getComputedStyle(node);
    const transform = style.transform === 'none' ? '' : style.transform;
    node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;
  }
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/await_block.js":
/*!*****************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/await_block.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   handle_promise: () => (/* binding */ handle_promise),
/* harmony export */   update_await_block_branch: () => (/* binding */ update_await_block_branch)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _transitions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transitions.js */ "./node_modules/svelte/src/runtime/internal/transitions.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scheduler.js */ "./node_modules/svelte/src/runtime/internal/scheduler.js");
/* harmony import */ var _lifecycle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lifecycle.js */ "./node_modules/svelte/src/runtime/internal/lifecycle.js");





/**
 * @template T
 * @param {Promise<T>} promise
 * @param {import('./private.js').PromiseInfo<T>} info
 * @returns {boolean}
 */
function handle_promise(promise, info) {
  const token = info.token = {};
  /**
   * @param {import('./private.js').FragmentFactory} type
   * @param {0 | 1 | 2} index
   * @param {number} [key]
   * @param {any} [value]
   * @returns {void}
   */
  function update(type, index, key, value) {
    if (info.token !== token) return;
    info.resolved = value;
    let child_ctx = info.ctx;
    if (key !== undefined) {
      child_ctx = child_ctx.slice();
      child_ctx[key] = value;
    }
    const block = type && (info.current = type)(child_ctx);
    let needs_flush = false;
    if (info.block) {
      if (info.blocks) {
        info.blocks.forEach((block, i) => {
          if (i !== index && block) {
            (0,_transitions_js__WEBPACK_IMPORTED_MODULE_1__.group_outros)();
            (0,_transitions_js__WEBPACK_IMPORTED_MODULE_1__.transition_out)(block, 1, 1, () => {
              if (info.blocks[i] === block) {
                info.blocks[i] = null;
              }
            });
            (0,_transitions_js__WEBPACK_IMPORTED_MODULE_1__.check_outros)();
          }
        });
      } else {
        info.block.d(1);
      }
      block.c();
      (0,_transitions_js__WEBPACK_IMPORTED_MODULE_1__.transition_in)(block, 1);
      block.m(info.mount(), info.anchor);
      needs_flush = true;
    }
    info.block = block;
    if (info.blocks) info.blocks[index] = block;
    if (needs_flush) {
      (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_2__.flush)();
    }
  }
  if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.is_promise)(promise)) {
    const current_component = (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.get_current_component)();
    promise.then(value => {
      (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.set_current_component)(current_component);
      update(info.then, 1, info.value, value);
      (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.set_current_component)(null);
    }, error => {
      (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.set_current_component)(current_component);
      update(info.catch, 2, info.error, error);
      (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_3__.set_current_component)(null);
      if (!info.hasCatch) {
        throw error;
      }
    });
    // if we previously had a then/catch block, destroy it
    if (info.current !== info.pending) {
      update(info.pending, 0);
      return true;
    }
  } else {
    if (info.current !== info.then) {
      update(info.then, 1, info.value, promise);
      return true;
    }
    info.resolved = /** @type {T} */promise;
  }
}

/** @returns {void} */
function update_await_block_branch(info, ctx, dirty) {
  const child_ctx = ctx.slice();
  const {
    resolved
  } = info;
  if (info.current === info.then) {
    child_ctx[info.value] = resolved;
  }
  if (info.current === info.catch) {
    child_ctx[info.error] = resolved;
  }
  info.block.p(child_ctx, dirty);
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/dev.js":
/*!*********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/dev.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvelteComponentDev: () => (/* binding */ SvelteComponentDev),
/* harmony export */   SvelteComponentTyped: () => (/* binding */ SvelteComponentTyped),
/* harmony export */   append_dev: () => (/* binding */ append_dev),
/* harmony export */   append_hydration_dev: () => (/* binding */ append_hydration_dev),
/* harmony export */   attr_dev: () => (/* binding */ attr_dev),
/* harmony export */   construct_svelte_component_dev: () => (/* binding */ construct_svelte_component_dev),
/* harmony export */   dataset_dev: () => (/* binding */ dataset_dev),
/* harmony export */   detach_after_dev: () => (/* binding */ detach_after_dev),
/* harmony export */   detach_before_dev: () => (/* binding */ detach_before_dev),
/* harmony export */   detach_between_dev: () => (/* binding */ detach_between_dev),
/* harmony export */   detach_dev: () => (/* binding */ detach_dev),
/* harmony export */   dispatch_dev: () => (/* binding */ dispatch_dev),
/* harmony export */   ensure_array_like_dev: () => (/* binding */ ensure_array_like_dev),
/* harmony export */   insert_dev: () => (/* binding */ insert_dev),
/* harmony export */   insert_hydration_dev: () => (/* binding */ insert_hydration_dev),
/* harmony export */   listen_dev: () => (/* binding */ listen_dev),
/* harmony export */   loop_guard: () => (/* binding */ loop_guard),
/* harmony export */   prop_dev: () => (/* binding */ prop_dev),
/* harmony export */   set_data_contenteditable_dev: () => (/* binding */ set_data_contenteditable_dev),
/* harmony export */   set_data_dev: () => (/* binding */ set_data_dev),
/* harmony export */   set_data_maybe_contenteditable_dev: () => (/* binding */ set_data_maybe_contenteditable_dev),
/* harmony export */   validate_dynamic_element: () => (/* binding */ validate_dynamic_element),
/* harmony export */   validate_slots: () => (/* binding */ validate_slots),
/* harmony export */   validate_void_dynamic_element: () => (/* binding */ validate_void_dynamic_element)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");
/* harmony import */ var _Component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Component.js */ "./node_modules/svelte/src/runtime/internal/Component.js");
/* harmony import */ var _shared_utils_names_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/utils/names.js */ "./node_modules/svelte/src/shared/utils/names.js");
/* harmony import */ var _shared_version_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/version.js */ "./node_modules/svelte/src/shared/version.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./each.js */ "./node_modules/svelte/src/runtime/internal/each.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }







/**
 * @template T
 * @param {string} type
 * @param {T} [detail]
 * @returns {void}
 */
function dispatch_dev(type, detail) {
  document.dispatchEvent((0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.custom_event)(type, _objectSpread({
    version: _shared_version_js__WEBPACK_IMPORTED_MODULE_3__.VERSION
  }, detail), {
    bubbles: true
  }));
}

/**
 * @param {Node} target
 * @param {Node} node
 * @returns {void}
 */
function append_dev(target, node) {
  dispatch_dev('SvelteDOMInsert', {
    target,
    node
  });
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.append)(target, node);
}

/**
 * @param {Node} target
 * @param {Node} node
 * @returns {void}
 */
function append_hydration_dev(target, node) {
  dispatch_dev('SvelteDOMInsert', {
    target,
    node
  });
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.append_hydration)(target, node);
}

/**
 * @param {Node} target
 * @param {Node} node
 * @param {Node} [anchor]
 * @returns {void}
 */
function insert_dev(target, node, anchor) {
  dispatch_dev('SvelteDOMInsert', {
    target,
    node,
    anchor
  });
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.insert)(target, node, anchor);
}

/** @param {Node} target
 * @param {Node} node
 * @param {Node} [anchor]
 * @returns {void}
 */
function insert_hydration_dev(target, node, anchor) {
  dispatch_dev('SvelteDOMInsert', {
    target,
    node,
    anchor
  });
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.insert_hydration)(target, node, anchor);
}

/**
 * @param {Node} node
 * @returns {void}
 */
function detach_dev(node) {
  dispatch_dev('SvelteDOMRemove', {
    node
  });
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.detach)(node);
}

/**
 * @param {Node} before
 * @param {Node} after
 * @returns {void}
 */
function detach_between_dev(before, after) {
  while (before.nextSibling && before.nextSibling !== after) {
    detach_dev(before.nextSibling);
  }
}

/**
 * @param {Node} after
 * @returns {void}
 */
function detach_before_dev(after) {
  while (after.previousSibling) {
    detach_dev(after.previousSibling);
  }
}

/**
 * @param {Node} before
 * @returns {void}
 */
function detach_after_dev(before) {
  while (before.nextSibling) {
    detach_dev(before.nextSibling);
  }
}

/**
 * @param {Node} node
 * @param {string} event
 * @param {EventListenerOrEventListenerObject} handler
 * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]
 * @param {boolean} [has_prevent_default]
 * @param {boolean} [has_stop_propagation]
 * @param {boolean} [has_stop_immediate_propagation]
 * @returns {() => void}
 */
function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {
  const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];
  if (has_prevent_default) modifiers.push('preventDefault');
  if (has_stop_propagation) modifiers.push('stopPropagation');
  if (has_stop_immediate_propagation) modifiers.push('stopImmediatePropagation');
  dispatch_dev('SvelteDOMAddEventListener', {
    node,
    event,
    handler,
    modifiers
  });
  const dispose = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.listen)(node, event, handler, options);
  return () => {
    dispatch_dev('SvelteDOMRemoveEventListener', {
      node,
      event,
      handler,
      modifiers
    });
    dispose();
  };
}

/**
 * @param {Element} node
 * @param {string} attribute
 * @param {string} [value]
 * @returns {void}
 */
function attr_dev(node, attribute, value) {
  (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.attr)(node, attribute, value);
  if (value == null) dispatch_dev('SvelteDOMRemoveAttribute', {
    node,
    attribute
  });else dispatch_dev('SvelteDOMSetAttribute', {
    node,
    attribute,
    value
  });
}

/**
 * @param {Element} node
 * @param {string} property
 * @param {any} [value]
 * @returns {void}
 */
function prop_dev(node, property, value) {
  node[property] = value;
  dispatch_dev('SvelteDOMSetProperty', {
    node,
    property,
    value
  });
}

/**
 * @param {HTMLElement} node
 * @param {string} property
 * @param {any} [value]
 * @returns {void}
 */
function dataset_dev(node, property, value) {
  node.dataset[property] = value;
  dispatch_dev('SvelteDOMSetDataset', {
    node,
    property,
    value
  });
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @returns {void}
 */
function set_data_dev(text, data) {
  data = '' + data;
  if (text.data === data) return;
  dispatch_dev('SvelteDOMSetData', {
    node: text,
    data
  });
  text.data = /** @type {string} */data;
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @returns {void}
 */
function set_data_contenteditable_dev(text, data) {
  data = '' + data;
  if (text.wholeText === data) return;
  dispatch_dev('SvelteDOMSetData', {
    node: text,
    data
  });
  text.data = /** @type {string} */data;
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @param {string} attr_value
 * @returns {void}
 */
function set_data_maybe_contenteditable_dev(text, data, attr_value) {
  if (~_utils_js__WEBPACK_IMPORTED_MODULE_4__.contenteditable_truthy_values.indexOf(attr_value)) {
    set_data_contenteditable_dev(text, data);
  } else {
    set_data_dev(text, data);
  }
}
function ensure_array_like_dev(arg) {
  if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg) && !(typeof Symbol === 'function' && arg && Symbol.iterator in arg)) {
    throw new Error('{#each} only works with iterable values.');
  }
  return (0,_each_js__WEBPACK_IMPORTED_MODULE_5__.ensure_array_like)(arg);
}

/**
 * @returns {void} */
function validate_slots(name, slot, keys) {
  for (const slot_key of Object.keys(slot)) {
    if (!~keys.indexOf(slot_key)) {
      console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
    }
  }
}

/**
 * @param {unknown} tag
 * @returns {void}
 */
function validate_dynamic_element(tag) {
  const is_string = typeof tag === 'string';
  if (tag && !is_string) {
    throw new Error('<svelte:element> expects "this" attribute to be a string.');
  }
}

/**
 * @param {undefined | string} tag
 * @returns {void}
 */
function validate_void_dynamic_element(tag) {
  if (tag && (0,_shared_utils_names_js__WEBPACK_IMPORTED_MODULE_2__.is_void)(tag)) {
    console.warn(`<svelte:element this="${tag}"> is self-closing and cannot have content.`);
  }
}
function construct_svelte_component_dev(component, props) {
  const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';
  try {
    const instance = new component(props);
    if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {
      throw new Error(error_message);
    }
    return instance;
  } catch (err) {
    const {
      message
    } = err;
    if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {
      throw new Error(error_message);
    } else {
      throw err;
    }
  }
}

/**
 * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.
 *
 * Can be used to create strongly typed Svelte components.
 *
 * #### Example:
 *
 * You have component library on npm called `component-library`, from which
 * you export a component called `MyComponent`. For Svelte+TypeScript users,
 * you want to provide typings. Therefore you create a `index.d.ts`:
 * ```ts
 * import { SvelteComponent } from "svelte";
 * export class MyComponent extends SvelteComponent<{foo: string}> {}
 * ```
 * Typing this makes it possible for IDEs like VS Code with the Svelte extension
 * to provide intellisense and to use the component like this in a Svelte file
 * with TypeScript:
 * ```svelte
 * <script lang="ts">
 * 	import { MyComponent } from "component-library";
 * </script>
 * <MyComponent foo={'bar'} />
 * ```
 * @template {Record<string, any>} [Props=any]
 * @template {Record<string, any>} [Events=any]
 * @template {Record<string, any>} [Slots=any]
 * @extends {SvelteComponent<Props, Events>}
 */
class SvelteComponentDev extends _Component_js__WEBPACK_IMPORTED_MODULE_1__.SvelteComponent {
  /** @param {import('./public.js').ComponentConstructorOptions<Props>} options */
  constructor(options) {
    if (!options || !options.target && !options.$$inline) {
      throw new Error("'target' is a required option");
    }
    super();
    /**
     * For type checking capabilities only.
     * Does not exist at runtime.
     * ### DO NOT USE!
     *
     * @type {Props}
     */
    _defineProperty(this, "$$prop_def", void 0);
    /**
     * For type checking capabilities only.
     * Does not exist at runtime.
     * ### DO NOT USE!
     *
     * @type {Events}
     */
    _defineProperty(this, "$$events_def", void 0);
    /**
     * For type checking capabilities only.
     * Does not exist at runtime.
     * ### DO NOT USE!
     *
     * @type {Slots}
     */
    _defineProperty(this, "$$slot_def", void 0);
  }

  /** @returns {void} */
  $destroy() {
    super.$destroy();
    this.$destroy = () => {
      console.warn('Component was already destroyed'); // eslint-disable-line no-console
    };
  }

  /** @returns {void} */
  $capture_state() {}

  /** @returns {void} */
  $inject_state() {}
}
/**
 * @template {Record<string, any>} [Props=any]
 * @template {Record<string, any>} [Events=any]
 * @template {Record<string, any>} [Slots=any]
 * @deprecated Use `SvelteComponent` instead. See PR for more information: https://github.com/sveltejs/svelte/pull/8512
 * @extends {SvelteComponentDev<Props, Events, Slots>}
 */
class SvelteComponentTyped extends SvelteComponentDev {}

/** @returns {() => void} */
function loop_guard(timeout) {
  const start = Date.now();
  return () => {
    if (Date.now() - start > timeout) {
      throw new Error('Infinite loop detected');
    }
  };
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/dom.js":
/*!*********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/dom.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HtmlTag: () => (/* binding */ HtmlTag),
/* harmony export */   HtmlTagHydration: () => (/* binding */ HtmlTagHydration),
/* harmony export */   ResizeObserverSingleton: () => (/* reexport safe */ _ResizeObserverSingleton_js__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverSingleton),
/* harmony export */   add_iframe_resize_listener: () => (/* binding */ add_iframe_resize_listener),
/* harmony export */   append: () => (/* binding */ append),
/* harmony export */   append_empty_stylesheet: () => (/* binding */ append_empty_stylesheet),
/* harmony export */   append_hydration: () => (/* binding */ append_hydration),
/* harmony export */   append_styles: () => (/* binding */ append_styles),
/* harmony export */   attr: () => (/* binding */ attr),
/* harmony export */   attribute_to_object: () => (/* binding */ attribute_to_object),
/* harmony export */   children: () => (/* binding */ children),
/* harmony export */   claim_comment: () => (/* binding */ claim_comment),
/* harmony export */   claim_element: () => (/* binding */ claim_element),
/* harmony export */   claim_html_tag: () => (/* binding */ claim_html_tag),
/* harmony export */   claim_space: () => (/* binding */ claim_space),
/* harmony export */   claim_svg_element: () => (/* binding */ claim_svg_element),
/* harmony export */   claim_text: () => (/* binding */ claim_text),
/* harmony export */   comment: () => (/* binding */ comment),
/* harmony export */   construct_svelte_component: () => (/* binding */ construct_svelte_component),
/* harmony export */   custom_event: () => (/* binding */ custom_event),
/* harmony export */   destroy_each: () => (/* binding */ destroy_each),
/* harmony export */   detach: () => (/* binding */ detach),
/* harmony export */   element: () => (/* binding */ element),
/* harmony export */   element_is: () => (/* binding */ element_is),
/* harmony export */   empty: () => (/* binding */ empty),
/* harmony export */   end_hydrating: () => (/* binding */ end_hydrating),
/* harmony export */   get_binding_group_value: () => (/* binding */ get_binding_group_value),
/* harmony export */   get_custom_elements_slots: () => (/* binding */ get_custom_elements_slots),
/* harmony export */   get_root_for_style: () => (/* binding */ get_root_for_style),
/* harmony export */   get_svelte_dataset: () => (/* binding */ get_svelte_dataset),
/* harmony export */   head_selector: () => (/* binding */ head_selector),
/* harmony export */   init_binding_group: () => (/* binding */ init_binding_group),
/* harmony export */   init_binding_group_dynamic: () => (/* binding */ init_binding_group_dynamic),
/* harmony export */   insert: () => (/* binding */ insert),
/* harmony export */   insert_hydration: () => (/* binding */ insert_hydration),
/* harmony export */   is_crossorigin: () => (/* binding */ is_crossorigin),
/* harmony export */   listen: () => (/* binding */ listen),
/* harmony export */   object_without_properties: () => (/* binding */ object_without_properties),
/* harmony export */   prevent_default: () => (/* binding */ prevent_default),
/* harmony export */   query_selector_all: () => (/* binding */ query_selector_all),
/* harmony export */   resize_observer_border_box: () => (/* binding */ resize_observer_border_box),
/* harmony export */   resize_observer_content_box: () => (/* binding */ resize_observer_content_box),
/* harmony export */   resize_observer_device_pixel_content_box: () => (/* binding */ resize_observer_device_pixel_content_box),
/* harmony export */   select_multiple_value: () => (/* binding */ select_multiple_value),
/* harmony export */   select_option: () => (/* binding */ select_option),
/* harmony export */   select_options: () => (/* binding */ select_options),
/* harmony export */   select_value: () => (/* binding */ select_value),
/* harmony export */   self: () => (/* binding */ self),
/* harmony export */   set_attributes: () => (/* binding */ set_attributes),
/* harmony export */   set_custom_element_data: () => (/* binding */ set_custom_element_data),
/* harmony export */   set_custom_element_data_map: () => (/* binding */ set_custom_element_data_map),
/* harmony export */   set_data: () => (/* binding */ set_data),
/* harmony export */   set_data_contenteditable: () => (/* binding */ set_data_contenteditable),
/* harmony export */   set_data_maybe_contenteditable: () => (/* binding */ set_data_maybe_contenteditable),
/* harmony export */   set_dynamic_element_data: () => (/* binding */ set_dynamic_element_data),
/* harmony export */   set_input_type: () => (/* binding */ set_input_type),
/* harmony export */   set_input_value: () => (/* binding */ set_input_value),
/* harmony export */   set_style: () => (/* binding */ set_style),
/* harmony export */   set_svg_attributes: () => (/* binding */ set_svg_attributes),
/* harmony export */   space: () => (/* binding */ space),
/* harmony export */   start_hydrating: () => (/* binding */ start_hydrating),
/* harmony export */   stop_immediate_propagation: () => (/* binding */ stop_immediate_propagation),
/* harmony export */   stop_propagation: () => (/* binding */ stop_propagation),
/* harmony export */   svg_element: () => (/* binding */ svg_element),
/* harmony export */   text: () => (/* binding */ text),
/* harmony export */   time_ranges_to_array: () => (/* binding */ time_ranges_to_array),
/* harmony export */   to_number: () => (/* binding */ to_number),
/* harmony export */   toggle_class: () => (/* binding */ toggle_class),
/* harmony export */   trusted: () => (/* binding */ trusted),
/* harmony export */   xlink_attr: () => (/* binding */ xlink_attr)
/* harmony export */ });
/* harmony import */ var _ResizeObserverSingleton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverSingleton.js */ "./node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }


// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM
// at the end of hydration without touching the remaining nodes.
let is_hydrating = false;

/**
 * @returns {void}
 */
function start_hydrating() {
  is_hydrating = true;
}

/**
 * @returns {void}
 */
function end_hydrating() {
  is_hydrating = false;
}

/**
 * @param {number} low
 * @param {number} high
 * @param {(index: number) => number} key
 * @param {number} value
 * @returns {number}
 */
function upper_bound(low, high, key, value) {
  // Return first index of value larger than input value in the range [low, high)
  while (low < high) {
    const mid = low + (high - low >> 1);
    if (key(mid) <= value) {
      low = mid + 1;
    } else {
      high = mid;
    }
  }
  return low;
}

/**
 * @param {NodeEx} target
 * @returns {void}
 */
function init_hydrate(target) {
  if (target.hydrate_init) return;
  target.hydrate_init = true;
  // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>

  let children = /** @type {ArrayLike<NodeEx2>} */target.childNodes;
  // If target is <head>, there may be children without claim_order
  if (target.nodeName === 'HEAD') {
    const myChildren = [];
    for (let i = 0; i < children.length; i++) {
      const node = children[i];
      if (node.claim_order !== undefined) {
        myChildren.push(node);
      }
    }
    children = myChildren;
  }
  /*
   * Reorder claimed children optimally.
   * We can reorder claimed children optimally by finding the longest subsequence of
   * nodes that are already claimed in order and only moving the rest. The longest
   * subsequence of nodes that are claimed in order can be found by
   * computing the longest increasing subsequence of .claim_order values.
   *
   * This algorithm is optimal in generating the least amount of reorder operations
   * possible.
   *
   * Proof:
   * We know that, given a set of reordering operations, the nodes that do not move
   * always form an increasing subsequence, since they do not move among each other
   * meaning that they must be already ordered among each other. Thus, the maximal
   * set of nodes that do not move form a longest increasing subsequence.
   */
  // Compute longest increasing subsequence
  // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j
  const m = new Int32Array(children.length + 1);
  // Predecessor indices + 1
  const p = new Int32Array(children.length);
  m[0] = -1;
  let longest = 0;
  for (let i = 0; i < children.length; i++) {
    const current = children[i].claim_order;
    // Find the largest subsequence length such that it ends in a value less than our current value
    // upper_bound returns first greater value, so we subtract one
    // with fast path for when we are on the current longest subsequence
    const seqLen = (longest > 0 && children[m[longest]].claim_order <= current ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;
    p[i] = m[seqLen] + 1;
    const newLen = seqLen + 1;
    // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.
    m[newLen] = i;
    longest = Math.max(newLen, longest);
  }
  // The longest increasing subsequence of nodes (initially reversed)

  /**
   * @type {NodeEx2[]}
   */
  const lis = [];
  // The rest of the nodes, nodes that will be moved

  /**
   * @type {NodeEx2[]}
   */
  const toMove = [];
  let last = children.length - 1;
  for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {
    lis.push(children[cur - 1]);
    for (; last >= cur; last--) {
      toMove.push(children[last]);
    }
    last--;
  }
  for (; last >= 0; last--) {
    toMove.push(children[last]);
  }
  lis.reverse();
  // We sort the nodes being moved to guarantee that their insertion order matches the claim order
  toMove.sort((a, b) => a.claim_order - b.claim_order);
  // Finally, we move the nodes
  for (let i = 0, j = 0; i < toMove.length; i++) {
    while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {
      j++;
    }
    const anchor = j < lis.length ? lis[j] : null;
    target.insertBefore(toMove[i], anchor);
  }
}

/**
 * @param {Node} target
 * @param {Node} node
 * @returns {void}
 */
function append(target, node) {
  target.appendChild(node);
}

/**
 * @param {Node} target
 * @param {string} style_sheet_id
 * @param {string} styles
 * @returns {void}
 */
function append_styles(target, style_sheet_id, styles) {
  const append_styles_to = get_root_for_style(target);
  if (!append_styles_to.getElementById(style_sheet_id)) {
    const style = element('style');
    style.id = style_sheet_id;
    style.textContent = styles;
    append_stylesheet(append_styles_to, style);
  }
}

/**
 * @param {Node} node
 * @returns {ShadowRoot | Document}
 */
function get_root_for_style(node) {
  if (!node) return document;
  const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;
  if (root && /** @type {ShadowRoot} */root.host) {
    return (/** @type {ShadowRoot} */root
    );
  }
  return node.ownerDocument;
}

/**
 * @param {Node} node
 * @returns {CSSStyleSheet}
 */
function append_empty_stylesheet(node) {
  const style_element = element('style');
  // For transitions to work without 'style-src: unsafe-inline' Content Security Policy,
  // these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.
  // Using the hash for the empty string (for an empty tag) works in all browsers except Safari.
  // So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.
  // The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.
  style_element.textContent = '/* empty */';
  append_stylesheet(get_root_for_style(node), style_element);
  return style_element.sheet;
}

/**
 * @param {ShadowRoot | Document} node
 * @param {HTMLStyleElement} style
 * @returns {CSSStyleSheet}
 */
function append_stylesheet(node, style) {
  append( /** @type {Document} */node.head || node, style);
  return style.sheet;
}

/**
 * @param {NodeEx} target
 * @param {NodeEx} node
 * @returns {void}
 */
function append_hydration(target, node) {
  if (is_hydrating) {
    init_hydrate(target);
    if (target.actual_end_child === undefined || target.actual_end_child !== null && target.actual_end_child.parentNode !== target) {
      target.actual_end_child = target.firstChild;
    }
    // Skip nodes of undefined ordering
    while (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {
      target.actual_end_child = target.actual_end_child.nextSibling;
    }
    if (node !== target.actual_end_child) {
      // We only insert if the ordering of this node should be modified or the parent node is not target
      if (node.claim_order !== undefined || node.parentNode !== target) {
        target.insertBefore(node, target.actual_end_child);
      }
    } else {
      target.actual_end_child = node.nextSibling;
    }
  } else if (node.parentNode !== target || node.nextSibling !== null) {
    target.appendChild(node);
  }
}

/**
 * @param {Node} target
 * @param {Node} node
 * @param {Node} [anchor]
 * @returns {void}
 */
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}

/**
 * @param {NodeEx} target
 * @param {NodeEx} node
 * @param {NodeEx} [anchor]
 * @returns {void}
 */
function insert_hydration(target, node, anchor) {
  if (is_hydrating && !anchor) {
    append_hydration(target, node);
  } else if (node.parentNode !== target || node.nextSibling != anchor) {
    target.insertBefore(node, anchor || null);
  }
}

/**
 * @param {Node} node
 * @returns {void}
 */
function detach(node) {
  if (node.parentNode) {
    node.parentNode.removeChild(node);
  }
}

/**
 * @returns {void} */
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i]) iterations[i].d(detaching);
  }
}

/**
 * @template {keyof HTMLElementTagNameMap} K
 * @param {K} name
 * @returns {HTMLElementTagNameMap[K]}
 */
function element(name) {
  return document.createElement(name);
}

/**
 * @template {keyof HTMLElementTagNameMap} K
 * @param {K} name
 * @param {string} is
 * @returns {HTMLElementTagNameMap[K]}
 */
function element_is(name, is) {
  return document.createElement(name, {
    is
  });
}

/**
 * @template T
 * @template {keyof T} K
 * @param {T} obj
 * @param {K[]} exclude
 * @returns {Pick<T, Exclude<keyof T, K>>}
 */
function object_without_properties(obj, exclude) {
  const target = /** @type {Pick<T, Exclude<keyof T, K>>} */{};
  for (const k in obj) {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.has_prop)(obj, k) &&
    // @ts-ignore
    exclude.indexOf(k) === -1) {
      // @ts-ignore
      target[k] = obj[k];
    }
  }
  return target;
}

/**
 * @template {keyof SVGElementTagNameMap} K
 * @param {K} name
 * @returns {SVGElement}
 */
function svg_element(name) {
  return document.createElementNS('http://www.w3.org/2000/svg', name);
}

/**
 * @param {string} data
 * @returns {Text}
 */
function text(data) {
  return document.createTextNode(data);
}

/**
 * @returns {Text} */
function space() {
  return text(' ');
}

/**
 * @returns {Text} */
function empty() {
  return text('');
}

/**
 * @param {string} content
 * @returns {Comment}
 */
function comment(content) {
  return document.createComment(content);
}

/**
 * @param {EventTarget} node
 * @param {string} event
 * @param {EventListenerOrEventListenerObject} handler
 * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]
 * @returns {() => void}
 */
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}

/**
 * @returns {(event: any) => any} */
function prevent_default(fn) {
  return function (event) {
    event.preventDefault();
    // @ts-ignore
    return fn.call(this, event);
  };
}

/**
 * @returns {(event: any) => any} */
function stop_propagation(fn) {
  return function (event) {
    event.stopPropagation();
    // @ts-ignore
    return fn.call(this, event);
  };
}

/**
 * @returns {(event: any) => any} */
function stop_immediate_propagation(fn) {
  return function (event) {
    event.stopImmediatePropagation();
    // @ts-ignore
    return fn.call(this, event);
  };
}

/**
 * @returns {(event: any) => void} */
function self(fn) {
  return function (event) {
    // @ts-ignore
    if (event.target === this) fn.call(this, event);
  };
}

/**
 * @returns {(event: any) => void} */
function trusted(fn) {
  return function (event) {
    // @ts-ignore
    if (event.isTrusted) fn.call(this, event);
  };
}

/**
 * @param {Element} node
 * @param {string} attribute
 * @param {string} [value]
 * @returns {void}
 */
function attr(node, attribute, value) {
  if (value == null) node.removeAttribute(attribute);else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);
}
/**
 * List of attributes that should always be set through the attr method,
 * because updating them through the property setter doesn't work reliably.
 * In the example of `width`/`height`, the problem is that the setter only
 * accepts numeric values, but the attribute can also be set to a string like `50%`.
 * If this list becomes too big, rethink this approach.
 */
const always_set_through_set_attribute = ['width', 'height'];

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {{ [x: string]: string }} attributes
 * @returns {void}
 */
function set_attributes(node, attributes) {
  // @ts-ignore
  const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);
  for (const key in attributes) {
    if (attributes[key] == null) {
      node.removeAttribute(key);
    } else if (key === 'style') {
      node.style.cssText = attributes[key];
    } else if (key === '__value') {
      /** @type {any} */node.value = node[key] = attributes[key];
    } else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {
      node[key] = attributes[key];
    } else {
      attr(node, key, attributes[key]);
    }
  }
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {{ [x: string]: string }} attributes
 * @returns {void}
 */
function set_svg_attributes(node, attributes) {
  for (const key in attributes) {
    attr(node, key, attributes[key]);
  }
}

/**
 * @param {Record<string, unknown>} data_map
 * @returns {void}
 */
function set_custom_element_data_map(node, data_map) {
  Object.keys(data_map).forEach(key => {
    set_custom_element_data(node, key, data_map[key]);
  });
}

/**
 * @returns {void} */
function set_custom_element_data(node, prop, value) {
  if (prop in node) {
    node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;
  } else {
    attr(node, prop, value);
  }
}

/**
 * @param {string} tag
 */
function set_dynamic_element_data(tag) {
  return /-/.test(tag) ? set_custom_element_data_map : set_attributes;
}

/**
 * @returns {void}
 */
function xlink_attr(node, attribute, value) {
  node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);
}

/**
 * @param {HTMLElement} node
 * @returns {string}
 */
function get_svelte_dataset(node) {
  return node.dataset.svelteH;
}

/**
 * @returns {unknown[]} */
function get_binding_group_value(group, __value, checked) {
  const value = new Set();
  for (let i = 0; i < group.length; i += 1) {
    if (group[i].checked) value.add(group[i].__value);
  }
  if (!checked) {
    value.delete(__value);
  }
  return Array.from(value);
}

/**
 * @param {HTMLInputElement[]} group
 * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}
 */
function init_binding_group(group) {
  /**
   * @type {HTMLInputElement[]} */
  let _inputs;
  return {
    /* push */p(...inputs) {
      _inputs = inputs;
      _inputs.forEach(input => group.push(input));
    },
    /* remove */r() {
      _inputs.forEach(input => group.splice(group.indexOf(input), 1));
    }
  };
}

/**
 * @param {number[]} indexes
 * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}
 */
function init_binding_group_dynamic(group, indexes) {
  /**
   * @type {HTMLInputElement[]} */
  let _group = get_binding_group(group);

  /**
   * @type {HTMLInputElement[]} */
  let _inputs;
  function get_binding_group(group) {
    for (let i = 0; i < indexes.length; i++) {
      group = group[indexes[i]] = group[indexes[i]] || [];
    }
    return group;
  }

  /**
   * @returns {void} */
  function push() {
    _inputs.forEach(input => _group.push(input));
  }

  /**
   * @returns {void} */
  function remove() {
    _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));
  }
  return {
    /* update */u(new_indexes) {
      indexes = new_indexes;
      const new_group = get_binding_group(group);
      if (new_group !== _group) {
        remove();
        _group = new_group;
        push();
      }
    },
    /* push */p(...inputs) {
      _inputs = inputs;
      push();
    },
    /* remove */r: remove
  };
}

/** @returns {number} */
function to_number(value) {
  return value === '' ? null : +value;
}

/** @returns {any[]} */
function time_ranges_to_array(ranges) {
  const array = [];
  for (let i = 0; i < ranges.length; i += 1) {
    array.push({
      start: ranges.start(i),
      end: ranges.end(i)
    });
  }
  return array;
}

/**
 * @param {Element} element
 * @returns {ChildNode[]}
 */
function children(element) {
  return Array.from(element.childNodes);
}

/**
 * @param {ChildNodeArray} nodes
 * @returns {void}
 */
function init_claim_info(nodes) {
  if (nodes.claim_info === undefined) {
    nodes.claim_info = {
      last_index: 0,
      total_claimed: 0
    };
  }
}

/**
 * @template {ChildNodeEx} R
 * @param {ChildNodeArray} nodes
 * @param {(node: ChildNodeEx) => node is R} predicate
 * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} processNode
 * @param {() => R} createNode
 * @param {boolean} dontUpdateLastIndex
 * @returns {R}
 */
function claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {
  // Try to find nodes in an order such that we lengthen the longest increasing subsequence
  init_claim_info(nodes);
  const resultNode = (() => {
    // We first try to find an element after the previous one
    for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {
      const node = nodes[i];
      if (predicate(node)) {
        const replacement = processNode(node);
        if (replacement === undefined) {
          nodes.splice(i, 1);
        } else {
          nodes[i] = replacement;
        }
        if (!dontUpdateLastIndex) {
          nodes.claim_info.last_index = i;
        }
        return node;
      }
    }
    // Otherwise, we try to find one before
    // We iterate in reverse so that we don't go too far back
    for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {
      const node = nodes[i];
      if (predicate(node)) {
        const replacement = processNode(node);
        if (replacement === undefined) {
          nodes.splice(i, 1);
        } else {
          nodes[i] = replacement;
        }
        if (!dontUpdateLastIndex) {
          nodes.claim_info.last_index = i;
        } else if (replacement === undefined) {
          // Since we spliced before the last_index, we decrease it
          nodes.claim_info.last_index--;
        }
        return node;
      }
    }
    // If we can't find any matching node, we create a new one
    return createNode();
  })();
  resultNode.claim_order = nodes.claim_info.total_claimed;
  nodes.claim_info.total_claimed += 1;
  return resultNode;
}

/**
 * @param {ChildNodeArray} nodes
 * @param {string} name
 * @param {{ [key: string]: boolean }} attributes
 * @param {(name: string) => Element | SVGElement} create_element
 * @returns {Element | SVGElement}
 */
function claim_element_base(nodes, name, attributes, create_element) {
  return claim_node(nodes, /** @returns {node is Element | SVGElement} */
  node => node.nodeName === name, /** @param {Element} node */
  node => {
    const remove = [];
    for (let j = 0; j < node.attributes.length; j++) {
      const attribute = node.attributes[j];
      if (!attributes[attribute.name]) {
        remove.push(attribute.name);
      }
    }
    remove.forEach(v => node.removeAttribute(v));
    return undefined;
  }, () => create_element(name));
}

/**
 * @param {ChildNodeArray} nodes
 * @param {string} name
 * @param {{ [key: string]: boolean }} attributes
 * @returns {Element | SVGElement}
 */
function claim_element(nodes, name, attributes) {
  return claim_element_base(nodes, name, attributes, element);
}

/**
 * @param {ChildNodeArray} nodes
 * @param {string} name
 * @param {{ [key: string]: boolean }} attributes
 * @returns {Element | SVGElement}
 */
function claim_svg_element(nodes, name, attributes) {
  return claim_element_base(nodes, name, attributes, svg_element);
}

/**
 * @param {ChildNodeArray} nodes
 * @returns {Text}
 */
function claim_text(nodes, data) {
  return claim_node(nodes, /** @returns {node is Text} */
  node => node.nodeType === 3, /** @param {Text} node */
  node => {
    const dataStr = '' + data;
    if (node.data.startsWith(dataStr)) {
      if (node.data.length !== dataStr.length) {
        return node.splitText(dataStr.length);
      }
    } else {
      node.data = dataStr;
    }
  }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements
  );
}

/**
 * @returns {Text} */
function claim_space(nodes) {
  return claim_text(nodes, ' ');
}

/**
 * @param {ChildNodeArray} nodes
 * @returns {Comment}
 */
function claim_comment(nodes, data) {
  return claim_node(nodes, /** @returns {node is Comment} */
  node => node.nodeType === 8, /** @param {Comment} node */
  node => {
    node.data = '' + data;
    return undefined;
  }, () => comment(data), true);
}
function get_comment_idx(nodes, text, start) {
  for (let i = start; i < nodes.length; i += 1) {
    const node = nodes[i];
    if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {
      return i;
    }
  }
  return -1;
}

/**
 * @param {boolean} is_svg
 * @returns {HtmlTagHydration}
 */
function claim_html_tag(nodes, is_svg) {
  // find html opening tag
  const start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);
  const end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);
  if (start_index === -1 || end_index === -1) {
    return new HtmlTagHydration(is_svg);
  }
  init_claim_info(nodes);
  const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);
  detach(html_tag_nodes[0]);
  detach(html_tag_nodes[html_tag_nodes.length - 1]);
  const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);
  for (const n of claimed_nodes) {
    n.claim_order = nodes.claim_info.total_claimed;
    nodes.claim_info.total_claimed += 1;
  }
  return new HtmlTagHydration(is_svg, claimed_nodes);
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @returns {void}
 */
function set_data(text, data) {
  data = '' + data;
  if (text.data === data) return;
  text.data = /** @type {string} */data;
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @returns {void}
 */
function set_data_contenteditable(text, data) {
  data = '' + data;
  if (text.wholeText === data) return;
  text.data = /** @type {string} */data;
}

/**
 * @param {Text} text
 * @param {unknown} data
 * @param {string} attr_value
 * @returns {void}
 */
function set_data_maybe_contenteditable(text, data, attr_value) {
  if (~_utils_js__WEBPACK_IMPORTED_MODULE_1__.contenteditable_truthy_values.indexOf(attr_value)) {
    set_data_contenteditable(text, data);
  } else {
    set_data(text, data);
  }
}

/**
 * @returns {void} */
function set_input_value(input, value) {
  input.value = value == null ? '' : value;
}

/**
 * @returns {void} */
function set_input_type(input, type) {
  try {
    input.type = type;
  } catch (e) {
    // do nothing
  }
}

/**
 * @returns {void} */
function set_style(node, key, value, important) {
  if (value == null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? 'important' : '');
  }
}

/**
 * @returns {void} */
function select_option(select, value, mounting) {
  for (let i = 0; i < select.options.length; i += 1) {
    const option = select.options[i];
    if (option.__value === value) {
      option.selected = true;
      return;
    }
  }
  if (!mounting || value !== undefined) {
    select.selectedIndex = -1; // no option should be selected
  }
}

/**
 * @returns {void} */
function select_options(select, value) {
  for (let i = 0; i < select.options.length; i += 1) {
    const option = select.options[i];
    option.selected = ~value.indexOf(option.__value);
  }
}
function select_value(select) {
  const selected_option = select.querySelector(':checked');
  return selected_option && selected_option.__value;
}
function select_multiple_value(select) {
  return [].map.call(select.querySelectorAll(':checked'), option => option.__value);
}
// unfortunately this can't be a constant as that wouldn't be tree-shakeable
// so we cache the result instead

/**
 * @type {boolean} */
let crossorigin;

/**
 * @returns {boolean} */
function is_crossorigin() {
  if (crossorigin === undefined) {
    crossorigin = false;
    try {
      if (typeof window !== 'undefined' && window.parent) {
        void window.parent.document;
      }
    } catch (error) {
      crossorigin = true;
    }
  }
  return crossorigin;
}

/**
 * @param {HTMLElement} node
 * @param {() => void} fn
 * @returns {() => void}
 */
function add_iframe_resize_listener(node, fn) {
  const computed_style = getComputedStyle(node);
  if (computed_style.position === 'static') {
    node.style.position = 'relative';
  }
  const iframe = element('iframe');
  iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' + 'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');
  iframe.setAttribute('aria-hidden', 'true');
  iframe.tabIndex = -1;
  const crossorigin = is_crossorigin();

  /**
   * @type {() => void}
   */
  let unsubscribe;
  if (crossorigin) {
    iframe.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>";
    unsubscribe = listen(window, 'message', /** @param {MessageEvent} event */event => {
      if (event.source === iframe.contentWindow) fn();
    });
  } else {
    iframe.src = 'about:blank';
    iframe.onload = () => {
      unsubscribe = listen(iframe.contentWindow, 'resize', fn);
      // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)
      // see https://github.com/sveltejs/svelte/issues/4233
      fn();
    };
  }
  append(node, iframe);
  return () => {
    if (crossorigin) {
      unsubscribe();
    } else if (unsubscribe && iframe.contentWindow) {
      unsubscribe();
    }
    detach(iframe);
  };
}
const resize_observer_content_box = /* @__PURE__ */new _ResizeObserverSingleton_js__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverSingleton({
  box: 'content-box'
});
const resize_observer_border_box = /* @__PURE__ */new _ResizeObserverSingleton_js__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverSingleton({
  box: 'border-box'
});
const resize_observer_device_pixel_content_box = /* @__PURE__ */new _ResizeObserverSingleton_js__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverSingleton({
  box: 'device-pixel-content-box'
});


/**
 * @returns {void} */
function toggle_class(element, name, toggle) {
  // The `!!` is required because an `undefined` flag means flipping the current state.
  element.classList.toggle(name, !!toggle);
}

/**
 * @template T
 * @param {string} type
 * @param {T} [detail]
 * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]
 * @returns {CustomEvent<T>}
 */
function custom_event(type, detail, {
  bubbles = false,
  cancelable = false
} = {}) {
  return new CustomEvent(type, {
    detail,
    bubbles,
    cancelable
  });
}

/**
 * @param {string} selector
 * @param {HTMLElement} parent
 * @returns {ChildNodeArray}
 */
function query_selector_all(selector, parent = document.body) {
  return Array.from(parent.querySelectorAll(selector));
}

/**
 * @param {string} nodeId
 * @param {HTMLElement} head
 * @returns {any[]}
 */
function head_selector(nodeId, head) {
  const result = [];
  let started = 0;
  for (const node of head.childNodes) {
    if (node.nodeType === 8 /* comment node */) {
      const comment = node.textContent.trim();
      if (comment === `HEAD_${nodeId}_END`) {
        started -= 1;
        result.push(node);
      } else if (comment === `HEAD_${nodeId}_START`) {
        started += 1;
        result.push(node);
      }
    } else if (started > 0) {
      result.push(node);
    }
  }
  return result;
}
/** */
class HtmlTag {
  constructor(is_svg = false) {
    /**
     * @private
     * @default false
     */
    _defineProperty(this, "is_svg", false);
    /** parent for creating node */
    _defineProperty(this, "e", undefined);
    /** html tag nodes */
    _defineProperty(this, "n", undefined);
    /** target */
    _defineProperty(this, "t", undefined);
    /** anchor */
    _defineProperty(this, "a", undefined);
    this.is_svg = is_svg;
    this.e = this.n = null;
  }

  /**
   * @param {string} html
   * @returns {void}
   */
  c(html) {
    this.h(html);
  }

  /**
   * @param {string} html
   * @param {HTMLElement | SVGElement} target
   * @param {HTMLElement | SVGElement} anchor
   * @returns {void}
   */
  m(html, target, anchor = null) {
    if (!this.e) {
      if (this.is_svg) this.e = svg_element( /** @type {keyof SVGElementTagNameMap} */target.nodeName);
      /** #7364  target for <template> may be provided as #document-fragment(11) */else this.e = element( /** @type {keyof HTMLElementTagNameMap} */
      target.nodeType === 11 ? 'TEMPLATE' : target.nodeName);
      this.t = target.tagName !== 'TEMPLATE' ? target : /** @type {HTMLTemplateElement} */target.content;
      this.c(html);
    }
    this.i(anchor);
  }

  /**
   * @param {string} html
   * @returns {void}
   */
  h(html) {
    this.e.innerHTML = html;
    this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);
  }

  /**
   * @returns {void} */
  i(anchor) {
    for (let i = 0; i < this.n.length; i += 1) {
      insert(this.t, this.n[i], anchor);
    }
  }

  /**
   * @param {string} html
   * @returns {void}
   */
  p(html) {
    this.d();
    this.h(html);
    this.i(this.a);
  }

  /**
   * @returns {void} */
  d() {
    this.n.forEach(detach);
  }
}
class HtmlTagHydration extends HtmlTag {
  constructor(is_svg = false, claimed_nodes) {
    super(is_svg);
    /** @type {Element[]} hydration claimed nodes */
    _defineProperty(this, "l", undefined);
    this.e = this.n = null;
    this.l = claimed_nodes;
  }

  /**
   * @param {string} html
   * @returns {void}
   */
  c(html) {
    if (this.l) {
      this.n = this.l;
    } else {
      super.c(html);
    }
  }

  /**
   * @returns {void} */
  i(anchor) {
    for (let i = 0; i < this.n.length; i += 1) {
      insert_hydration(this.t, this.n[i], anchor);
    }
  }
}

/**
 * @param {NamedNodeMap} attributes
 * @returns {{}}
 */
function attribute_to_object(attributes) {
  const result = {};
  for (const attribute of attributes) {
    result[attribute.name] = attribute.value;
  }
  return result;
}

/**
 * @param {HTMLElement} element
 * @returns {{}}
 */
function get_custom_elements_slots(element) {
  const result = {};
  element.childNodes.forEach( /** @param {Element} node */node => {
    result[node.slot || 'default'] = true;
  });
  return result;
}
function construct_svelte_component(component, props) {
  return new component(props);
}

/**
 * @typedef {Node & {
 * 	claim_order?: number;
 * 	hydrate_init?: true;
 * 	actual_end_child?: NodeEx;
 * 	childNodes: NodeListOf<NodeEx>;
 * }} NodeEx
 */

/** @typedef {ChildNode & NodeEx} ChildNodeEx */

/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */

/**
 * @typedef {ChildNodeEx[] & {
 * 	claim_info?: {
 * 		last_index: number;
 * 		total_claimed: number;
 * 	};
 * }} ChildNodeArray
 */

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/each.js":
/*!**********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/each.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   destroy_block: () => (/* binding */ destroy_block),
/* harmony export */   ensure_array_like: () => (/* binding */ ensure_array_like),
/* harmony export */   fix_and_destroy_block: () => (/* binding */ fix_and_destroy_block),
/* harmony export */   fix_and_outro_and_destroy_block: () => (/* binding */ fix_and_outro_and_destroy_block),
/* harmony export */   outro_and_destroy_block: () => (/* binding */ outro_and_destroy_block),
/* harmony export */   update_keyed_each: () => (/* binding */ update_keyed_each),
/* harmony export */   validate_each_keys: () => (/* binding */ validate_each_keys)
/* harmony export */ });
/* harmony import */ var _transitions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transitions.js */ "./node_modules/svelte/src/runtime/internal/transitions.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");



// general each functions:

function ensure_array_like(array_like_or_iterator) {
  return (array_like_or_iterator === null || array_like_or_iterator === void 0 ? void 0 : array_like_or_iterator.length) !== undefined ? array_like_or_iterator : Array.from(array_like_or_iterator);
}

// keyed each functions:

/** @returns {void} */
function destroy_block(block, lookup) {
  block.d(1);
  lookup.delete(block.key);
}

/** @returns {void} */
function outro_and_destroy_block(block, lookup) {
  (0,_transitions_js__WEBPACK_IMPORTED_MODULE_0__.transition_out)(block, 1, 1, () => {
    lookup.delete(block.key);
  });
}

/** @returns {void} */
function fix_and_destroy_block(block, lookup) {
  block.f();
  destroy_block(block, lookup);
}

/** @returns {void} */
function fix_and_outro_and_destroy_block(block, lookup) {
  block.f();
  outro_and_destroy_block(block, lookup);
}

/** @returns {any[]} */
function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {
  let o = old_blocks.length;
  let n = list.length;
  let i = o;
  const old_indexes = {};
  while (i--) old_indexes[old_blocks[i].key] = i;
  const new_blocks = [];
  const new_lookup = new Map();
  const deltas = new Map();
  const updates = [];
  i = n;
  while (i--) {
    const child_ctx = get_context(ctx, list, i);
    const key = get_key(child_ctx);
    let block = lookup.get(key);
    if (!block) {
      block = create_each_block(key, child_ctx);
      block.c();
    } else if (dynamic) {
      // defer updates until all the DOM shuffling is done
      updates.push(() => block.p(child_ctx, dirty));
    }
    new_lookup.set(key, new_blocks[i] = block);
    if (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));
  }
  const will_move = new Set();
  const did_move = new Set();
  /** @returns {void} */
  function insert(block) {
    (0,_transitions_js__WEBPACK_IMPORTED_MODULE_0__.transition_in)(block, 1);
    block.m(node, next);
    lookup.set(block.key, block);
    next = block.first;
    n--;
  }
  while (o && n) {
    const new_block = new_blocks[n - 1];
    const old_block = old_blocks[o - 1];
    const new_key = new_block.key;
    const old_key = old_block.key;
    if (new_block === old_block) {
      // do nothing
      next = new_block.first;
      o--;
      n--;
    } else if (!new_lookup.has(old_key)) {
      // remove old block
      destroy(old_block, lookup);
      o--;
    } else if (!lookup.has(new_key) || will_move.has(new_key)) {
      insert(new_block);
    } else if (did_move.has(old_key)) {
      o--;
    } else if (deltas.get(new_key) > deltas.get(old_key)) {
      did_move.add(new_key);
      insert(new_block);
    } else {
      will_move.add(old_key);
      o--;
    }
  }
  while (o--) {
    const old_block = old_blocks[o];
    if (!new_lookup.has(old_block.key)) destroy(old_block, lookup);
  }
  while (n) insert(new_blocks[n - 1]);
  (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.run_all)(updates);
  return new_blocks;
}

/** @returns {void} */
function validate_each_keys(ctx, list, get_context, get_key) {
  const keys = new Map();
  for (let i = 0; i < list.length; i++) {
    const key = get_key(get_context(ctx, list, i));
    if (keys.has(key)) {
      let value = '';
      try {
        value = `with value '${String(key)}' `;
      } catch (e) {
        // can't stringify
      }
      throw new Error(`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(key)} and ${i} ${value}are duplicates`);
    }
    keys.set(key, i);
  }
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/environment.js":
/*!*****************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/environment.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   is_client: () => (/* binding */ is_client),
/* harmony export */   now: () => (/* binding */ now),
/* harmony export */   raf: () => (/* binding */ raf),
/* harmony export */   set_now: () => (/* binding */ set_now),
/* harmony export */   set_raf: () => (/* binding */ set_raf)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");

const is_client = typeof window !== 'undefined';

/** @type {() => number} */
let now = is_client ? () => window.performance.now() : () => Date.now();
let raf = is_client ? cb => requestAnimationFrame(cb) : _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop;

// used internally for testing
/** @returns {void} */
function set_now(fn) {
  now = fn;
}

/** @returns {void} */
function set_raf(fn) {
  raf = fn;
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/globals.js":
/*!*************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/globals.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   globals: () => (/* binding */ globals)
/* harmony export */ });
/** @type {typeof globalThis} */
const globals = typeof window !== 'undefined' ? window : typeof globalThis !== 'undefined' ? globalThis :
// @ts-ignore Node typings have this
global;

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HtmlTag: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.HtmlTag),
/* harmony export */   HtmlTagHydration: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.HtmlTagHydration),
/* harmony export */   ResizeObserverSingleton: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSingleton),
/* harmony export */   SvelteComponent: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.SvelteComponent),
/* harmony export */   SvelteComponentDev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.SvelteComponentDev),
/* harmony export */   SvelteComponentTyped: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.SvelteComponentTyped),
/* harmony export */   SvelteElement: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.SvelteElement),
/* harmony export */   action_destroyer: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.action_destroyer),
/* harmony export */   add_attribute: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.add_attribute),
/* harmony export */   add_classes: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.add_classes),
/* harmony export */   add_flush_callback: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.add_flush_callback),
/* harmony export */   add_iframe_resize_listener: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.add_iframe_resize_listener),
/* harmony export */   add_location: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.add_location),
/* harmony export */   add_render_callback: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.add_render_callback),
/* harmony export */   add_styles: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.add_styles),
/* harmony export */   add_transform: () => (/* reexport safe */ _animations_js__WEBPACK_IMPORTED_MODULE_0__.add_transform),
/* harmony export */   afterUpdate: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.afterUpdate),
/* harmony export */   append: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.append),
/* harmony export */   append_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.append_dev),
/* harmony export */   append_empty_stylesheet: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.append_empty_stylesheet),
/* harmony export */   append_hydration: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.append_hydration),
/* harmony export */   append_hydration_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.append_hydration_dev),
/* harmony export */   append_styles: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.append_styles),
/* harmony export */   assign: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.assign),
/* harmony export */   attr: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.attr),
/* harmony export */   attr_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.attr_dev),
/* harmony export */   attribute_to_object: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.attribute_to_object),
/* harmony export */   beforeUpdate: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.beforeUpdate),
/* harmony export */   bind: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.bind),
/* harmony export */   binding_callbacks: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.binding_callbacks),
/* harmony export */   blank_object: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.blank_object),
/* harmony export */   bubble: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.bubble),
/* harmony export */   check_outros: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.check_outros),
/* harmony export */   children: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.children),
/* harmony export */   claim_comment: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_comment),
/* harmony export */   claim_component: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.claim_component),
/* harmony export */   claim_element: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_element),
/* harmony export */   claim_html_tag: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_html_tag),
/* harmony export */   claim_space: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_space),
/* harmony export */   claim_svg_element: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_svg_element),
/* harmony export */   claim_text: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.claim_text),
/* harmony export */   clear_loops: () => (/* reexport safe */ _loop_js__WEBPACK_IMPORTED_MODULE_7__.clear_loops),
/* harmony export */   comment: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.comment),
/* harmony export */   component_subscribe: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.component_subscribe),
/* harmony export */   compute_rest_props: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.compute_rest_props),
/* harmony export */   compute_slots: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.compute_slots),
/* harmony export */   construct_svelte_component: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.construct_svelte_component),
/* harmony export */   construct_svelte_component_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.construct_svelte_component_dev),
/* harmony export */   contenteditable_truthy_values: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.contenteditable_truthy_values),
/* harmony export */   createEventDispatcher: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.createEventDispatcher),
/* harmony export */   create_animation: () => (/* reexport safe */ _animations_js__WEBPACK_IMPORTED_MODULE_0__.create_animation),
/* harmony export */   create_bidirectional_transition: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.create_bidirectional_transition),
/* harmony export */   create_component: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.create_component),
/* harmony export */   create_custom_element: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.create_custom_element),
/* harmony export */   create_in_transition: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.create_in_transition),
/* harmony export */   create_out_transition: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.create_out_transition),
/* harmony export */   create_slot: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.create_slot),
/* harmony export */   create_ssr_component: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.create_ssr_component),
/* harmony export */   current_component: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.current_component),
/* harmony export */   custom_event: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.custom_event),
/* harmony export */   dataset_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.dataset_dev),
/* harmony export */   debug: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.debug),
/* harmony export */   destroy_block: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.destroy_block),
/* harmony export */   destroy_component: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.destroy_component),
/* harmony export */   destroy_each: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.destroy_each),
/* harmony export */   detach: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.detach),
/* harmony export */   detach_after_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.detach_after_dev),
/* harmony export */   detach_before_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.detach_before_dev),
/* harmony export */   detach_between_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.detach_between_dev),
/* harmony export */   detach_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.detach_dev),
/* harmony export */   dirty_components: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.dirty_components),
/* harmony export */   dispatch_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.dispatch_dev),
/* harmony export */   each: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.each),
/* harmony export */   element: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.element),
/* harmony export */   element_is: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.element_is),
/* harmony export */   empty: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.empty),
/* harmony export */   end_hydrating: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.end_hydrating),
/* harmony export */   ensure_array_like: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.ensure_array_like),
/* harmony export */   ensure_array_like_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.ensure_array_like_dev),
/* harmony export */   escape: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.escape),
/* harmony export */   escape_attribute_value: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.escape_attribute_value),
/* harmony export */   escape_object: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.escape_object),
/* harmony export */   exclude_internal_props: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.exclude_internal_props),
/* harmony export */   fix_and_destroy_block: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.fix_and_destroy_block),
/* harmony export */   fix_and_outro_and_destroy_block: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.fix_and_outro_and_destroy_block),
/* harmony export */   fix_position: () => (/* reexport safe */ _animations_js__WEBPACK_IMPORTED_MODULE_0__.fix_position),
/* harmony export */   flush: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.flush),
/* harmony export */   flush_render_callbacks: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.flush_render_callbacks),
/* harmony export */   getAllContexts: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.getAllContexts),
/* harmony export */   getContext: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.getContext),
/* harmony export */   get_all_dirty_from_scope: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.get_all_dirty_from_scope),
/* harmony export */   get_binding_group_value: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.get_binding_group_value),
/* harmony export */   get_current_component: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.get_current_component),
/* harmony export */   get_custom_elements_slots: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.get_custom_elements_slots),
/* harmony export */   get_root_for_style: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.get_root_for_style),
/* harmony export */   get_slot_changes: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.get_slot_changes),
/* harmony export */   get_spread_object: () => (/* reexport safe */ _spread_js__WEBPACK_IMPORTED_MODULE_9__.get_spread_object),
/* harmony export */   get_spread_update: () => (/* reexport safe */ _spread_js__WEBPACK_IMPORTED_MODULE_9__.get_spread_update),
/* harmony export */   get_store_value: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.get_store_value),
/* harmony export */   get_svelte_dataset: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.get_svelte_dataset),
/* harmony export */   globals: () => (/* reexport safe */ _globals_js__WEBPACK_IMPORTED_MODULE_4__.globals),
/* harmony export */   group_outros: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.group_outros),
/* harmony export */   handle_promise: () => (/* reexport safe */ _await_block_js__WEBPACK_IMPORTED_MODULE_1__.handle_promise),
/* harmony export */   hasContext: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.hasContext),
/* harmony export */   has_prop: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.has_prop),
/* harmony export */   head_selector: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.head_selector),
/* harmony export */   identity: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.identity),
/* harmony export */   init: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.init),
/* harmony export */   init_binding_group: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.init_binding_group),
/* harmony export */   init_binding_group_dynamic: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.init_binding_group_dynamic),
/* harmony export */   insert: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.insert),
/* harmony export */   insert_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.insert_dev),
/* harmony export */   insert_hydration: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.insert_hydration),
/* harmony export */   insert_hydration_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.insert_hydration_dev),
/* harmony export */   intros: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.intros),
/* harmony export */   invalid_attribute_name_character: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.invalid_attribute_name_character),
/* harmony export */   is_client: () => (/* reexport safe */ _environment_js__WEBPACK_IMPORTED_MODULE_3__.is_client),
/* harmony export */   is_crossorigin: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.is_crossorigin),
/* harmony export */   is_empty: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.is_empty),
/* harmony export */   is_function: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.is_function),
/* harmony export */   is_promise: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.is_promise),
/* harmony export */   is_void: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.is_void),
/* harmony export */   listen: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.listen),
/* harmony export */   listen_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.listen_dev),
/* harmony export */   loop: () => (/* reexport safe */ _loop_js__WEBPACK_IMPORTED_MODULE_7__.loop),
/* harmony export */   loop_guard: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.loop_guard),
/* harmony export */   merge_ssr_styles: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.merge_ssr_styles),
/* harmony export */   missing_component: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.missing_component),
/* harmony export */   mount_component: () => (/* reexport safe */ _Component_js__WEBPACK_IMPORTED_MODULE_13__.mount_component),
/* harmony export */   noop: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.noop),
/* harmony export */   not_equal: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.not_equal),
/* harmony export */   now: () => (/* reexport safe */ _environment_js__WEBPACK_IMPORTED_MODULE_3__.now),
/* harmony export */   null_to_empty: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.null_to_empty),
/* harmony export */   object_without_properties: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.object_without_properties),
/* harmony export */   onDestroy: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.onDestroy),
/* harmony export */   onMount: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.onMount),
/* harmony export */   once: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.once),
/* harmony export */   outro_and_destroy_block: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.outro_and_destroy_block),
/* harmony export */   prevent_default: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.prevent_default),
/* harmony export */   prop_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.prop_dev),
/* harmony export */   query_selector_all: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.query_selector_all),
/* harmony export */   raf: () => (/* reexport safe */ _environment_js__WEBPACK_IMPORTED_MODULE_3__.raf),
/* harmony export */   resize_observer_border_box: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.resize_observer_border_box),
/* harmony export */   resize_observer_content_box: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.resize_observer_content_box),
/* harmony export */   resize_observer_device_pixel_content_box: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.resize_observer_device_pixel_content_box),
/* harmony export */   run: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.run),
/* harmony export */   run_all: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.run_all),
/* harmony export */   safe_not_equal: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.safe_not_equal),
/* harmony export */   schedule_update: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.schedule_update),
/* harmony export */   select_multiple_value: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.select_multiple_value),
/* harmony export */   select_option: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.select_option),
/* harmony export */   select_options: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.select_options),
/* harmony export */   select_value: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.select_value),
/* harmony export */   self: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.self),
/* harmony export */   setContext: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.setContext),
/* harmony export */   set_attributes: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_attributes),
/* harmony export */   set_current_component: () => (/* reexport safe */ _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__.set_current_component),
/* harmony export */   set_custom_element_data: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_custom_element_data),
/* harmony export */   set_custom_element_data_map: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_custom_element_data_map),
/* harmony export */   set_data: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_data),
/* harmony export */   set_data_contenteditable: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_data_contenteditable),
/* harmony export */   set_data_contenteditable_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.set_data_contenteditable_dev),
/* harmony export */   set_data_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.set_data_dev),
/* harmony export */   set_data_maybe_contenteditable: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_data_maybe_contenteditable),
/* harmony export */   set_data_maybe_contenteditable_dev: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.set_data_maybe_contenteditable_dev),
/* harmony export */   set_dynamic_element_data: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_dynamic_element_data),
/* harmony export */   set_input_type: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_input_type),
/* harmony export */   set_input_value: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_input_value),
/* harmony export */   set_now: () => (/* reexport safe */ _environment_js__WEBPACK_IMPORTED_MODULE_3__.set_now),
/* harmony export */   set_raf: () => (/* reexport safe */ _environment_js__WEBPACK_IMPORTED_MODULE_3__.set_raf),
/* harmony export */   set_store_value: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.set_store_value),
/* harmony export */   set_style: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_style),
/* harmony export */   set_svg_attributes: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.set_svg_attributes),
/* harmony export */   space: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.space),
/* harmony export */   split_css_unit: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.split_css_unit),
/* harmony export */   spread: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.spread),
/* harmony export */   src_url_equal: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.src_url_equal),
/* harmony export */   srcset_url_equal: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.srcset_url_equal),
/* harmony export */   start_hydrating: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.start_hydrating),
/* harmony export */   stop_immediate_propagation: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.stop_immediate_propagation),
/* harmony export */   stop_propagation: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.stop_propagation),
/* harmony export */   subscribe: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.subscribe),
/* harmony export */   svg_element: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.svg_element),
/* harmony export */   text: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.text),
/* harmony export */   tick: () => (/* reexport safe */ _scheduler_js__WEBPACK_IMPORTED_MODULE_8__.tick),
/* harmony export */   time_ranges_to_array: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.time_ranges_to_array),
/* harmony export */   to_number: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.to_number),
/* harmony export */   toggle_class: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.toggle_class),
/* harmony export */   transition_in: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.transition_in),
/* harmony export */   transition_out: () => (/* reexport safe */ _transitions_js__WEBPACK_IMPORTED_MODULE_11__.transition_out),
/* harmony export */   trusted: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.trusted),
/* harmony export */   update_await_block_branch: () => (/* reexport safe */ _await_block_js__WEBPACK_IMPORTED_MODULE_1__.update_await_block_branch),
/* harmony export */   update_keyed_each: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.update_keyed_each),
/* harmony export */   update_slot: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.update_slot),
/* harmony export */   update_slot_base: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.update_slot_base),
/* harmony export */   validate_component: () => (/* reexport safe */ _ssr_js__WEBPACK_IMPORTED_MODULE_10__.validate_component),
/* harmony export */   validate_dynamic_element: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.validate_dynamic_element),
/* harmony export */   validate_each_keys: () => (/* reexport safe */ _each_js__WEBPACK_IMPORTED_MODULE_5__.validate_each_keys),
/* harmony export */   validate_slots: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.validate_slots),
/* harmony export */   validate_store: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_12__.validate_store),
/* harmony export */   validate_void_dynamic_element: () => (/* reexport safe */ _dev_js__WEBPACK_IMPORTED_MODULE_14__.validate_void_dynamic_element),
/* harmony export */   xlink_attr: () => (/* reexport safe */ _dom_js__WEBPACK_IMPORTED_MODULE_2__.xlink_attr)
/* harmony export */ });
/* harmony import */ var _animations_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animations.js */ "./node_modules/svelte/src/runtime/internal/animations.js");
/* harmony import */ var _await_block_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./await_block.js */ "./node_modules/svelte/src/runtime/internal/await_block.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environment.js */ "./node_modules/svelte/src/runtime/internal/environment.js");
/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./globals.js */ "./node_modules/svelte/src/runtime/internal/globals.js");
/* harmony import */ var _each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./each.js */ "./node_modules/svelte/src/runtime/internal/each.js");
/* harmony import */ var _lifecycle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lifecycle.js */ "./node_modules/svelte/src/runtime/internal/lifecycle.js");
/* harmony import */ var _loop_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loop.js */ "./node_modules/svelte/src/runtime/internal/loop.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scheduler.js */ "./node_modules/svelte/src/runtime/internal/scheduler.js");
/* harmony import */ var _spread_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./spread.js */ "./node_modules/svelte/src/runtime/internal/spread.js");
/* harmony import */ var _ssr_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ssr.js */ "./node_modules/svelte/src/runtime/internal/ssr.js");
/* harmony import */ var _transitions_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./transitions.js */ "./node_modules/svelte/src/runtime/internal/transitions.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _Component_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Component.js */ "./node_modules/svelte/src/runtime/internal/Component.js");
/* harmony import */ var _dev_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dev.js */ "./node_modules/svelte/src/runtime/internal/dev.js");
















/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/lifecycle.js":
/*!***************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/lifecycle.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   afterUpdate: () => (/* binding */ afterUpdate),
/* harmony export */   beforeUpdate: () => (/* binding */ beforeUpdate),
/* harmony export */   bubble: () => (/* binding */ bubble),
/* harmony export */   createEventDispatcher: () => (/* binding */ createEventDispatcher),
/* harmony export */   current_component: () => (/* binding */ current_component),
/* harmony export */   getAllContexts: () => (/* binding */ getAllContexts),
/* harmony export */   getContext: () => (/* binding */ getContext),
/* harmony export */   get_current_component: () => (/* binding */ get_current_component),
/* harmony export */   hasContext: () => (/* binding */ hasContext),
/* harmony export */   onDestroy: () => (/* binding */ onDestroy),
/* harmony export */   onMount: () => (/* binding */ onMount),
/* harmony export */   setContext: () => (/* binding */ setContext),
/* harmony export */   set_current_component: () => (/* binding */ set_current_component)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");

let current_component;

/** @returns {void} */
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component) throw new Error('Function called outside component initialization');
  return current_component;
}

/**
 * Schedules a callback to run immediately before the component is updated after any state change.
 *
 * The first time the callback runs will be before the initial `onMount`
 *
 * https://svelte.dev/docs/svelte#beforeupdate
 * @param {() => any} fn
 * @returns {void}
 */
function beforeUpdate(fn) {
  get_current_component().$$.before_update.push(fn);
}

/**
 * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.
 * It must be called during the component's initialisation (but doesn't need to live *inside* the component;
 * it can be called from an external module).
 *
 * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.
 *
 * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).
 *
 * https://svelte.dev/docs/svelte#onmount
 * @template T
 * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn
 * @returns {void}
 */
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}

/**
 * Schedules a callback to run immediately after the component has been updated.
 *
 * The first time the callback runs will be after the initial `onMount`
 *
 * https://svelte.dev/docs/svelte#afterupdate
 * @param {() => any} fn
 * @returns {void}
 */
function afterUpdate(fn) {
  get_current_component().$$.after_update.push(fn);
}

/**
 * Schedules a callback to run immediately before the component is unmounted.
 *
 * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the
 * only one that runs inside a server-side component.
 *
 * https://svelte.dev/docs/svelte#ondestroy
 * @param {() => any} fn
 * @returns {void}
 */
function onDestroy(fn) {
  get_current_component().$$.on_destroy.push(fn);
}

/**
 * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).
 * Event dispatchers are functions that can take two arguments: `name` and `detail`.
 *
 * Component events created with `createEventDispatcher` create a
 * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).
 * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).
 * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)
 * property and can contain any type of data.
 *
 * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:
 * ```ts
 * const dispatch = createEventDispatcher<{
 *  loaded: never; // does not take a detail argument
 *  change: string; // takes a detail argument of type string, which is required
 *  optional: number | null; // takes an optional detail argument of type number
 * }>();
 * ```
 *
 * https://svelte.dev/docs/svelte#createeventdispatcher
 * @template {Record<string, any>} [EventMap=any]
 * @returns {import('./public.js').EventDispatcher<EventMap>}
 */
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, {
    cancelable = false
  } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      // TODO are there situations where events could be dispatched
      // in a server (non-DOM) environment?
      const event = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.custom_event)( /** @type {string} */type, detail, {
        cancelable
      });
      callbacks.slice().forEach(fn => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}

/**
 * Associates an arbitrary `context` object with the current component and the specified `key`
 * and returns that object. The context is then available to children of the component
 * (including slotted content) with `getContext`.
 *
 * Like lifecycle functions, this must be called during component initialisation.
 *
 * https://svelte.dev/docs/svelte#setcontext
 * @template T
 * @param {any} key
 * @param {T} context
 * @returns {T}
 */
function setContext(key, context) {
  get_current_component().$$.context.set(key, context);
  return context;
}

/**
 * Retrieves the context that belongs to the closest parent component with the specified `key`.
 * Must be called during component initialisation.
 *
 * https://svelte.dev/docs/svelte#getcontext
 * @template T
 * @param {any} key
 * @returns {T}
 */
function getContext(key) {
  return get_current_component().$$.context.get(key);
}

/**
 * Retrieves the whole context map that belongs to the closest parent component.
 * Must be called during component initialisation. Useful, for example, if you
 * programmatically create a component and want to pass the existing context to it.
 *
 * https://svelte.dev/docs/svelte#getallcontexts
 * @template {Map<any, any>} [T=Map<any, any>]
 * @returns {T}
 */
function getAllContexts() {
  return get_current_component().$$.context;
}

/**
 * Checks whether a given `key` has been set in the context of a parent component.
 * Must be called during component initialisation.
 *
 * https://svelte.dev/docs/svelte#hascontext
 * @param {any} key
 * @returns {boolean}
 */
function hasContext(key) {
  return get_current_component().$$.context.has(key);
}

// TODO figure out if we still want to support
// shorthand events, or if we want to implement
// a real bubbling mechanism
/**
 * @param component
 * @param event
 * @returns {void}
 */
function bubble(component, event) {
  const callbacks = component.$$.callbacks[event.type];
  if (callbacks) {
    // @ts-ignore
    callbacks.slice().forEach(fn => fn.call(this, event));
  }
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/loop.js":
/*!**********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/loop.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clear_loops: () => (/* binding */ clear_loops),
/* harmony export */   loop: () => (/* binding */ loop)
/* harmony export */ });
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./environment.js */ "./node_modules/svelte/src/runtime/internal/environment.js");

const tasks = new Set();

/**
 * @param {number} now
 * @returns {void}
 */
function run_tasks(now) {
  tasks.forEach(task => {
    if (!task.c(now)) {
      tasks.delete(task);
      task.f();
    }
  });
  if (tasks.size !== 0) (0,_environment_js__WEBPACK_IMPORTED_MODULE_0__.raf)(run_tasks);
}

/**
 * For testing purposes only!
 * @returns {void}
 */
function clear_loops() {
  tasks.clear();
}

/**
 * Creates a new task that runs on each raf frame
 * until it returns a falsy value or is aborted
 * @param {import('./private.js').TaskCallback} callback
 * @returns {import('./private.js').Task}
 */
function loop(callback) {
  /** @type {import('./private.js').TaskEntry} */
  let task;
  if (tasks.size === 0) (0,_environment_js__WEBPACK_IMPORTED_MODULE_0__.raf)(run_tasks);
  return {
    promise: new Promise(fulfill => {
      tasks.add(task = {
        c: callback,
        f: fulfill
      });
    }),
    abort() {
      tasks.delete(task);
    }
  };
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/scheduler.js":
/*!***************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/scheduler.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add_flush_callback: () => (/* binding */ add_flush_callback),
/* harmony export */   add_render_callback: () => (/* binding */ add_render_callback),
/* harmony export */   binding_callbacks: () => (/* binding */ binding_callbacks),
/* harmony export */   dirty_components: () => (/* binding */ dirty_components),
/* harmony export */   flush: () => (/* binding */ flush),
/* harmony export */   flush_render_callbacks: () => (/* binding */ flush_render_callbacks),
/* harmony export */   intros: () => (/* binding */ intros),
/* harmony export */   schedule_update: () => (/* binding */ schedule_update),
/* harmony export */   tick: () => (/* binding */ tick)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lifecycle.js */ "./node_modules/svelte/src/runtime/internal/lifecycle.js");


const dirty_components = [];
const intros = {
  enabled: false
};
const binding_callbacks = [];
let render_callbacks = [];
const flush_callbacks = [];
const resolved_promise = /* @__PURE__ */Promise.resolve();
let update_scheduled = false;

/** @returns {void} */
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}

/** @returns {Promise<void>} */
function tick() {
  schedule_update();
  return resolved_promise;
}

/** @returns {void} */
function add_render_callback(fn) {
  render_callbacks.push(fn);
}

/** @returns {void} */
function add_flush_callback(fn) {
  flush_callbacks.push(fn);
}

// flush() calls callbacks in this order:
// 1. All beforeUpdate callbacks, in order: parents before children
// 2. All bind:this callbacks, in reverse order: children before parents.
// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT
//    for afterUpdates called during the initial onMount, which are called in
//    reverse order: children before parents.
// Since callbacks might update component values, which could trigger another
// call to flush(), the following steps guard against this:
// 1. During beforeUpdate, any updated components will be added to the
//    dirty_components array and will cause a reentrant call to flush(). Because
//    the flush index is kept outside the function, the reentrant call will pick
//    up where the earlier call left off and go through all dirty components. The
//    current_component value is saved and restored so that the reentrant call will
//    not interfere with the "parent" flush() call.
// 2. bind:this callbacks cannot trigger new flush() calls.
// 3. During afterUpdate, any updated components will NOT have their afterUpdate
//    callback called a second time; the seen_callbacks set, outside the flush()
//    function, guarantees this behavior.
const seen_callbacks = new Set();
let flushidx = 0; // Do *not* move this inside the flush() function

/** @returns {void} */
function flush() {
  // Do not reenter flush while dirty components are updated, as this can
  // result in an infinite loop. Instead, let the inner flush handle it.
  // Reentrancy is ok afterwards for bindings etc.
  if (flushidx !== 0) {
    return;
  }
  const saved_component = _lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.current_component;
  do {
    // first, call beforeUpdate functions
    // and update components
    try {
      while (flushidx < dirty_components.length) {
        const component = dirty_components[flushidx];
        flushidx++;
        (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.set_current_component)(component);
        update(component.$$);
      }
    } catch (e) {
      // reset dirty state to not end up in a deadlocked state and then rethrow
      dirty_components.length = 0;
      flushidx = 0;
      throw e;
    }
    (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.set_current_component)(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length) binding_callbacks.pop()();
    // then, once components are updated, call
    // afterUpdate functions. This may cause
    // subsequent updates...
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        // ...so guard against infinite loops
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_1__.set_current_component)(saved_component);
}

/** @returns {void} */
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.run_all)($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}

/**
 * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.
 * @param {Function[]} fns
 * @returns {void}
 */
function flush_render_callbacks(fns) {
  const filtered = [];
  const targets = [];
  render_callbacks.forEach(c => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));
  targets.forEach(c => c());
  render_callbacks = filtered;
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/spread.js":
/*!************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/spread.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   get_spread_object: () => (/* binding */ get_spread_object),
/* harmony export */   get_spread_update: () => (/* binding */ get_spread_update)
/* harmony export */ });
/** @returns {{}} */
function get_spread_update(levels, updates) {
  const update = {};
  const to_null_out = {};
  const accounted_for = {
    $$scope: 1
  };
  let i = levels.length;
  while (i--) {
    const o = levels[i];
    const n = updates[i];
    if (n) {
      for (const key in o) {
        if (!(key in n)) to_null_out[key] = 1;
      }
      for (const key in n) {
        if (!accounted_for[key]) {
          update[key] = n[key];
          accounted_for[key] = 1;
        }
      }
      levels[i] = n;
    } else {
      for (const key in o) {
        accounted_for[key] = 1;
      }
    }
  }
  for (const key in to_null_out) {
    if (!(key in update)) update[key] = undefined;
  }
  return update;
}
function get_spread_object(spread_props) {
  return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/ssr.js":
/*!*********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/ssr.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add_attribute: () => (/* binding */ add_attribute),
/* harmony export */   add_classes: () => (/* binding */ add_classes),
/* harmony export */   add_styles: () => (/* binding */ add_styles),
/* harmony export */   create_ssr_component: () => (/* binding */ create_ssr_component),
/* harmony export */   debug: () => (/* binding */ debug),
/* harmony export */   each: () => (/* binding */ each),
/* harmony export */   escape: () => (/* binding */ escape),
/* harmony export */   escape_attribute_value: () => (/* binding */ escape_attribute_value),
/* harmony export */   escape_object: () => (/* binding */ escape_object),
/* harmony export */   invalid_attribute_name_character: () => (/* binding */ invalid_attribute_name_character),
/* harmony export */   is_void: () => (/* reexport safe */ _shared_utils_names_js__WEBPACK_IMPORTED_MODULE_4__.is_void),
/* harmony export */   merge_ssr_styles: () => (/* binding */ merge_ssr_styles),
/* harmony export */   missing_component: () => (/* binding */ missing_component),
/* harmony export */   spread: () => (/* binding */ spread),
/* harmony export */   validate_component: () => (/* binding */ validate_component)
/* harmony export */ });
/* harmony import */ var _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lifecycle.js */ "./node_modules/svelte/src/runtime/internal/lifecycle.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _shared_boolean_attributes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/boolean_attributes.js */ "./node_modules/svelte/src/shared/boolean_attributes.js");
/* harmony import */ var _each_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./each.js */ "./node_modules/svelte/src/runtime/internal/each.js");
/* harmony import */ var _shared_utils_names_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/utils/names.js */ "./node_modules/svelte/src/shared/utils/names.js");





const invalid_attribute_name_character = /[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u;
// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
// https://infra.spec.whatwg.org/#noncharacter

/** @returns {string} */
function spread(args, attrs_to_add) {
  const attributes = Object.assign({}, ...args);
  if (attrs_to_add) {
    const classes_to_add = attrs_to_add.classes;
    const styles_to_add = attrs_to_add.styles;
    if (classes_to_add) {
      if (attributes.class == null) {
        attributes.class = classes_to_add;
      } else {
        attributes.class += ' ' + classes_to_add;
      }
    }
    if (styles_to_add) {
      if (attributes.style == null) {
        attributes.style = style_object_to_string(styles_to_add);
      } else {
        attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));
      }
    }
  }
  let str = '';
  Object.keys(attributes).forEach(name => {
    if (invalid_attribute_name_character.test(name)) return;
    const value = attributes[name];
    if (value === true) str += ' ' + name;else if (_shared_boolean_attributes_js__WEBPACK_IMPORTED_MODULE_2__.boolean_attributes.has(name.toLowerCase())) {
      if (value) str += ' ' + name;
    } else if (value != null) {
      str += ` ${name}="${value}"`;
    }
  });
  return str;
}

/** @returns {{}} */
function merge_ssr_styles(style_attribute, style_directive) {
  const style_object = {};
  for (const individual_style of style_attribute.split(';')) {
    const colon_index = individual_style.indexOf(':');
    const name = individual_style.slice(0, colon_index).trim();
    const value = individual_style.slice(colon_index + 1).trim();
    if (!name) continue;
    style_object[name] = value;
  }
  for (const name in style_directive) {
    const value = style_directive[name];
    if (value) {
      style_object[name] = value;
    } else {
      delete style_object[name];
    }
  }
  return style_object;
}
const ATTR_REGEX = /[&"]/g;
const CONTENT_REGEX = /[&<]/g;

/**
 * Note: this method is performance sensitive and has been optimized
 * https://github.com/sveltejs/svelte/pull/5701
 * @param {unknown} value
 * @returns {string}
 */
function escape(value, is_attr = false) {
  const str = String(value);
  const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;
  pattern.lastIndex = 0;
  let escaped = '';
  let last = 0;
  while (pattern.test(str)) {
    const i = pattern.lastIndex - 1;
    const ch = str[i];
    escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : ch === '"' ? '&quot;' : '&lt;');
    last = i + 1;
  }
  return escaped + str.substring(last);
}
function escape_attribute_value(value) {
  // keep booleans, null, and undefined for the sake of `spread`
  const should_escape = typeof value === 'string' || value && typeof value === 'object';
  return should_escape ? escape(value, true) : value;
}

/** @returns {{}} */
function escape_object(obj) {
  const result = {};
  for (const key in obj) {
    result[key] = escape_attribute_value(obj[key]);
  }
  return result;
}

/** @returns {string} */
function each(items, fn) {
  items = (0,_each_js__WEBPACK_IMPORTED_MODULE_3__.ensure_array_like)(items);
  let str = '';
  for (let i = 0; i < items.length; i += 1) {
    str += fn(items[i], i);
  }
  return str;
}
const missing_component = {
  $$render: () => ''
};
function validate_component(component, name) {
  if (!component || !component.$$render) {
    if (name === 'svelte:component') name += ' this={...}';
    throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);
  }
  return component;
}

/** @returns {string} */
function debug(file, line, column, values) {
  console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console
  console.log(values); // eslint-disable-line no-console
  return '';
}
let on_destroy;

/** @returns {{ render: (props?: {}, { $$slots, context }?: { $$slots?: {}; context?: Map<any, any>; }) => { html: any; css: { code: string; map: any; }; head: string; }; $$render: (result: any, props: any, bindings: any, slots: any, context: any) => any; }} */
function create_ssr_component(fn) {
  function $$render(result, props, bindings, slots, context) {
    const parent_component = _lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.current_component;
    const $$ = {
      on_destroy,
      context: new Map(context || (parent_component ? parent_component.$$.context : [])),
      // these will be immediately discarded
      on_mount: [],
      before_update: [],
      after_update: [],
      callbacks: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.blank_object)()
    };
    (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.set_current_component)({
      $$
    });
    const html = fn(result, props, bindings, slots);
    (0,_lifecycle_js__WEBPACK_IMPORTED_MODULE_0__.set_current_component)(parent_component);
    return html;
  }
  return {
    render: (props = {}, {
      $$slots = {},
      context = new Map()
    } = {}) => {
      on_destroy = [];
      const result = {
        title: '',
        head: '',
        css: new Set()
      };
      const html = $$render(result, props, {}, $$slots, context);
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.run_all)(on_destroy);
      return {
        html,
        css: {
          code: Array.from(result.css).map(css => css.code).join('\n'),
          map: null // TODO
        },

        head: result.title + result.head
      };
    },
    $$render
  };
}

/** @returns {string} */
function add_attribute(name, value, boolean) {
  if (value == null || boolean && !value) return '';
  const assignment = boolean && value === true ? '' : `="${escape(value, true)}"`;
  return ` ${name}${assignment}`;
}

/** @returns {string} */
function add_classes(classes) {
  return classes ? ` class="${classes}"` : '';
}

/** @returns {string} */
function style_object_to_string(style_object) {
  return Object.keys(style_object).filter(key => style_object[key]).map(key => `${key}: ${escape_attribute_value(style_object[key])};`).join(' ');
}

/** @returns {string} */
function add_styles(style_object) {
  const styles = style_object_to_string(style_object);
  return styles ? ` style="${styles}"` : '';
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/style_manager.js":
/*!*******************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/style_manager.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clear_rules: () => (/* binding */ clear_rules),
/* harmony export */   create_rule: () => (/* binding */ create_rule),
/* harmony export */   delete_rule: () => (/* binding */ delete_rule)
/* harmony export */ });
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ "./node_modules/svelte/src/runtime/internal/environment.js");



// we need to store the information for multiple documents because a Svelte application could also contain iframes
// https://github.com/sveltejs/svelte/issues/3624
/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */
const managed_styles = new Map();
let active = 0;

// https://github.com/darkskyapp/string-hash/blob/master/index.js
/**
 * @param {string} str
 * @returns {number}
 */
function hash(str) {
  let hash = 5381;
  let i = str.length;
  while (i--) hash = (hash << 5) - hash ^ str.charCodeAt(i);
  return hash >>> 0;
}

/**
 * @param {Document | ShadowRoot} doc
 * @param {Element & ElementCSSInlineStyle} node
 * @returns {{ stylesheet: any; rules: {}; }}
 */
function create_style_information(doc, node) {
  const info = {
    stylesheet: (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.append_empty_stylesheet)(node),
    rules: {}
  };
  managed_styles.set(doc, info);
  return info;
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {number} a
 * @param {number} b
 * @param {number} duration
 * @param {number} delay
 * @param {(t: number) => number} ease
 * @param {(t: number, u: number) => string} fn
 * @param {number} uid
 * @returns {string}
 */
function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {
  const step = 16.666 / duration;
  let keyframes = '{\n';
  for (let p = 0; p <= 1; p += step) {
    const t = a + (b - a) * ease(p);
    keyframes += p * 100 + `%{${fn(t, 1 - t)}}\n`;
  }
  const rule = keyframes + `100% {${fn(b, 1 - b)}}\n}`;
  const name = `__svelte_${hash(rule)}_${uid}`;
  const doc = (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.get_root_for_style)(node);
  const {
    stylesheet,
    rules
  } = managed_styles.get(doc) || create_style_information(doc, node);
  if (!rules[name]) {
    rules[name] = true;
    stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);
  }
  const animation = node.style.animation || '';
  node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;
  active += 1;
  return name;
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {string} [name]
 * @returns {void}
 */
function delete_rule(node, name) {
  const previous = (node.style.animation || '').split(', ');
  const next = previous.filter(name ? anim => anim.indexOf(name) < 0 // remove specific animation
  : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations
  );

  const deleted = previous.length - next.length;
  if (deleted) {
    node.style.animation = next.join(', ');
    active -= deleted;
    if (!active) clear_rules();
  }
}

/** @returns {void} */
function clear_rules() {
  (0,_environment_js__WEBPACK_IMPORTED_MODULE_1__.raf)(() => {
    if (active) return;
    managed_styles.forEach(info => {
      const {
        ownerNode
      } = info.stylesheet;
      // there is no ownerNode if it runs on jsdom.
      if (ownerNode) (0,_dom_js__WEBPACK_IMPORTED_MODULE_0__.detach)(ownerNode);
    });
    managed_styles.clear();
  });
}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/transitions.js":
/*!*****************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/transitions.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   check_outros: () => (/* binding */ check_outros),
/* harmony export */   create_bidirectional_transition: () => (/* binding */ create_bidirectional_transition),
/* harmony export */   create_in_transition: () => (/* binding */ create_in_transition),
/* harmony export */   create_out_transition: () => (/* binding */ create_out_transition),
/* harmony export */   group_outros: () => (/* binding */ group_outros),
/* harmony export */   transition_in: () => (/* binding */ transition_in),
/* harmony export */   transition_out: () => (/* binding */ transition_out)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./node_modules/svelte/src/runtime/internal/utils.js");
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment.js */ "./node_modules/svelte/src/runtime/internal/environment.js");
/* harmony import */ var _loop_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loop.js */ "./node_modules/svelte/src/runtime/internal/loop.js");
/* harmony import */ var _style_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style_manager.js */ "./node_modules/svelte/src/runtime/internal/style_manager.js");
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom.js */ "./node_modules/svelte/src/runtime/internal/dom.js");
/* harmony import */ var _scheduler_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scheduler.js */ "./node_modules/svelte/src/runtime/internal/scheduler.js");







/**
 * @type {Promise<void> | null}
 */
let promise;

/**
 * @returns {Promise<void>}
 */
function wait() {
  if (!promise) {
    promise = Promise.resolve();
    promise.then(() => {
      promise = null;
    });
  }
  return promise;
}

/**
 * @param {Element} node
 * @param {INTRO | OUTRO | boolean} direction
 * @param {'start' | 'end'} kind
 * @returns {void}
 */
function dispatch(node, direction, kind) {
  node.dispatchEvent((0,_dom_js__WEBPACK_IMPORTED_MODULE_4__.custom_event)(`${direction ? 'intro' : 'outro'}${kind}`));
}
const outroing = new Set();

/**
 * @type {Outro}
 */
let outros;

/**
 * @returns {void} */
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros // parent group
  };
}

/**
 * @returns {void} */
function check_outros() {
  if (!outros.r) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.run_all)(outros.c);
  }
  outros = outros.p;
}

/**
 * @param {import('./private.js').Fragment} block
 * @param {0 | 1} [local]
 * @returns {void}
 */
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}

/**
 * @param {import('./private.js').Fragment} block
 * @param {0 | 1} local
 * @param {0 | 1} [detach]
 * @param {() => void} [callback]
 * @returns {void}
 */
function transition_out(block, local, detach, callback) {
  if (block && block.o) {
    if (outroing.has(block)) return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach) block.d(1);
        callback();
      }
    });
    block.o(local);
  } else if (callback) {
    callback();
  }
}

/**
 * @type {import('../transition/public.js').TransitionConfig}
 */
const null_transition = {
  duration: 0
};

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {TransitionFn} fn
 * @param {any} params
 * @returns {{ start(): void; invalidate(): void; end(): void; }}
 */
function create_in_transition(node, fn, params) {
  /**
   * @type {TransitionOptions} */
  const options = {
    direction: 'in'
  };
  let config = fn(node, params, options);
  let running = false;
  let animation_name;
  let task;
  let uid = 0;

  /**
   * @returns {void} */
  function cleanup() {
    if (animation_name) (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.delete_rule)(node, animation_name);
  }

  /**
   * @returns {void} */
  function go() {
    const {
      delay = 0,
      duration = 300,
      easing = _utils_js__WEBPACK_IMPORTED_MODULE_0__.identity,
      tick = _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop,
      css
    } = config || null_transition;
    if (css) animation_name = (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.create_rule)(node, 0, 1, duration, delay, easing, css, uid++);
    tick(0, 1);
    const start_time = (0,_environment_js__WEBPACK_IMPORTED_MODULE_1__.now)() + delay;
    const end_time = start_time + duration;
    if (task) task.abort();
    running = true;
    (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_5__.add_render_callback)(() => dispatch(node, true, 'start'));
    task = (0,_loop_js__WEBPACK_IMPORTED_MODULE_2__.loop)(now => {
      if (running) {
        if (now >= end_time) {
          tick(1, 0);
          dispatch(node, true, 'end');
          cleanup();
          return running = false;
        }
        if (now >= start_time) {
          const t = easing((now - start_time) / duration);
          tick(t, 1 - t);
        }
      }
      return running;
    });
  }
  let started = false;
  return {
    start() {
      if (started) return;
      started = true;
      (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.delete_rule)(node);
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.is_function)(config)) {
        config = config(options);
        wait().then(go);
      } else {
        go();
      }
    },
    invalidate() {
      started = false;
    },
    end() {
      if (running) {
        cleanup();
        running = false;
      }
    }
  };
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {TransitionFn} fn
 * @param {any} params
 * @returns {{ end(reset: any): void; }}
 */
function create_out_transition(node, fn, params) {
  /** @type {TransitionOptions} */
  const options = {
    direction: 'out'
  };
  let config = fn(node, params, options);
  let running = true;
  let animation_name;
  const group = outros;
  group.r += 1;
  /** @type {boolean} */
  let original_inert_value;

  /**
   * @returns {void} */
  function go() {
    const {
      delay = 0,
      duration = 300,
      easing = _utils_js__WEBPACK_IMPORTED_MODULE_0__.identity,
      tick = _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop,
      css
    } = config || null_transition;
    if (css) animation_name = (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.create_rule)(node, 1, 0, duration, delay, easing, css);
    const start_time = (0,_environment_js__WEBPACK_IMPORTED_MODULE_1__.now)() + delay;
    const end_time = start_time + duration;
    (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_5__.add_render_callback)(() => dispatch(node, false, 'start'));
    if ('inert' in node) {
      original_inert_value = /** @type {HTMLElement} */node.inert;
      node.inert = true;
    }
    (0,_loop_js__WEBPACK_IMPORTED_MODULE_2__.loop)(now => {
      if (running) {
        if (now >= end_time) {
          tick(0, 1);
          dispatch(node, false, 'end');
          if (! --group.r) {
            // this will result in `end()` being called,
            // so we don't need to clean up here
            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.run_all)(group.c);
          }
          return false;
        }
        if (now >= start_time) {
          const t = easing((now - start_time) / duration);
          tick(1 - t, t);
        }
      }
      return running;
    });
  }
  if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.is_function)(config)) {
    wait().then(() => {
      // @ts-ignore
      config = config(options);
      go();
    });
  } else {
    go();
  }
  return {
    end(reset) {
      if (reset && 'inert' in node) {
        node.inert = original_inert_value;
      }
      if (reset && config.tick) {
        config.tick(1, 0);
      }
      if (running) {
        if (animation_name) (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.delete_rule)(node, animation_name);
        running = false;
      }
    }
  };
}

/**
 * @param {Element & ElementCSSInlineStyle} node
 * @param {TransitionFn} fn
 * @param {any} params
 * @param {boolean} intro
 * @returns {{ run(b: 0 | 1): void; end(): void; }}
 */
function create_bidirectional_transition(node, fn, params, intro) {
  /**
   * @type {TransitionOptions} */
  const options = {
    direction: 'both'
  };
  let config = fn(node, params, options);
  let t = intro ? 0 : 1;

  /**
   * @type {Program | null} */
  let running_program = null;

  /**
   * @type {PendingProgram | null} */
  let pending_program = null;
  let animation_name = null;

  /** @type {boolean} */
  let original_inert_value;

  /**
   * @returns {void} */
  function clear_animation() {
    if (animation_name) (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.delete_rule)(node, animation_name);
  }

  /**
   * @param {PendingProgram} program
   * @param {number} duration
   * @returns {Program}
   */
  function init(program, duration) {
    const d = /** @type {Program['d']} */program.b - t;
    duration *= Math.abs(d);
    return {
      a: t,
      b: program.b,
      d,
      duration,
      start: program.start,
      end: program.start + duration,
      group: program.group
    };
  }

  /**
   * @param {INTRO | OUTRO} b
   * @returns {void}
   */
  function go(b) {
    const {
      delay = 0,
      duration = 300,
      easing = _utils_js__WEBPACK_IMPORTED_MODULE_0__.identity,
      tick = _utils_js__WEBPACK_IMPORTED_MODULE_0__.noop,
      css
    } = config || null_transition;

    /**
     * @type {PendingProgram} */
    const program = {
      start: (0,_environment_js__WEBPACK_IMPORTED_MODULE_1__.now)() + delay,
      b
    };
    if (!b) {
      // @ts-ignore todo: improve typings
      program.group = outros;
      outros.r += 1;
    }
    if ('inert' in node) {
      if (b) {
        if (original_inert_value !== undefined) {
          // aborted/reversed outro — restore previous inert value
          node.inert = original_inert_value;
        }
      } else {
        original_inert_value = /** @type {HTMLElement} */node.inert;
        node.inert = true;
      }
    }
    if (running_program || pending_program) {
      pending_program = program;
    } else {
      // if this is an intro, and there's a delay, we need to do
      // an initial tick and/or apply CSS animation immediately
      if (css) {
        clear_animation();
        animation_name = (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.create_rule)(node, t, b, duration, delay, easing, css);
      }
      if (b) tick(0, 1);
      running_program = init(program, duration);
      (0,_scheduler_js__WEBPACK_IMPORTED_MODULE_5__.add_render_callback)(() => dispatch(node, b, 'start'));
      (0,_loop_js__WEBPACK_IMPORTED_MODULE_2__.loop)(now => {
        if (pending_program && now > pending_program.start) {
          running_program = init(pending_program, duration);
          pending_program = null;
          dispatch(node, running_program.b, 'start');
          if (css) {
            clear_animation();
            animation_name = (0,_style_manager_js__WEBPACK_IMPORTED_MODULE_3__.create_rule)(node, t, running_program.b, running_program.duration, 0, easing, config.css);
          }
        }
        if (running_program) {
          if (now >= running_program.end) {
            tick(t = running_program.b, 1 - t);
            dispatch(node, running_program.b, 'end');
            if (!pending_program) {
              // we're done
              if (running_program.b) {
                // intro — we can tidy up immediately
                clear_animation();
              } else {
                // outro — needs to be coordinated
                if (! --running_program.group.r) (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.run_all)(running_program.group.c);
              }
            }
            running_program = null;
          } else if (now >= running_program.start) {
            const p = now - running_program.start;
            t = running_program.a + running_program.d * easing(p / running_program.duration);
            tick(t, 1 - t);
          }
        }
        return !!(running_program || pending_program);
      });
    }
  }
  return {
    run(b) {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.is_function)(config)) {
        wait().then(() => {
          const opts = {
            direction: b ? 'in' : 'out'
          };
          // @ts-ignore
          config = config(opts);
          go(b);
        });
      } else {
        go(b);
      }
    },
    end() {
      clear_animation();
      running_program = pending_program = null;
    }
  };
}

/** @typedef {1} INTRO */
/** @typedef {0} OUTRO */
/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */
/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */

/**
 * @typedef {Object} Outro
 * @property {number} r
 * @property {Function[]} c
 * @property {Object} p
 */

/**
 * @typedef {Object} PendingProgram
 * @property {number} start
 * @property {INTRO|OUTRO} b
 * @property {Outro} [group]
 */

/**
 * @typedef {Object} Program
 * @property {number} a
 * @property {INTRO|OUTRO} b
 * @property {1|-1} d
 * @property {number} duration
 * @property {number} start
 * @property {number} end
 * @property {Outro} [group]
 */

/***/ }),

/***/ "./node_modules/svelte/src/runtime/internal/utils.js":
/*!***********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/internal/utils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   action_destroyer: () => (/* binding */ action_destroyer),
/* harmony export */   add_location: () => (/* binding */ add_location),
/* harmony export */   assign: () => (/* binding */ assign),
/* harmony export */   blank_object: () => (/* binding */ blank_object),
/* harmony export */   component_subscribe: () => (/* binding */ component_subscribe),
/* harmony export */   compute_rest_props: () => (/* binding */ compute_rest_props),
/* harmony export */   compute_slots: () => (/* binding */ compute_slots),
/* harmony export */   contenteditable_truthy_values: () => (/* binding */ contenteditable_truthy_values),
/* harmony export */   create_slot: () => (/* binding */ create_slot),
/* harmony export */   exclude_internal_props: () => (/* binding */ exclude_internal_props),
/* harmony export */   get_all_dirty_from_scope: () => (/* binding */ get_all_dirty_from_scope),
/* harmony export */   get_slot_changes: () => (/* binding */ get_slot_changes),
/* harmony export */   get_store_value: () => (/* binding */ get_store_value),
/* harmony export */   has_prop: () => (/* binding */ has_prop),
/* harmony export */   identity: () => (/* binding */ identity),
/* harmony export */   is_empty: () => (/* binding */ is_empty),
/* harmony export */   is_function: () => (/* binding */ is_function),
/* harmony export */   is_promise: () => (/* binding */ is_promise),
/* harmony export */   noop: () => (/* binding */ noop),
/* harmony export */   not_equal: () => (/* binding */ not_equal),
/* harmony export */   null_to_empty: () => (/* binding */ null_to_empty),
/* harmony export */   once: () => (/* binding */ once),
/* harmony export */   run: () => (/* binding */ run),
/* harmony export */   run_all: () => (/* binding */ run_all),
/* harmony export */   safe_not_equal: () => (/* binding */ safe_not_equal),
/* harmony export */   set_store_value: () => (/* binding */ set_store_value),
/* harmony export */   split_css_unit: () => (/* binding */ split_css_unit),
/* harmony export */   src_url_equal: () => (/* binding */ src_url_equal),
/* harmony export */   srcset_url_equal: () => (/* binding */ srcset_url_equal),
/* harmony export */   subscribe: () => (/* binding */ subscribe),
/* harmony export */   update_slot: () => (/* binding */ update_slot),
/* harmony export */   update_slot_base: () => (/* binding */ update_slot_base),
/* harmony export */   validate_store: () => (/* binding */ validate_store)
/* harmony export */ });
/** @returns {void} */
function noop() {}
const identity = x => x;

/**
 * @template T
 * @template S
 * @param {T} tar
 * @param {S} src
 * @returns {T & S}
 */
function assign(tar, src) {
  // @ts-ignore
  for (const k in src) tar[k] = src[k];
  return (/** @type {T & S} */tar
  );
}

// Adapted from https://github.com/then/is-promise/blob/master/index.js
// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE
/**
 * @param {any} value
 * @returns {value is PromiseLike<any>}
 */
function is_promise(value) {
  return !!value && (typeof value === 'object' || typeof value === 'function') && typeof /** @type {any} */value.then === 'function';
}

/** @returns {void} */
function add_location(element, file, line, column, char) {
  element.__svelte_meta = {
    loc: {
      file,
      line,
      column,
      char
    }
  };
}
function run(fn) {
  return fn();
}
function blank_object() {
  return Object.create(null);
}

/**
 * @param {Function[]} fns
 * @returns {void}
 */
function run_all(fns) {
  fns.forEach(run);
}

/**
 * @param {any} thing
 * @returns {thing is Function}
 */
function is_function(thing) {
  return typeof thing === 'function';
}

/** @returns {boolean} */
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || a && typeof a === 'object' || typeof a === 'function';
}
let src_url_equal_anchor;

/**
 * @param {string} element_src
 * @param {string} url
 * @returns {boolean}
 */
function src_url_equal(element_src, url) {
  if (element_src === url) return true;
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement('a');
  }
  // This is actually faster than doing URL(..).href
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}

/** @param {string} srcset */
function split_srcset(srcset) {
  return srcset.split(',').map(src => src.trim().split(' ').filter(Boolean));
}

/**
 * @param {HTMLSourceElement | HTMLImageElement} element_srcset
 * @param {string | undefined | null} srcset
 * @returns {boolean}
 */
function srcset_url_equal(element_srcset, srcset) {
  const element_urls = split_srcset(element_srcset.srcset);
  const urls = split_srcset(srcset || '');
  return urls.length === element_urls.length && urls.every(([url, width], i) => width === element_urls[i][1] && (
  // We need to test both ways because Vite will create an a full URL with
  // `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the
  // relative URLs inside srcset are not automatically resolved to absolute URLs by
  // browsers (in contrast to img.src). This means both SSR and DOM code could
  // contain relative or absolute URLs.
  src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0])));
}

/** @returns {boolean} */
function not_equal(a, b) {
  return a != a ? b == b : a !== b;
}

/** @returns {boolean} */
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}

/** @returns {void} */
function validate_store(store, name) {
  if (store != null && typeof store.subscribe !== 'function') {
    throw new Error(`'${name}' is not a store with a 'subscribe' method`);
  }
}
function subscribe(store, ...callbacks) {
  if (store == null) {
    for (const callback of callbacks) {
      callback(undefined);
    }
    return noop;
  }
  const unsub = store.subscribe(...callbacks);
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}

/**
 * Get the current value from a store by subscribing and immediately unsubscribing.
 *
 * https://svelte.dev/docs/svelte-store#get
 * @template T
 * @param {import('../store/public.js').Readable<T>} store
 * @returns {T}
 */
function get_store_value(store) {
  let value;
  subscribe(store, _ => value = _)();
  return value;
}

/** @returns {void} */
function component_subscribe(component, store, callback) {
  component.$$.on_destroy.push(subscribe(store, callback));
}
function create_slot(definition, ctx, $$scope, fn) {
  if (definition) {
    const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
    return definition[0](slot_ctx);
  }
}
function get_slot_context(definition, ctx, $$scope, fn) {
  return definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;
}
function get_slot_changes(definition, $$scope, dirty, fn) {
  if (definition[2] && fn) {
    const lets = definition[2](fn(dirty));
    if ($$scope.dirty === undefined) {
      return lets;
    }
    if (typeof lets === 'object') {
      const merged = [];
      const len = Math.max($$scope.dirty.length, lets.length);
      for (let i = 0; i < len; i += 1) {
        merged[i] = $$scope.dirty[i] | lets[i];
      }
      return merged;
    }
    return $$scope.dirty | lets;
  }
  return $$scope.dirty;
}

/** @returns {void} */
function update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {
  if (slot_changes) {
    const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
    slot.p(slot_context, slot_changes);
  }
}

/** @returns {void} */
function update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {
  const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);
  update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);
}

/** @returns {any[] | -1} */
function get_all_dirty_from_scope($$scope) {
  if ($$scope.ctx.length > 32) {
    const dirty = [];
    const length = $$scope.ctx.length / 32;
    for (let i = 0; i < length; i++) {
      dirty[i] = -1;
    }
    return dirty;
  }
  return -1;
}

/** @returns {{}} */
function exclude_internal_props(props) {
  const result = {};
  for (const k in props) if (k[0] !== '$') result[k] = props[k];
  return result;
}

/** @returns {{}} */
function compute_rest_props(props, keys) {
  const rest = {};
  keys = new Set(keys);
  for (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];
  return rest;
}

/** @returns {{}} */
function compute_slots(slots) {
  const result = {};
  for (const key in slots) {
    result[key] = true;
  }
  return result;
}

/** @returns {(this: any, ...args: any[]) => void} */
function once(fn) {
  let ran = false;
  return function (...args) {
    if (ran) return;
    ran = true;
    fn.call(this, ...args);
  };
}
function null_to_empty(value) {
  return value == null ? '' : value;
}
function set_store_value(store, ret, value) {
  store.set(value);
  return ret;
}
const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
function action_destroyer(action_result) {
  return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;
}

/** @param {number | string} value
 * @returns {[number, string]}
 */
function split_css_unit(value) {
  const split = typeof value === 'string' && value.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);
  return split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */value, 'px'];
}
const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];

/***/ }),

/***/ "./node_modules/svelte/src/runtime/ssr.js":
/*!************************************************!*\
  !*** ./node_modules/svelte/src/runtime/ssr.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SvelteComponent: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.SvelteComponent),
/* harmony export */   SvelteComponentTyped: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.SvelteComponentTyped),
/* harmony export */   afterUpdate: () => (/* binding */ afterUpdate),
/* harmony export */   beforeUpdate: () => (/* binding */ beforeUpdate),
/* harmony export */   createEventDispatcher: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.createEventDispatcher),
/* harmony export */   getAllContexts: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.getAllContexts),
/* harmony export */   getContext: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.getContext),
/* harmony export */   hasContext: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.hasContext),
/* harmony export */   onDestroy: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.onDestroy),
/* harmony export */   onMount: () => (/* binding */ onMount),
/* harmony export */   setContext: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.setContext),
/* harmony export */   tick: () => (/* reexport safe */ _index_js__WEBPACK_IMPORTED_MODULE_0__.tick)
/* harmony export */ });
/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.js */ "./node_modules/svelte/src/runtime/index.js");


/** @returns {void} */
function onMount() {}

/** @returns {void} */
function beforeUpdate() {}

/** @returns {void} */
function afterUpdate() {}

/***/ }),

/***/ "./node_modules/svelte/src/runtime/store/index.js":
/*!********************************************************!*\
  !*** ./node_modules/svelte/src/runtime/store/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   derived: () => (/* binding */ derived),
/* harmony export */   get: () => (/* reexport safe */ _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.get_store_value),
/* harmony export */   readable: () => (/* binding */ readable),
/* harmony export */   readonly: () => (/* binding */ readonly),
/* harmony export */   writable: () => (/* binding */ writable)
/* harmony export */ });
/* harmony import */ var _internal_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../internal/index.js */ "./node_modules/svelte/src/runtime/internal/index.js");

const subscriber_queue = [];

/**
 * Creates a `Readable` store that allows reading by subscription.
 *
 * https://svelte.dev/docs/svelte-store#readable
 * @template T
 * @param {T} [value] initial value
 * @param {import('./public.js').StartStopNotifier<T>} [start]
 * @returns {import('./public.js').Readable<T>}
 */
function readable(value, start) {
  return {
    subscribe: writable(value, start).subscribe
  };
}

/**
 * Create a `Writable` store that allows both updating and reading by subscription.
 *
 * https://svelte.dev/docs/svelte-store#writable
 * @template T
 * @param {T} [value] initial value
 * @param {import('./public.js').StartStopNotifier<T>} [start]
 * @returns {import('./public.js').Writable<T>}
 */
function writable(value, start = _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.noop) {
  /** @type {import('./public.js').Unsubscriber} */
  let stop;
  /** @type {Set<import('./private.js').SubscribeInvalidateTuple<T>>} */
  const subscribers = new Set();
  /** @param {T} new_value
   * @returns {void}
   */
  function set(new_value) {
    if ((0,_internal_index_js__WEBPACK_IMPORTED_MODULE_0__.safe_not_equal)(value, new_value)) {
      value = new_value;
      if (stop) {
        // store is ready
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }

  /**
   * @param {import('./public.js').Updater<T>} fn
   * @returns {void}
   */
  function update(fn) {
    set(fn(value));
  }

  /**
   * @param {import('./public.js').Subscriber<T>} run
   * @param {import('./private.js').Invalidator<T>} [invalidate]
   * @returns {import('./public.js').Unsubscriber}
   */
  function subscribe(run, invalidate = _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.noop) {
    /** @type {import('./private.js').SubscribeInvalidateTuple<T>} */
    const subscriber = [run, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set, update) || _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    }
    run(value);
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0 && stop) {
        stop();
        stop = null;
      }
    };
  }
  return {
    set,
    update,
    subscribe
  };
}

/**
 * Derived value store by synchronizing one or more readable stores and
 * applying an aggregation function over its input values.
 *
 * https://svelte.dev/docs/svelte-store#derived
 * @template {import('./private.js').Stores} S
 * @template T
 * @overload
 * @param {S} stores - input stores
 * @param {(values: import('./private.js').StoresValues<S>, set: (value: T) => void, update: (fn: import('./public.js').Updater<T>) => void) => import('./public.js').Unsubscriber | void} fn - function callback that aggregates the values
 * @param {T} [initial_value] - initial value
 * @returns {import('./public.js').Readable<T>}
 */

/**
 * Derived value store by synchronizing one or more readable stores and
 * applying an aggregation function over its input values.
 *
 * https://svelte.dev/docs/svelte-store#derived
 * @template {import('./private.js').Stores} S
 * @template T
 * @overload
 * @param {S} stores - input stores
 * @param {(values: import('./private.js').StoresValues<S>) => T} fn - function callback that aggregates the values
 * @param {T} [initial_value] - initial value
 * @returns {import('./public.js').Readable<T>}
 */

/**
 * @template {import('./private.js').Stores} S
 * @template T
 * @param {S} stores
 * @param {Function} fn
 * @param {T} [initial_value]
 * @returns {import('./public.js').Readable<T>}
 */
function derived(stores, fn, initial_value) {
  const single = !Array.isArray(stores);
  /** @type {Array<import('./public.js').Readable<any>>} */
  const stores_array = single ? [stores] : stores;
  if (!stores_array.every(Boolean)) {
    throw new Error('derived() expects stores as input, got a falsy value');
  }
  const auto = fn.length < 2;
  return readable(initial_value, (set, update) => {
    let started = false;
    const values = [];
    let pending = 0;
    let cleanup = _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
    const sync = () => {
      if (pending) {
        return;
      }
      cleanup();
      const result = fn(single ? values[0] : values, set, update);
      if (auto) {
        set(result);
      } else {
        cleanup = (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_0__.is_function)(result) ? result : _internal_index_js__WEBPACK_IMPORTED_MODULE_0__.noop;
      }
    };
    const unsubscribers = stores_array.map((store, i) => (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_0__.subscribe)(store, value => {
      values[i] = value;
      pending &= ~(1 << i);
      if (started) {
        sync();
      }
    }, () => {
      pending |= 1 << i;
    }));
    started = true;
    sync();
    return function stop() {
      (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_0__.run_all)(unsubscribers);
      cleanup();
      // We need to set this to false because callbacks can still happen despite having unsubscribed:
      // Callbacks might already be placed in the queue which doesn't know it should no longer
      // invoke this derived store.
      started = false;
    };
  });
}

/**
 * Takes a store and returns a new one derived from the old one that is readable.
 *
 * https://svelte.dev/docs/svelte-store#readonly
 * @template T
 * @param {import('./public.js').Readable<T>} store  - store to make readonly
 * @returns {import('./public.js').Readable<T>}
 */
function readonly(store) {
  return {
    subscribe: store.subscribe.bind(store)
  };
}


/***/ }),

/***/ "./node_modules/svelte/src/runtime/transition/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/svelte/src/runtime/transition/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   blur: () => (/* binding */ blur),
/* harmony export */   crossfade: () => (/* binding */ crossfade),
/* harmony export */   draw: () => (/* binding */ draw),
/* harmony export */   fade: () => (/* binding */ fade),
/* harmony export */   fly: () => (/* binding */ fly),
/* harmony export */   scale: () => (/* binding */ scale),
/* harmony export */   slide: () => (/* binding */ slide)
/* harmony export */ });
/* harmony import */ var _easing_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../easing/index.js */ "./node_modules/svelte/src/runtime/easing/index.js");
/* harmony import */ var _internal_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/index.js */ "./node_modules/svelte/src/runtime/internal/index.js");
const _excluded = ["fallback"];
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



/**
 * Animates a `blur` filter alongside an element's opacity.
 *
 * https://svelte.dev/docs/svelte-transition#blur
 * @param {Element} node
 * @param {import('./public').BlurParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function blur(node, {
  delay = 0,
  duration = 400,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicInOut,
  amount = 5,
  opacity = 0
} = {}) {
  const style = getComputedStyle(node);
  const target_opacity = +style.opacity;
  const f = style.filter === 'none' ? '' : style.filter;
  const od = target_opacity * (1 - opacity);
  const [value, unit] = (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.split_css_unit)(amount);
  return {
    delay,
    duration,
    easing,
    css: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`
  };
}

/**
 * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.
 *
 * https://svelte.dev/docs/svelte-transition#fade
 * @param {Element} node
 * @param {import('./public').FadeParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function fade(node, {
  delay = 0,
  duration = 400,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.linear
} = {}) {
  const o = +getComputedStyle(node).opacity;
  return {
    delay,
    duration,
    easing,
    css: t => `opacity: ${t * o}`
  };
}

/**
 * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.
 *
 * https://svelte.dev/docs/svelte-transition#fly
 * @param {Element} node
 * @param {import('./public').FlyParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function fly(node, {
  delay = 0,
  duration = 400,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicOut,
  x = 0,
  y = 0,
  opacity = 0
} = {}) {
  const style = getComputedStyle(node);
  const target_opacity = +style.opacity;
  const transform = style.transform === 'none' ? '' : style.transform;
  const od = target_opacity * (1 - opacity);
  const [xValue, xUnit] = (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.split_css_unit)(x);
  const [yValue, yUnit] = (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.split_css_unit)(y);
  return {
    delay,
    duration,
    easing,
    css: (t, u) => `
			transform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});
			opacity: ${target_opacity - od * u}`
  };
}

/**
 * Slides an element in and out.
 *
 * https://svelte.dev/docs/svelte-transition#slide
 * @param {Element} node
 * @param {import('./public').SlideParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function slide(node, {
  delay = 0,
  duration = 400,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicOut,
  axis = 'y'
} = {}) {
  const style = getComputedStyle(node);
  const opacity = +style.opacity;
  const primary_property = axis === 'y' ? 'height' : 'width';
  const primary_property_value = parseFloat(style[primary_property]);
  const secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];
  const capitalized_secondary_properties = secondary_properties.map(e => `${e[0].toUpperCase()}${e.slice(1)}`);
  const padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);
  const padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);
  const margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);
  const margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);
  const border_width_start_value = parseFloat(style[`border${capitalized_secondary_properties[0]}Width`]);
  const border_width_end_value = parseFloat(style[`border${capitalized_secondary_properties[1]}Width`]);
  return {
    delay,
    duration,
    easing,
    css: t => 'overflow: hidden;' + `opacity: ${Math.min(t * 20, 1) * opacity};` + `${primary_property}: ${t * primary_property_value}px;` + `padding-${secondary_properties[0]}: ${t * padding_start_value}px;` + `padding-${secondary_properties[1]}: ${t * padding_end_value}px;` + `margin-${secondary_properties[0]}: ${t * margin_start_value}px;` + `margin-${secondary_properties[1]}: ${t * margin_end_value}px;` + `border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` + `border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`
  };
}

/**
 * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.
 *
 * https://svelte.dev/docs/svelte-transition#scale
 * @param {Element} node
 * @param {import('./public').ScaleParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function scale(node, {
  delay = 0,
  duration = 400,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicOut,
  start = 0,
  opacity = 0
} = {}) {
  const style = getComputedStyle(node);
  const target_opacity = +style.opacity;
  const transform = style.transform === 'none' ? '' : style.transform;
  const sd = 1 - start;
  const od = target_opacity * (1 - opacity);
  return {
    delay,
    duration,
    easing,
    css: (_t, u) => `
			transform: ${transform} scale(${1 - sd * u});
			opacity: ${target_opacity - od * u}
		`
  };
}

/**
 * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.
 *
 * https://svelte.dev/docs/svelte-transition#draw
 * @param {SVGElement & { getTotalLength(): number }} node
 * @param {import('./public').DrawParams} [params]
 * @returns {import('./public').TransitionConfig}
 */
function draw(node, {
  delay = 0,
  speed,
  duration,
  easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicInOut
} = {}) {
  let len = node.getTotalLength();
  const style = getComputedStyle(node);
  if (style.strokeLinecap !== 'butt') {
    len += parseInt(style.strokeWidth);
  }
  if (duration === undefined) {
    if (speed === undefined) {
      duration = 800;
    } else {
      duration = len / speed;
    }
  } else if (typeof duration === 'function') {
    duration = duration(len);
  }
  return {
    delay,
    duration,
    easing,
    css: (_, u) => `
			stroke-dasharray: ${len};
			stroke-dashoffset: ${u * len};
		`
  };
}

/**
 * The `crossfade` function creates a pair of [transitions](/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.
 *
 * https://svelte.dev/docs/svelte-transition#crossfade
 * @param {import('./public').CrossfadeParams & {
 * 	fallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;
 * }} params
 * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}
 */
function crossfade(_ref) {
  let {
      fallback
    } = _ref,
    defaults = _objectWithoutProperties(_ref, _excluded);
  /** @type {Map<any, Element>} */
  const to_receive = new Map();
  /** @type {Map<any, Element>} */
  const to_send = new Map();
  /**
   * @param {Element} from_node
   * @param {Element} node
   * @param {import('./public').CrossfadeParams} params
   * @returns {import('./public').TransitionConfig}
   */
  function crossfade(from_node, node, params) {
    const {
      delay = 0,
      duration = d => Math.sqrt(d) * 30,
      easing = _easing_index_js__WEBPACK_IMPORTED_MODULE_0__.cubicOut
    } = (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.assign)((0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.assign)({}, defaults), params);
    const from = from_node.getBoundingClientRect();
    const to = node.getBoundingClientRect();
    const dx = from.left - to.left;
    const dy = from.top - to.top;
    const dw = from.width / to.width;
    const dh = from.height / to.height;
    const d = Math.sqrt(dx * dx + dy * dy);
    const style = getComputedStyle(node);
    const transform = style.transform === 'none' ? '' : style.transform;
    const opacity = +style.opacity;
    return {
      delay,
      duration: (0,_internal_index_js__WEBPACK_IMPORTED_MODULE_1__.is_function)(duration) ? duration(d) : duration,
      easing,
      css: (t, u) => `
				opacity: ${t * opacity};
				transform-origin: top left;
				transform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});
			`
    };
  }

  /**
   * @param {Map<any, Element>} items
   * @param {Map<any, Element>} counterparts
   * @param {boolean} intro
   * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}
   */
  function transition(items, counterparts, intro) {
    return (node, params) => {
      items.set(params.key, node);
      return () => {
        if (counterparts.has(params.key)) {
          const other_node = counterparts.get(params.key);
          counterparts.delete(params.key);
          return crossfade(other_node, node, params);
        }
        // if the node is disappearing altogether
        // (i.e. wasn't claimed by the other list)
        // then we need to supply an outro
        items.delete(params.key);
        return fallback && fallback(node, params, intro);
      };
    };
  }
  return [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];
}

/***/ }),

/***/ "./node_modules/svelte/src/shared/boolean_attributes.js":
/*!**************************************************************!*\
  !*** ./node_modules/svelte/src/shared/boolean_attributes.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   boolean_attributes: () => (/* binding */ boolean_attributes)
/* harmony export */ });
const _boolean_attributes = /** @type {const} */['allowfullscreen', 'allowpaymentrequest', 'async', 'autofocus', 'autoplay', 'checked', 'controls', 'default', 'defer', 'disabled', 'formnovalidate', 'hidden', 'inert', 'ismap', 'loop', 'multiple', 'muted', 'nomodule', 'novalidate', 'open', 'playsinline', 'readonly', 'required', 'reversed', 'selected'];

/**
 * List of HTML boolean attributes (e.g. `<input disabled>`).
 * Source: https://html.spec.whatwg.org/multipage/indices.html
 *
 * @type {Set<string>}
 */
const boolean_attributes = new Set([..._boolean_attributes]);

/** @typedef {typeof _boolean_attributes[number]} BooleanAttributes */

/***/ }),

/***/ "./node_modules/svelte/src/shared/utils/names.js":
/*!*******************************************************!*\
  !*** ./node_modules/svelte/src/shared/utils/names.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   is_html: () => (/* binding */ is_html),
/* harmony export */   is_svg: () => (/* binding */ is_svg),
/* harmony export */   is_void: () => (/* binding */ is_void)
/* harmony export */ });
/** regex of all html void element names */
const void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;

/** regex of all html element names. svg and math are omitted because they belong to the svg elements namespace */
const html_element_names = /^(?:a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|main|map|mark|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr)$/;

/** regex of all svg element names */
const svg = /^(?:altGlyph|altGlyphDef|altGlyphItem|animate|animateColor|animateMotion|animateTransform|circle|clipPath|color-profile|cursor|defs|desc|discard|ellipse|feBlend|feColorMatrix|feComponentTransfer|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feImage|feMerge|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting|feSpotLight|feTile|feTurbulence|filter|font|font-face|font-face-format|font-face-name|font-face-src|font-face-uri|foreignObject|g|glyph|glyphRef|hatch|hatchpath|hkern|image|line|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|metadata|missing-glyph|mpath|path|pattern|polygon|polyline|radialGradient|rect|set|solidcolor|stop|svg|switch|symbol|text|textPath|tref|tspan|unknown|use|view|vkern)$/;

/**
 * @param {string} name
 * @returns {boolean}
 */
function is_void(name) {
  return void_element_names.test(name) || name.toLowerCase() === '!doctype';
}

/**
 * @param {string} name
 * @returns {boolean}
 */
function is_html(name) {
  return html_element_names.test(name);
}

/**
 * @param {string} name
 * @returns {boolean}
 */
function is_svg(name) {
  return svg.test(name);
}

/***/ }),

/***/ "./node_modules/svelte/src/shared/version.js":
/*!***************************************************!*\
  !*** ./node_modules/svelte/src/shared/version.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PUBLIC_VERSION: () => (/* binding */ PUBLIC_VERSION),
/* harmony export */   VERSION: () => (/* binding */ VERSION)
/* harmony export */ });
// generated during release, do not modify

/**
 * The current version, as set in package.json.
 *
 * https://svelte.dev/docs/svelte-compiler#svelte-version
 * @type {string}
 */
const VERSION = '4.2.0';
const PUBLIC_VERSION = '4';

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!***********************!*\
  !*** ./src/server.ts ***!
  \***********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createGlobalVariablesController: () => (/* reexport safe */ _expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_1__.createGlobalVariablesController),
/* harmony export */   createVariable: () => (/* reexport safe */ _expressions_variable__WEBPACK_IMPORTED_MODULE_2__.createVariable),
/* harmony export */   render: () => (/* binding */ render)
/* harmony export */ });
/* harmony import */ var _components_Root_svelte__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Root.svelte */ "./src/components/Root.svelte");
/* harmony import */ var _expressions_globalVariablesController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expressions/globalVariablesController */ "./src/expressions/globalVariablesController.ts");
/* harmony import */ var _expressions_variable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./expressions/variable */ "./src/expressions/variable.ts");

function render(opts) {
  // Root has client-side typings, not a server one
  return _components_Root_svelte__WEBPACK_IMPORTED_MODULE_0__["default"].render(opts).html;
}


})();

var __webpack_export_target__ = exports;
for(var i in __webpack_exports__) __webpack_export_target__[i] = __webpack_exports__[i];
if(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, "__esModule", { value: true });
/******/ })()
;
//# sourceMappingURL=server.js.map